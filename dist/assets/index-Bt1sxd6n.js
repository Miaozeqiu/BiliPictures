const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutView-Bh5KwpMd.js","assets/AboutView-DCcog58r.css"])))=>i.map(i=>d[i]);
var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(e&&(t=e(e=0)),t),s=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),c=(e,n)=>{for(var r in n)t(e,r,{get:n[r],enumerable:!0})},l=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},u=(n,r,a)=>(a=n==null?{}:e(i(n)),l(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n)),d=e=>l(t({},`__esModule`,{value:!0}),e);(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e){if(t.type!==`childList`)continue;for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();
/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/*! #__NO_SIDE_EFFECTS__ */
function f(e){let t=Object.create(null);for(let n of e.split(`,`))t[n]=1;return e=>e in t}const p={},m=[],h=()=>{},g=()=>!1,_=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),v=e=>e.startsWith(`onUpdate:`),y=Object.assign,b=(e,t)=>{let n=e.indexOf(t);n>-1&&e.splice(n,1)},x=Object.prototype.hasOwnProperty,S=(e,t)=>x.call(e,t),C=Array.isArray,w=e=>re(e)===`[object Map]`,T=e=>re(e)===`[object Set]`,ee=e=>re(e)===`[object Date]`,E=e=>typeof e==`function`,D=e=>typeof e==`string`,O=e=>typeof e==`symbol`,k=e=>typeof e==`object`&&!!e,te=e=>(k(e)||E(e))&&E(e.then)&&E(e.catch),ne=Object.prototype.toString,re=e=>ne.call(e),ie=e=>re(e).slice(8,-1),ae=e=>re(e)===`[object Object]`,A=e=>D(e)&&e!==`NaN`&&e[0]!==`-`&&``+parseInt(e,10)===e,oe=f(`,key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted`),se=e=>{let t=Object.create(null);return n=>{let r=t[n];return r||(t[n]=e(n))}},ce=/-(\w)/g,le=se(e=>e.replace(ce,(e,t)=>t?t.toUpperCase():``)),ue=/\B([A-Z])/g,j=se(e=>e.replace(ue,`-$1`).toLowerCase()),de=se(e=>e.charAt(0).toUpperCase()+e.slice(1)),fe=se(e=>{let t=e?`on${de(e)}`:``;return t}),pe=(e,t)=>!Object.is(e,t),me=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},he=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},ge=e=>{let t=parseFloat(e);return isNaN(t)?e:t};let _e;const ve=()=>_e||=typeof globalThis<`u`?globalThis:typeof self<`u`?self:typeof window<`u`?window:typeof global<`u`?global:{};function ye(e){if(C(e)){let t={};for(let n=0;n<e.length;n++){let r=e[n],i=D(r)?Ce(r):ye(r);if(i)for(let e in i)t[e]=i[e]}return t}else if(D(e)||k(e))return e}const be=/;(?![^(]*\))/g,xe=/:([^]+)/,Se=/\/\*[^]*?\*\//g;function Ce(e){let t={};return e.replace(Se,``).split(be).forEach(e=>{if(e){let n=e.split(xe);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function we(e){let t=``;if(D(e))t=e;else if(C(e))for(let n=0;n<e.length;n++){let r=we(e[n]);r&&(t+=r+` `)}else if(k(e))for(let n in e)e[n]&&(t+=n+` `);return t.trim()}const Te=`itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`,Ee=f(Te);Te+``;function De(e){return!!e||e===``}function Oe(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=ke(e[r],t[r]);return n}function ke(e,t){if(e===t)return!0;let n=ee(e),r=ee(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=O(e),r=O(t),n||r)return e===t;if(n=C(e),r=C(t),n||r)return n&&r?Oe(e,t):!1;if(n=k(e),r=k(t),n||r){if(!n||!r)return!1;let i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(let n in e){let r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!ke(e[n],t[n]))return!1}}return String(e)===String(t)}const Ae=e=>!!(e&&e.__v_isRef===!0),je=e=>D(e)?e:e==null?``:C(e)||k(e)&&(e.toString===ne||!E(e.toString))?Ae(e)?je(e.value):JSON.stringify(e,Me,2):String(e),Me=(e,t)=>Ae(t)?Me(e,t.value):w(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n],r)=>(e[Ne(t,r)+` =>`]=n,e),{})}:T(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Ne(e))}:O(t)?Ne(t):k(t)&&!C(t)&&!ae(t)?String(t):t,Ne=(e,t=``)=>{var n;return O(e)?`Symbol(${(n=e.description)??t})`:e};let Pe;var Fe=class{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pe,!e&&Pe&&(this.index=(Pe.scopes||=[]).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){let t=Pe;try{return Pe=this,e()}finally{Pe=t}}}on(){++this._on===1&&(this.prevScope=Pe,Pe=this)}off(){this._on>0&&--this._on===0&&(Pe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){let e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}};function Ie(){return Pe}let M;const Le=new WeakSet;var Re=class{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pe&&Pe.active&&Pe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Le.has(this)&&(Le.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||He(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,tt(this),Ge(this);let e=M,t=Ze;M=this,Ze=!0;try{return this.fn()}finally{Ke(this),M=e,Ze=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ye(e);this.deps=this.depsTail=void 0,tt(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Le.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){qe(this)&&this.run()}get dirty(){return qe(this)}};let ze=0,Be,Ve;function He(e,t=!1){if(e.flags|=8,t){e.next=Ve,Ve=e;return}e.next=Be,Be=e}function Ue(){ze++}function We(){if(--ze>0)return;if(Ve){let e=Ve;for(Ve=void 0;e;){let t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;Be;){let t=Be;for(Be=void 0;t;){let n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(t){e||=t}t=n}}if(e)throw e}function Ge(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ke(e){let t,n=e.depsTail,r=n;for(;r;){let e=r.prevDep;r.version===-1?(r===n&&(n=e),Ye(r),Xe(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=e}e.deps=t,e.depsTail=n}function qe(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Je(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Je(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===nt)||(e.globalVersion=nt,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!qe(e))))return;e.flags|=2;let t=e.dep,n=M,r=Ze;M=e,Ze=!0;try{Ge(e);let n=e.fn(e._value);(t.version===0||pe(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(e){throw t.version++,e}finally{M=n,Ze=r,Ke(e),e.flags&=-3}}function Ye(e,t=!1){let{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)Ye(e,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Xe(e){let{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ze=!0;const Qe=[];function $e(){Qe.push(Ze),Ze=!1}function et(){let e=Qe.pop();Ze=e===void 0?!0:e}function tt(e){let{cleanup:t}=e;if(e.cleanup=void 0,t){let e=M;M=void 0;try{t()}finally{M=e}}}let nt=0;var rt=class{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}},it=class{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!M||!Ze||M===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==M)t=this.activeLink=new rt(M,this),M.deps?(t.prevDep=M.depsTail,M.depsTail.nextDep=t,M.depsTail=t):M.deps=M.depsTail=t,at(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){let e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=M.depsTail,t.nextDep=void 0,M.depsTail.nextDep=t,M.depsTail=t,M.deps===t&&(M.deps=e)}return t}trigger(e){this.version++,nt++,this.notify(e)}notify(e){Ue();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{We()}}};function at(e){if(e.dep.sc++,e.sub.flags&4){let t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)at(e)}let n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ot=new WeakMap,st=Symbol(``),ct=Symbol(``),lt=Symbol(``);function N(e,t,n){if(Ze&&M){let t=ot.get(e);t||ot.set(e,t=new Map);let r=t.get(n);r||(t.set(n,r=new it),r.map=t,r.key=n),r.track()}}function ut(e,t,n,r,i,a){let o=ot.get(e);if(!o){nt++;return}let s=e=>{e&&e.trigger()};if(Ue(),t===`clear`)o.forEach(s);else{let i=C(e),a=i&&A(n);if(i&&n===`length`){let e=Number(r);o.forEach((t,n)=>{(n===`length`||n===lt||!O(n)&&n>=e)&&s(t)})}else switch((n!==void 0||o.has(void 0))&&s(o.get(n)),a&&s(o.get(lt)),t){case`add`:i?a&&s(o.get(`length`)):(s(o.get(st)),w(e)&&s(o.get(ct)));break;case`delete`:i||(s(o.get(st)),w(e)&&s(o.get(ct)));break;case`set`:w(e)&&s(o.get(st));break}}We()}function dt(e){let t=P(e);return t===e?t:(N(t,`iterate`,lt),Xt(e)?t:t.map(F))}function ft(e){return N(e=P(e),`iterate`,lt),e}const pt={__proto__:null,[Symbol.iterator](){return mt(this,Symbol.iterator,F)},concat(...e){return dt(this).concat(...e.map(e=>C(e)?dt(e):e))},entries(){return mt(this,`entries`,e=>(e[1]=F(e[1]),e))},every(e,t){return gt(this,`every`,e,t,void 0,arguments)},filter(e,t){return gt(this,`filter`,e,t,e=>e.map(F),arguments)},find(e,t){return gt(this,`find`,e,t,F,arguments)},findIndex(e,t){return gt(this,`findIndex`,e,t,void 0,arguments)},findLast(e,t){return gt(this,`findLast`,e,t,F,arguments)},findLastIndex(e,t){return gt(this,`findLastIndex`,e,t,void 0,arguments)},forEach(e,t){return gt(this,`forEach`,e,t,void 0,arguments)},includes(...e){return vt(this,`includes`,e)},indexOf(...e){return vt(this,`indexOf`,e)},join(e){return dt(this).join(e)},lastIndexOf(...e){return vt(this,`lastIndexOf`,e)},map(e,t){return gt(this,`map`,e,t,void 0,arguments)},pop(){return yt(this,`pop`)},push(...e){return yt(this,`push`,e)},reduce(e,...t){return _t(this,`reduce`,e,t)},reduceRight(e,...t){return _t(this,`reduceRight`,e,t)},shift(){return yt(this,`shift`)},some(e,t){return gt(this,`some`,e,t,void 0,arguments)},splice(...e){return yt(this,`splice`,e)},toReversed(){return dt(this).toReversed()},toSorted(e){return dt(this).toSorted(e)},toSpliced(...e){return dt(this).toSpliced(...e)},unshift(...e){return yt(this,`unshift`,e)},values(){return mt(this,`values`,F)}};function mt(e,t,n){let r=ft(e),i=r[t]();return r!==e&&!Xt(e)&&(i._next=i.next,i.next=()=>{let e=i._next();return e.value&&=n(e.value),e}),i}const ht=Array.prototype;function gt(e,t,n,r,i,a){let o=ft(e),s=o!==e&&!Xt(e),c=o[t];if(c!==ht[t]){let t=c.apply(e,a);return s?F(t):t}let l=n;o!==e&&(s?l=function(t,r){return n.call(this,F(t),r,e)}:n.length>2&&(l=function(t,r){return n.call(this,t,r,e)}));let u=c.call(o,l,r);return s&&i?i(u):u}function _t(e,t,n,r){let i=ft(e),a=n;return i!==e&&(Xt(e)?n.length>3&&(a=function(t,r,i){return n.call(this,t,r,i,e)}):a=function(t,r,i){return n.call(this,t,F(r),i,e)}),i[t](a,...r)}function vt(e,t,n){let r=P(e);N(r,`iterate`,lt);let i=r[t](...n);return(i===-1||i===!1)&&Zt(n[0])?(n[0]=P(n[0]),r[t](...n)):i}function yt(e,t,n=[]){$e(),Ue();let r=P(e)[t].apply(e,n);return We(),et(),r}const bt=f(`__proto__,__v_isRef,__isVue`),xt=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!==`arguments`&&e!==`caller`).map(e=>Symbol[e]).filter(O));function St(e){O(e)||(e=String(e));let t=P(this);return N(t,`has`,e),t.hasOwnProperty(e)}var Ct=class{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t===`__v_skip`)return e.__v_skip;let r=this._isReadonly,i=this._isShallow;if(t===`__v_isReactive`)return!r;if(t===`__v_isReadonly`)return r;if(t===`__v_isShallow`)return i;if(t===`__v_raw`)return n===(r?i?Vt:Bt:i?zt:Rt).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;let a=C(e);if(!r){let e;if(a&&(e=pt[t]))return e;if(t===`hasOwnProperty`)return St}let o=Reflect.get(e,t,I(e)?e:n);return(O(t)?xt.has(t):bt(t))||(r||N(e,`get`,t),i)?o:I(o)?a&&A(t)?o:o.value:k(o)?r?Kt(o):Wt(o):o}},wt=class extends Ct{constructor(e=!1){super(!1,e)}set(e,t,n,r){let i=e[t];if(!this._isShallow){let t=Yt(i);if(!Xt(n)&&!Yt(n)&&(i=P(i),n=P(n)),!C(e)&&I(i)&&!I(n))return t?!1:(i.value=n,!0)}let a=C(e)&&A(t)?Number(t)<e.length:S(e,t),o=Reflect.set(e,t,n,I(e)?e:r);return e===P(r)&&(a?pe(n,i)&&ut(e,`set`,t,n,i):ut(e,`add`,t,n)),o}deleteProperty(e,t){let n=S(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&ut(e,`delete`,t,void 0,r),i}has(e,t){let n=Reflect.has(e,t);return(!O(t)||!xt.has(t))&&N(e,`has`,t),n}ownKeys(e){return N(e,`iterate`,C(e)?`length`:st),Reflect.ownKeys(e)}},Tt=class extends Ct{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}};const Et=new wt,Dt=new Tt,Ot=new wt(!0),kt=e=>e,At=e=>Reflect.getPrototypeOf(e);function jt(e,t,n){return function(...r){let i=this.__v_raw,a=P(i),o=w(a),s=e===`entries`||e===Symbol.iterator&&o,c=e===`keys`&&o,l=i[e](...r),u=n?kt:t?$t:F;return!t&&N(a,`iterate`,c?ct:st),{next(){let{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:s?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function Mt(e){return function(...t){return e===`delete`?!1:e===`clear`?void 0:this}}function Nt(e,t){let n={get(n){let r=this.__v_raw,i=P(r),a=P(n);e||(pe(n,a)&&N(i,`get`,n),N(i,`get`,a));let{has:o}=At(i),s=t?kt:e?$t:F;if(o.call(i,n))return s(r.get(n));if(o.call(i,a))return s(r.get(a));r!==i&&r.get(n)},get size(){let t=this.__v_raw;return!e&&N(P(t),`iterate`,st),Reflect.get(t,`size`,t)},has(t){let n=this.__v_raw,r=P(n),i=P(t);return e||(pe(t,i)&&N(r,`has`,t),N(r,`has`,i)),t===i?n.has(t):n.has(t)||n.has(i)},forEach(n,r){let i=this,a=i.__v_raw,o=P(a),s=t?kt:e?$t:F;return!e&&N(o,`iterate`,st),a.forEach((e,t)=>n.call(r,s(e),s(t),i))}};y(n,e?{add:Mt(`add`),set:Mt(`set`),delete:Mt(`delete`),clear:Mt(`clear`)}:{add(e){!t&&!Xt(e)&&!Yt(e)&&(e=P(e));let n=P(this),r=At(n),i=r.has.call(n,e);return i||(n.add(e),ut(n,`add`,e,e)),this},set(e,n){!t&&!Xt(n)&&!Yt(n)&&(n=P(n));let r=P(this),{has:i,get:a}=At(r),o=i.call(r,e);o||(e=P(e),o=i.call(r,e));let s=a.call(r,e);return r.set(e,n),o?pe(n,s)&&ut(r,`set`,e,n,s):ut(r,`add`,e,n),this},delete(e){let t=P(this),{has:n,get:r}=At(t),i=n.call(t,e);i||(e=P(e),i=n.call(t,e));let a=r?r.call(t,e):void 0,o=t.delete(e);return i&&ut(t,`delete`,e,void 0,a),o},clear(){let e=P(this),t=e.size!==0,n,r=e.clear();return t&&ut(e,`clear`,void 0,void 0,n),r}});let r=[`keys`,`values`,`entries`,Symbol.iterator];return r.forEach(r=>{n[r]=jt(r,e,t)}),n}function Pt(e,t){let n=Nt(e,t);return(t,r,i)=>r===`__v_isReactive`?!e:r===`__v_isReadonly`?e:r===`__v_raw`?t:Reflect.get(S(n,r)&&r in t?n:t,r,i)}const Ft={get:Pt(!1,!1)},It={get:Pt(!1,!0)},Lt={get:Pt(!0,!1)},Rt=new WeakMap,zt=new WeakMap,Bt=new WeakMap,Vt=new WeakMap;function Ht(e){switch(e){case`Object`:case`Array`:return 1;case`Map`:case`Set`:case`WeakMap`:case`WeakSet`:return 2;default:return 0}}function Ut(e){return e.__v_skip||!Object.isExtensible(e)?0:Ht(ie(e))}function Wt(e){return Yt(e)?e:qt(e,!1,Et,Ft,Rt)}function Gt(e){return qt(e,!1,Ot,It,zt)}function Kt(e){return qt(e,!0,Dt,Lt,Bt)}function qt(e,t,n,r,i){if(!k(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;let a=Ut(e);if(a===0)return e;let o=i.get(e);if(o)return o;let s=new Proxy(e,a===2?r:n);return i.set(e,s),s}function Jt(e){return Yt(e)?Jt(e.__v_raw):!!(e&&e.__v_isReactive)}function Yt(e){return!!(e&&e.__v_isReadonly)}function Xt(e){return!!(e&&e.__v_isShallow)}function Zt(e){return e?!!e.__v_raw:!1}function P(e){let t=e&&e.__v_raw;return t?P(t):e}function Qt(e){return!S(e,`__v_skip`)&&Object.isExtensible(e)&&he(e,`__v_skip`,!0),e}const F=e=>k(e)?Wt(e):e,$t=e=>k(e)?Kt(e):e;function I(e){return e?e.__v_isRef===!0:!1}function L(e){return tn(e,!1)}function en(e){return tn(e,!0)}function tn(e,t){return I(e)?e:new nn(e,t)}var nn=class{constructor(e,t){this.dep=new it,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:P(e),this._value=t?e:F(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){let t=this._rawValue,n=this.__v_isShallow||Xt(e)||Yt(e);e=n?e:P(e),pe(e,t)&&(this._rawValue=e,this._value=n?e:F(e),this.dep.trigger())}};function rn(e){return I(e)?e.value:e}const an={get:(e,t,n)=>t===`__v_raw`?e:rn(Reflect.get(e,t,n)),set:(e,t,n,r)=>{let i=e[t];return I(i)&&!I(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function on(e){return Jt(e)?e:new Proxy(e,an)}var sn=class{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new it(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=nt-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&M!==this)return He(this,!0),!0}get value(){let e=this.dep.track();return Je(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}};function cn(e,t,n=!1){let r,i;E(e)?r=e:(r=e.get,i=e.set);let a=new sn(r,i,n);return a}const ln={},un=new WeakMap;let dn;function fn(e,t=!1,n=dn){if(n){let t=un.get(n);t||un.set(n,t=[]),t.push(e)}}function pn(e,t,n=p){let{immediate:r,deep:i,once:a,scheduler:o,augmentJob:s,call:c}=n,l=e=>i?e:Xt(e)||i===!1||i===0?mn(e,1):mn(e),u,d,f,m,g=!1,_=!1;if(I(e)?(d=()=>e.value,g=Xt(e)):Jt(e)?(d=()=>l(e),g=!0):C(e)?(_=!0,g=e.some(e=>Jt(e)||Xt(e)),d=()=>e.map(e=>{if(I(e))return e.value;if(Jt(e))return l(e);if(E(e))return c?c(e,2):e()})):d=E(e)?t?c?()=>c(e,2):e:()=>{if(f){$e();try{f()}finally{et()}}let t=dn;dn=u;try{return c?c(e,3,[m]):e(m)}finally{dn=t}}:h,t&&i){let e=d,t=i===!0?1/0:i;d=()=>mn(e(),t)}let v=Ie(),y=()=>{u.stop(),v&&v.active&&b(v.effects,u)};if(a&&t){let e=t;t=(...t)=>{e(...t),y()}}let x=_?Array(e.length).fill(ln):ln,S=e=>{if(!(!(u.flags&1)||!u.dirty&&!e))if(t){let e=u.run();if(i||g||(_?e.some((e,t)=>pe(e,x[t])):pe(e,x))){f&&f();let n=dn;dn=u;try{let n=[e,x===ln?void 0:_&&x[0]===ln?[]:x,m];x=e,c?c(t,3,n):t(...n)}finally{dn=n}}}else u.run()};return s&&s(S),u=new Re(d),u.scheduler=o?()=>o(S,!1):S,m=e=>fn(e,!1,u),f=u.onStop=()=>{let e=un.get(u);if(e){if(c)c(e,4);else for(let t of e)t();un.delete(u)}},t?r?S(!0):x=u.run():o?o(S.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function mn(e,t=1/0,n){if(t<=0||!k(e)||e.__v_skip||(n||=new Set,n.has(e)))return e;if(n.add(e),t--,I(e))mn(e.value,t,n);else if(C(e))for(let r=0;r<e.length;r++)mn(e[r],t,n);else if(T(e)||w(e))e.forEach(e=>{mn(e,t,n)});else if(ae(e)){for(let r in e)mn(e[r],t,n);for(let r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&mn(e[r],t,n)}return e}function hn(e,t,n,r){try{return r?e(...r):e()}catch(e){_n(e,t,n)}}function gn(e,t,n,r){if(E(e)){let i=hn(e,t,n,r);return i&&te(i)&&i.catch(e=>{_n(e,t,n)}),i}if(C(e)){let i=[];for(let a=0;a<e.length;a++)i.push(gn(e[a],t,n,r));return i}}function _n(e,t,n,r=!0){let i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||p;if(t){let r=t.parent,i=t.proxy,o=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){let t=r.ec;if(t){for(let n=0;n<t.length;n++)if(t[n](e,i,o)===!1)return}r=r.parent}if(a){$e(),hn(a,null,10,[e,i,o]),et();return}}vn(e,n,i,r,o)}function vn(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const R=[];let yn=-1;const bn=[];let xn=null,Sn=0;const Cn=Promise.resolve();let wn=null;function Tn(e){let t=wn||Cn;return e?t.then(this?e.bind(this):e):t}function En(e){let t=yn+1,n=R.length;for(;t<n;){let r=t+n>>>1,i=R[r],a=Mn(i);a<e||a===e&&i.flags&2?t=r+1:n=r}return t}function Dn(e){if(!(e.flags&1)){let t=Mn(e),n=R[R.length-1];!n||!(e.flags&2)&&t>=Mn(n)?R.push(e):R.splice(En(t),0,e),e.flags|=1,On()}}function On(){wn||=Cn.then(Nn)}function kn(e){C(e)?bn.push(...e):xn&&e.id===-1?xn.splice(Sn+1,0,e):e.flags&1||(bn.push(e),e.flags|=1),On()}function An(e,t,n=yn+1){for(;n<R.length;n++){let t=R[n];if(t&&t.flags&2){if(e&&t.id!==e.uid)continue;R.splice(n,1),n--,t.flags&4&&(t.flags&=-2),t(),t.flags&4||(t.flags&=-2)}}}function jn(e){if(bn.length){let e=[...new Set(bn)].sort((e,t)=>Mn(e)-Mn(t));if(bn.length=0,xn){xn.push(...e);return}for(xn=e,Sn=0;Sn<xn.length;Sn++){let e=xn[Sn];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}xn=null,Sn=0}}const Mn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Nn(e){try{for(yn=0;yn<R.length;yn++){let e=R[yn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),hn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;yn<R.length;yn++){let e=R[yn];e&&(e.flags&=-2)}yn=-1,R.length=0,jn(e),wn=null,(R.length||bn.length)&&Nn(e)}}let Pn=null,Fn=null;function In(e){let t=Pn;return Pn=e,Fn=e&&e.type.__scopeId||null,t}function Ln(e,t=Pn,n){if(!t||e._n)return e;let r=(...n)=>{r._d&&Fi(-1);let i=In(t),a;try{a=e(...n)}finally{In(i),r._d&&Fi(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Rn(e,t){if(Pn===null)return e;let n=_a(Pn),r=e.dirs||=[];for(let e=0;e<t.length;e++){let[i,a,o,s=p]=t[e];i&&(E(i)&&(i={mounted:i,updated:i}),i.deep&&mn(a),r.push({dir:i,instance:n,value:a,oldValue:void 0,arg:o,modifiers:s}))}return e}function zn(e,t,n,r){let i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){let s=i[o];a&&(s.oldValue=a[o].value);let c=s.dir[r];c&&($e(),gn(c,n,8,[e.el,s,e,t]),et())}}const Bn=Symbol(`_vte`),Vn=e=>e.__isTeleport;Symbol(`_leaveCb`),Symbol(`_enterCb`);function Hn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Hn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}
/*! #__NO_SIDE_EFFECTS__ */
function Un(e,t){return E(e)?(()=>y({name:e.name},t,{setup:e}))():e}function Wn(e){e.ids=[e.ids[0]+ e.ids[2]+++`-`,0,0]}function Gn(e,t,n,r,i=!1){if(C(e)){e.forEach((e,a)=>Gn(e,t&&(C(t)?t[a]:t),n,r,i));return}if(Kn(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Gn(e,t,n,r.component.subTree);return}let a=r.shapeFlag&4?_a(r.component):r.el,o=i?null:a,{i:s,r:c}=e,l=t&&t.r,u=s.refs===p?s.refs={}:s.refs,d=s.setupState,f=P(d),m=d===p?()=>!1:e=>S(f,e);if(l!=null&&l!==c&&(D(l)?(u[l]=null,m(l)&&(d[l]=null)):I(l)&&(l.value=null)),E(c))hn(c,s,12,[o,u]);else{let t=D(c),r=I(c);if(t||r){let s=()=>{if(e.f){let n=t?m(c)?d[c]:u[c]:c.value;i?C(n)&&b(n,a):C(n)?n.includes(a)||n.push(a):t?(u[c]=[a],m(c)&&(d[c]=u[c])):(c.value=[a],e.k&&(u[e.k]=c.value))}else t?(u[c]=o,m(c)&&(d[c]=o)):r&&(c.value=o,e.k&&(u[e.k]=o))};o?(s.id=-1,ei(s,n)):s()}}}ve().requestIdleCallback,ve().cancelIdleCallback;const Kn=e=>!!e.type.__asyncLoader,qn=e=>e.type.__isKeepAlive;function Jn(e,t){Xn(e,`a`,t)}function Yn(e,t){Xn(e,`da`,t)}function Xn(e,t,n=K){let r=e.__wdc||=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()};if(Qn(t,r,n),n){let e=n.parent;for(;e&&e.parent;)qn(e.parent.vnode)&&Zn(r,t,n,e),e=e.parent}}function Zn(e,t,n,r){let i=Qn(t,e,r,!0);ar(()=>{b(r[t],i)},n)}function Qn(e,t,n=K,r=!1){if(n){let i=n[e]||(n[e]=[]),a=t.__weh||=(...r)=>{$e();let i=aa(n),a=gn(t,n,e,r);return i(),et(),a};return r?i.unshift(a):i.push(a),a}}const $n=e=>(t,n=K)=>{(!ca||e===`sp`)&&Qn(e,(...e)=>t(...e),n)},er=$n(`bm`),tr=$n(`m`),nr=$n(`bu`),rr=$n(`u`),ir=$n(`bum`),ar=$n(`um`),or=$n(`sp`),sr=$n(`rtg`),cr=$n(`rtc`);function lr(e,t=K){Qn(`ec`,e,t)}const ur=Symbol.for(`v-ndc`);function dr(e,t,n,r){let i,a=n&&n[r],o=C(e);if(o||D(e)){let n=o&&Jt(e),r=!1,s=!1;n&&(r=!Xt(e),s=Yt(e),e=ft(e)),i=Array(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=t(r?s?$t(F(e[n])):F(e[n]):e[n],n,void 0,a&&a[n])}else if(typeof e==`number`){i=Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,a&&a[n])}else if(k(e))if(e[Symbol.iterator])i=Array.from(e,(e,n)=>t(e,n,void 0,a&&a[n]));else{let n=Object.keys(e);i=Array(n.length);for(let r=0,o=n.length;r<o;r++){let o=n[r];i[r]=t(e[o],o,r,a&&a[r])}}else i=[];return n&&(n[r]=i),i}const fr=e=>e?sa(e)?_a(e):fr(e.parent):null,pr=y(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>fr(e.parent),$root:e=>fr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Sr(e),$forceUpdate:e=>e.f||=()=>{Dn(e.update)},$nextTick:e=>e.n||=Tn.bind(e.proxy),$watch:e=>mi.bind(e)}),mr=(e,t)=>e!==p&&!e.__isScriptSetup&&S(e,t),hr={get({_:e},t){if(t===`__v_skip`)return!0;let{ctx:n,setupState:r,data:i,props:a,accessCache:o,type:s,appContext:c}=e,l;if(t[0]!==`$`){let s=o[t];if(s!==void 0)switch(s){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else if(mr(r,t))return o[t]=1,r[t];else if(i!==p&&S(i,t))return o[t]=2,i[t];else if((l=e.propsOptions[0])&&S(l,t))return o[t]=3,a[t];else if(n!==p&&S(n,t))return o[t]=4,n[t];else _r&&(o[t]=0)}let u=pr[t],d,f;if(u)return t===`$attrs`&&N(e.attrs,`get`,``),u(e);if((d=s.__cssModules)&&(d=d[t]))return d;if(n!==p&&S(n,t))return o[t]=4,n[t];if(f=c.config.globalProperties,S(f,t))return f[t]},set({_:e},t,n){let{data:r,setupState:i,ctx:a}=e;return mr(i,t)?(i[t]=n,!0):r!==p&&S(r,t)?(r[t]=n,!0):S(e.props,t)||t[0]===`$`&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:a}},o){let s;return!!n[o]||e!==p&&S(e,o)||mr(t,o)||(s=a[0])&&S(s,o)||S(r,o)||S(pr,o)||S(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get==null?S(n,`value`)&&this.set(e,t,n.value,null):e._.accessCache[t]=0,Reflect.defineProperty(e,t,n)}};function gr(e){return C(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}let _r=!0;function vr(e){let t=Sr(e),n=e.proxy,r=e.ctx;_r=!1,t.beforeCreate&&br(t.beforeCreate,e,`bc`);let{data:i,computed:a,methods:o,watch:s,provide:c,inject:l,created:u,beforeMount:d,mounted:f,beforeUpdate:p,updated:m,activated:g,deactivated:_,beforeDestroy:v,beforeUnmount:y,destroyed:b,unmounted:x,render:S,renderTracked:w,renderTriggered:T,errorCaptured:ee,serverPrefetch:D,expose:O,inheritAttrs:te,components:ne,directives:re,filters:ie}=t,ae=null;if(l&&yr(l,r,ae),o)for(let e in o){let t=o[e];E(t)&&(r[e]=t.bind(n))}if(i){let t=i.call(n,n);k(t)&&(e.data=Wt(t))}if(_r=!0,a)for(let e in a){let t=a[e],i=E(t)?t.bind(n,n):E(t.get)?t.get.bind(n,n):h,o=!E(t)&&E(t.set)?t.set.bind(n):h,s=ya({get:i,set:o});Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e})}if(s)for(let e in s)xr(s[e],r,n,e);if(c){let e=E(c)?c.call(n):c;Reflect.ownKeys(e).forEach(t=>{Fr(t,e[t])})}u&&br(u,e,`c`);function A(e,t){C(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(A(er,d),A(tr,f),A(nr,p),A(rr,m),A(Jn,g),A(Yn,_),A(lr,ee),A(cr,w),A(sr,T),A(ir,y),A(ar,x),A(or,D),C(O))if(O.length){let t=e.exposed||={};O.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t,enumerable:!0})})}else e.exposed||={};S&&e.render===h&&(e.render=S),te!=null&&(e.inheritAttrs=te),ne&&(e.components=ne),re&&(e.directives=re),D&&Wn(e)}function yr(e,t,n=h){for(let n in C(e)&&(e=Dr(e)),e){let r=e[n],i;i=k(r)?`default`in r?B(r.from||n,r.default,!0):B(r.from||n):B(r),I(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[n]=i}}function br(e,t,n){gn(C(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function xr(e,t,n,r){let i=r.includes(`.`)?hi(n,r):()=>n[r];if(D(e)){let n=t[e];E(n)&&fi(i,n)}else if(E(e))fi(i,e.bind(n));else if(k(e))if(C(e))e.forEach(e=>xr(e,t,n,r));else{let r=E(e.handler)?e.handler.bind(n):t[e.handler];E(r)&&fi(i,r,e)}}function Sr(e){let t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t),c;return s?c=s:!i.length&&!n&&!r?c=t:(c={},i.length&&i.forEach(e=>Cr(c,e,o,!0)),Cr(c,t,o)),k(t)&&a.set(t,c),c}function Cr(e,t,n,r=!1){let{mixins:i,extends:a}=t;for(let o in a&&Cr(e,a,n,!0),i&&i.forEach(t=>Cr(e,t,n,!0)),t)if(!(r&&o===`expose`)){let r=wr[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}const wr={data:Tr,props:kr,emits:kr,methods:Or,computed:Or,beforeCreate:z,created:z,beforeMount:z,mounted:z,beforeUpdate:z,updated:z,beforeDestroy:z,beforeUnmount:z,destroyed:z,unmounted:z,activated:z,deactivated:z,errorCaptured:z,serverPrefetch:z,components:Or,directives:Or,watch:Ar,provide:Tr,inject:Er};function Tr(e,t){return t?e?function(){return y(E(e)?e.call(this,this):e,E(t)?t.call(this,this):t)}:t:e}function Er(e,t){return Or(Dr(e),Dr(t))}function Dr(e){if(C(e)){let t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function z(e,t){return e?[...new Set([].concat(e,t))]:t}function Or(e,t){return e?y(Object.create(null),e,t):t}function kr(e,t){return e?C(e)&&C(t)?[...new Set([...e,...t])]:y(Object.create(null),gr(e),gr(t??{})):t}function Ar(e,t){if(!e)return t;if(!t)return e;let n=y(Object.create(null),e);for(let r in t)n[r]=z(e[r],t[r]);return n}function jr(){return{app:null,config:{isNativeTag:g,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Mr=0;function Nr(e,t){return function(n,r=null){E(n)||(n=y({},n)),r!=null&&!k(r)&&(r=null);let i=jr(),a=new WeakSet,o=[],s=!1,c=i.app={_uid:Mr++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:xa,get config(){return i.config},set config(e){},use(e,...t){return a.has(e)||(e&&E(e.install)?(a.add(e),e.install(c,...t)):E(e)&&(a.add(e),e(c,...t))),c},mixin(e){return i.mixins.includes(e)||i.mixins.push(e),c},component(e,t){return t?(i.components[e]=t,c):i.components[e]},directive(e,t){return t?(i.directives[e]=t,c):i.directives[e]},mount(a,o,l){if(!s){let u=c._ceVNode||G(n,r);return u.appContext=i,l===!0?l=`svg`:l===!1&&(l=void 0),o&&t?t(u,a):e(u,a,l),s=!0,c._container=a,a.__vue_app__=c,_a(u.component)}},onUnmount(e){o.push(e)},unmount(){s&&(gn(o,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(e,t){return i.provides[e]=t,c},runWithContext(e){let t=Pr;Pr=c;try{return e()}finally{Pr=t}}};return c}}let Pr=null;function Fr(e,t){if(K){let n=K.provides,r=K.parent&&K.parent.provides;r===n&&(n=K.provides=Object.create(r)),n[e]=t}}function B(e,t,n=!1){let r=na();if(r||Pr){let i=Pr?Pr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&E(t)?t.call(r&&r.proxy):t}}const Ir={},Lr=()=>Object.create(Ir),Rr=e=>Object.getPrototypeOf(e)===Ir;function zr(e,t,n,r=!1){let i={},a=Lr();for(let n in e.propsDefaults=Object.create(null),Vr(e,t,i,a),e.propsOptions[0])n in i||(i[n]=void 0);n?e.props=r?i:Gt(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function Br(e,t,n,r){let{props:i,attrs:a,vnode:{patchFlag:o}}=e,s=P(i),[c]=e.propsOptions,l=!1;if((r||o>0)&&!(o&16)){if(o&8){let n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(yi(e.emitsOptions,o))continue;let u=t[o];if(c)if(S(a,o))u!==a[o]&&(a[o]=u,l=!0);else{let t=le(o);i[t]=Hr(c,s,t,u,e,!1)}else u!==a[o]&&(a[o]=u,l=!0)}}}else{Vr(e,t,i,a)&&(l=!0);let r;for(let a in s)(!t||!S(t,a)&&((r=j(a))===a||!S(t,r)))&&(c?n&&(n[a]!==void 0||n[r]!==void 0)&&(i[a]=Hr(c,s,a,void 0,e,!0)):delete i[a]);if(a!==s)for(let e in a)(!t||!S(t,e))&&(delete a[e],l=!0)}l&&ut(e.attrs,`set`,``)}function Vr(e,t,n,r){let[i,a]=e.propsOptions,o=!1,s;if(t)for(let c in t){if(oe(c))continue;let l=t[c],u;i&&S(i,u=le(c))?!a||!a.includes(u)?n[u]=l:(s||={})[u]=l:yi(e.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(a){let t=P(n),r=s||p;for(let o=0;o<a.length;o++){let s=a[o];n[s]=Hr(i,t,s,r[s],e,!S(r,s))}}return o}function Hr(e,t,n,r,i,a){let o=e[n];if(o!=null){let e=S(o,`default`);if(e&&r===void 0){let e=o.default;if(o.type!==Function&&!o.skipFactory&&E(e)){let{propsDefaults:a}=i;if(n in a)r=a[n];else{let o=aa(i);r=a[n]=e.call(null,t),o()}}else r=e;i.ce&&i.ce._setProp(n,r)}o[0]&&(a&&!e?r=!1:o[1]&&(r===``||r===j(n))&&(r=!0))}return r}const Ur=new WeakMap;function Wr(e,t,n=!1){let r=n?Ur:t.propsCache,i=r.get(e);if(i)return i;let a=e.props,o={},s=[],c=!1;if(!E(e)){let r=e=>{c=!0;let[n,r]=Wr(e,t,!0);y(o,n),r&&s.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!a&&!c)return k(e)&&r.set(e,m),m;if(C(a))for(let e=0;e<a.length;e++){let t=le(a[e]);Gr(t)&&(o[t]=p)}else if(a)for(let e in a){let t=le(e);if(Gr(t)){let n=a[e],r=o[t]=C(n)||E(n)?{type:n}:y({},n),i=r.type,c=!1,l=!0;if(C(i))for(let e=0;e<i.length;++e){let t=i[e],n=E(t)&&t.name;if(n===`Boolean`){c=!0;break}else n===`String`&&(l=!1)}else c=E(i)&&i.name===`Boolean`;r[0]=c,r[1]=l,(c||S(r,`default`))&&s.push(t)}}let l=[o,s];return k(e)&&r.set(e,l),l}function Gr(e){return e[0]!==`$`&&!oe(e)}const Kr=e=>e===`_`||e===`__`||e===`_ctx`||e===`$stable`,qr=e=>C(e)?e.map(Ji):[Ji(e)],Jr=(e,t,n)=>{if(t._n)return t;let r=Ln((...e)=>qr(t(...e)),n);return r._c=!1,r},Yr=(e,t,n)=>{let r=e._ctx;for(let n in e){if(Kr(n))continue;let i=e[n];if(E(i))t[n]=Jr(n,i,r);else if(i!=null){let e=qr(i);t[n]=()=>e}}},Xr=(e,t)=>{let n=qr(t);e.slots.default=()=>n},Zr=(e,t,n)=>{for(let r in t)(n||!Kr(r))&&(e[r]=t[r])},Qr=(e,t,n)=>{let r=e.slots=Lr();if(e.vnode.shapeFlag&32){let e=t.__;e&&he(r,`__`,e,!0);let i=t._;i?(Zr(r,t,n),n&&he(r,`_`,i,!0)):Yr(t,r)}else t&&Xr(e,t)},$r=(e,t,n)=>{let{vnode:r,slots:i}=e,a=!0,o=p;if(r.shapeFlag&32){let e=t._;e?n&&e===1?a=!1:Zr(i,t,n):(a=!t.$stable,Yr(t,i)),o=t}else t&&(Xr(e,t),o={default:1});if(a)for(let e in i)!Kr(e)&&o[e]==null&&delete i[e]},ei=Di;function ti(e){return ni(e)}function ni(e,t){let n=ve();n.__VUE__=!0;let{insert:r,remove:i,patchProp:a,createElement:o,createText:s,createComment:c,setText:l,setElementText:u,parentNode:d,nextSibling:f,setScopeId:g=h,insertStaticContent:_}=e,v=(e,t,n,r=null,i=null,a=null,o=void 0,s=null,c=!!t.dynamicChildren)=>{if(e===t)return;e&&!zi(e,t)&&(r=_e(e),de(e,i,a,!0),e=null),t.patchFlag===-2&&(c=!1,t.dynamicChildren=null);let{type:l,ref:u,shapeFlag:d}=t;switch(l){case Oi:y(e,t,n,r);break;case ki:b(e,t,n,r);break;case Ai:e??x(t,n,r,o);break;case V:ne(e,t,n,r,i,a,o,s,c);break;default:d&1?T(e,t,n,r,i,a,o,s,c):d&6?re(e,t,n,r,i,a,o,s,c):(d&64||d&128)&&l.process(e,t,n,r,i,a,o,s,c,xe)}u!=null&&i?Gn(u,e&&e.ref,a,t||e,!t):u==null&&e&&e.ref!=null&&Gn(e.ref,null,a,e,!0)},y=(e,t,n,i)=>{if(e==null)r(t.el=s(t.children),n,i);else{let n=t.el=e.el;t.children!==e.children&&l(n,t.children)}},b=(e,t,n,i)=>{e==null?r(t.el=c(t.children||``),n,i):t.el=e.el},x=(e,t,n,r)=>{[e.el,e.anchor]=_(e.children,t,n,r,e.el,e.anchor)},S=({el:e,anchor:t},n,i)=>{let a;for(;e&&e!==t;)a=f(e),r(e,n,i),e=a;r(t,n,i)},w=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=f(e),i(e),e=n;i(t)},T=(e,t,n,r,i,a,o,s,c)=>{t.type===`svg`?o=`svg`:t.type===`math`&&(o=`mathml`),e==null?ee(t,n,r,i,a,o,s,c):O(e,t,i,a,o,s,c)},ee=(e,t,n,i,s,c,l,d)=>{let f,p,{props:m,shapeFlag:h,transition:g,dirs:_}=e;if(f=e.el=o(e.type,c,m&&m.is,m),h&8?u(f,e.children):h&16&&D(e.children,f,null,i,s,ri(e,c),l,d),_&&zn(e,null,i,`created`),E(f,e,e.scopeId,l,i),m){for(let e in m)e!==`value`&&!oe(e)&&a(f,e,null,m[e],c,i);`value`in m&&a(f,`value`,null,m.value,c),(p=m.onVnodeBeforeMount)&&Qi(p,i,e)}_&&zn(e,null,i,`beforeMount`);let v=ai(s,g);v&&g.beforeEnter(f),r(f,t,n),((p=m&&m.onVnodeMounted)||v||_)&&ei(()=>{p&&Qi(p,i,e),v&&g.enter(f),_&&zn(e,null,i,`mounted`)},s)},E=(e,t,n,r,i)=>{if(n&&g(e,n),r)for(let t=0;t<r.length;t++)g(e,r[t]);if(i){let n=i.subTree;if(t===n||Ei(n.type)&&(n.ssContent===t||n.ssFallback===t)){let t=i.vnode;E(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},D=(e,t,n,r,i,a,o,s,c=0)=>{for(let l=c;l<e.length;l++){let c=e[l]=s?Yi(e[l]):Ji(e[l]);v(null,c,t,n,r,i,a,o,s)}},O=(e,t,n,r,i,o,s)=>{let c=t.el=e.el,{patchFlag:l,dynamicChildren:d,dirs:f}=t;l|=e.patchFlag&16;let m=e.props||p,h=t.props||p,g;if(n&&ii(n,!1),(g=h.onVnodeBeforeUpdate)&&Qi(g,n,t,e),f&&zn(t,e,n,`beforeUpdate`),n&&ii(n,!0),(m.innerHTML&&h.innerHTML==null||m.textContent&&h.textContent==null)&&u(c,``),d?k(e.dynamicChildren,d,c,n,r,ri(t,i),o):s||ce(e,t,c,null,n,r,ri(t,i),o,!1),l>0){if(l&16)te(c,m,h,n,i);else if(l&2&&m.class!==h.class&&a(c,`class`,null,h.class,i),l&4&&a(c,`style`,m.style,h.style,i),l&8){let e=t.dynamicProps;for(let t=0;t<e.length;t++){let r=e[t],o=m[r],s=h[r];(s!==o||r===`value`)&&a(c,r,o,s,i,n)}}l&1&&e.children!==t.children&&u(c,t.children)}else !s&&d==null&&te(c,m,h,n,i);((g=h.onVnodeUpdated)||f)&&ei(()=>{g&&Qi(g,n,t,e),f&&zn(t,e,n,`updated`)},r)},k=(e,t,n,r,i,a,o)=>{for(let s=0;s<t.length;s++){let c=e[s],l=t[s],u=c.el&&(c.type===V||!zi(c,l)||c.shapeFlag&198)?d(c.el):n;v(c,l,u,null,r,i,a,o,!0)}},te=(e,t,n,r,i)=>{if(t!==n){if(t!==p)for(let o in t)!oe(o)&&!(o in n)&&a(e,o,t[o],null,i,r);for(let o in n){if(oe(o))continue;let s=n[o],c=t[o];s!==c&&o!==`value`&&a(e,o,c,s,i,r)}`value`in n&&a(e,`value`,t.value,n.value,i)}},ne=(e,t,n,i,a,o,c,l,u)=>{let d=t.el=e?e.el:s(``),f=t.anchor=e?e.anchor:s(``),{patchFlag:p,dynamicChildren:m,slotScopeIds:h}=t;h&&(l=l?l.concat(h):h),e==null?(r(d,n,i),r(f,n,i),D(t.children||[],n,f,a,o,c,l,u)):p>0&&p&64&&m&&e.dynamicChildren?(k(e.dynamicChildren,m,n,a,o,c,l),(t.key!=null||a&&t===a.subTree)&&oi(e,t,!0)):ce(e,t,n,f,a,o,c,l,u)},re=(e,t,n,r,i,a,o,s,c)=>{t.slotScopeIds=s,e==null?t.shapeFlag&512?i.ctx.activate(t,n,r,o,c):ie(t,n,r,i,a,o,c):ae(e,t,c)},ie=(e,t,n,r,i,a,o)=>{let s=e.component=ta(e,r,i);if(qn(e)&&(s.ctx.renderer=xe),la(s,!1,o),s.asyncDep){if(i&&i.registerDep(s,A,o),!e.el){let r=s.subTree=G(ki);b(null,r,t,n),e.placeholder=r.el}}else A(s,e,t,n,i,a,o)},ae=(e,t,n)=>{let r=t.component=e.component;if(Ci(e,t,n))if(r.asyncDep&&!r.asyncResolved){se(r,t,n);return}else r.next=t,r.update();else t.el=e.el,r.vnode=t},A=(e,t,n,r,i,a,o)=>{let s=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:c,vnode:l}=e;{let n=ci(e);if(n){t&&(t.el=l.el,se(e,t,o)),n.asyncDep.then(()=>{e.isUnmounted||s()});return}}let u=t,f;ii(e,!1),t?(t.el=l.el,se(e,t,o)):t=l,n&&me(n),(f=t.props&&t.props.onVnodeBeforeUpdate)&&Qi(f,c,t,l),ii(e,!0);let p=bi(e),m=e.subTree;e.subTree=p,v(m,p,d(m.el),_e(m),e,i,a),t.el=p.el,u===null&&Ti(e,p.el),r&&ei(r,i),(f=t.props&&t.props.onVnodeUpdated)&&ei(()=>Qi(f,c,t,l),i)}else{let o,{el:s,props:c}=t,{bm:l,m:u,parent:d,root:f,type:p}=e,m=Kn(t);if(ii(e,!1),l&&me(l),!m&&(o=c&&c.onVnodeBeforeMount)&&Qi(o,d,t),ii(e,!0),s&&Ce){let t=()=>{e.subTree=bi(e),Ce(s,e.subTree,e,i,null)};m&&p.__asyncHydrate?p.__asyncHydrate(s,e,t):t()}else{f.ce&&f.ce._def.shadowRoot!==!1&&f.ce._injectChildStyle(p);let o=e.subTree=bi(e);v(null,o,n,r,e,i,a),t.el=o.el}if(u&&ei(u,i),!m&&(o=c&&c.onVnodeMounted)){let e=t;ei(()=>Qi(o,d,e),i)}(t.shapeFlag&256||d&&Kn(d.vnode)&&d.vnode.shapeFlag&256)&&e.a&&ei(e.a,i),e.isMounted=!0,t=n=r=null}};e.scope.on();let c=e.effect=new Re(s);e.scope.off();let l=e.update=c.run.bind(c),u=e.job=c.runIfDirty.bind(c);u.i=e,u.id=e.uid,c.scheduler=()=>Dn(u),ii(e,!0),l()},se=(e,t,n)=>{t.component=e;let r=e.vnode.props;e.vnode=t,e.next=null,Br(e,t.props,r,n),$r(e,t.children,n),$e(),An(e),et()},ce=(e,t,n,r,i,a,o,s,c=!1)=>{let l=e&&e.children,d=e?e.shapeFlag:0,f=t.children,{patchFlag:p,shapeFlag:m}=t;if(p>0){if(p&128){ue(l,f,n,r,i,a,o,s,c);return}else if(p&256){le(l,f,n,r,i,a,o,s,c);return}}m&8?(d&16&&ge(l,i,a),f!==l&&u(n,f)):d&16?m&16?ue(l,f,n,r,i,a,o,s,c):ge(l,i,a,!0):(d&8&&u(n,``),m&16&&D(f,n,r,i,a,o,s,c))},le=(e,t,n,r,i,a,o,s,c)=>{e||=m,t||=m;let l=e.length,u=t.length,d=Math.min(l,u),f;for(f=0;f<d;f++){let r=t[f]=c?Yi(t[f]):Ji(t[f]);v(e[f],r,n,null,i,a,o,s,c)}l>u?ge(e,i,a,!0,!1,d):D(t,n,r,i,a,o,s,c,d)},ue=(e,t,n,r,i,a,o,s,c)=>{let l=0,u=t.length,d=e.length-1,f=u-1;for(;l<=d&&l<=f;){let r=e[l],u=t[l]=c?Yi(t[l]):Ji(t[l]);if(zi(r,u))v(r,u,n,null,i,a,o,s,c);else break;l++}for(;l<=d&&l<=f;){let r=e[d],l=t[f]=c?Yi(t[f]):Ji(t[f]);if(zi(r,l))v(r,l,n,null,i,a,o,s,c);else break;d--,f--}if(l>d){if(l<=f){let e=f+1,d=e<u?t[e].el:r;for(;l<=f;)v(null,t[l]=c?Yi(t[l]):Ji(t[l]),n,d,i,a,o,s,c),l++}}else if(l>f)for(;l<=d;)de(e[l],i,a,!0),l++;else{let p=l,h=l,g=new Map;for(l=h;l<=f;l++){let e=t[l]=c?Yi(t[l]):Ji(t[l]);e.key!=null&&g.set(e.key,l)}let _,y=0,b=f-h+1,x=!1,S=0,C=Array(b);for(l=0;l<b;l++)C[l]=0;for(l=p;l<=d;l++){let r=e[l];if(y>=b){de(r,i,a,!0);continue}let u;if(r.key!=null)u=g.get(r.key);else for(_=h;_<=f;_++)if(C[_-h]===0&&zi(r,t[_])){u=_;break}u===void 0?de(r,i,a,!0):(C[u-h]=l+1,u>=S?S=u:x=!0,v(r,t[u],n,null,i,a,o,s,c),y++)}let w=x?si(C):m;for(_=w.length-1,l=b-1;l>=0;l--){let e=h+l,d=t[e],f=t[e+1],p=e+1<u?f.el||f.placeholder:r;C[l]===0?v(null,d,n,p,i,a,o,s,c):x&&(_<0||l!==w[_]?j(d,n,p,2):_--)}}},j=(e,t,n,a,o=null)=>{let{el:s,type:c,transition:l,children:u,shapeFlag:d}=e;if(d&6){j(e.component.subTree,t,n,a);return}if(d&128){e.suspense.move(t,n,a);return}if(d&64){c.move(e,t,n,xe);return}if(c===V){r(s,t,n);for(let e=0;e<u.length;e++)j(u[e],t,n,a);r(e.anchor,t,n);return}if(c===Ai){S(e,t,n);return}let f=a!==2&&d&1&&l;if(f)if(a===0)l.beforeEnter(s),r(s,t,n),ei(()=>l.enter(s),o);else{let{leave:a,delayLeave:o,afterLeave:c}=l,u=()=>{e.ctx.isUnmounted?i(s):r(s,t,n)},d=()=>{a(s,()=>{u(),c&&c()})};o?o(s,u,d):d()}else r(s,t,n)},de=(e,t,n,r=!1,i=!1)=>{let{type:a,props:o,ref:s,children:c,dynamicChildren:l,shapeFlag:u,patchFlag:d,dirs:f,cacheIndex:p}=e;if(d===-2&&(i=!1),s!=null&&($e(),Gn(s,null,n,e,!0),et()),p!=null&&(t.renderCache[p]=void 0),u&256){t.ctx.deactivate(e);return}let m=u&1&&f,h=!Kn(e),g;if(h&&(g=o&&o.onVnodeBeforeUnmount)&&Qi(g,t,e),u&6)he(e.component,n,r);else{if(u&128){e.suspense.unmount(n,r);return}m&&zn(e,null,t,`beforeUnmount`),u&64?e.type.remove(e,t,n,xe,r):l&&!l.hasOnce&&(a!==V||d>0&&d&64)?ge(l,t,n,!1,!0):(a===V&&d&384||!i&&u&16)&&ge(c,t,n),r&&fe(e)}(h&&(g=o&&o.onVnodeUnmounted)||m)&&ei(()=>{g&&Qi(g,t,e),m&&zn(e,null,t,`unmounted`)},n)},fe=e=>{let{type:t,el:n,anchor:r,transition:a}=e;if(t===V){pe(n,r);return}if(t===Ai){w(e);return}let o=()=>{i(n),a&&!a.persisted&&a.afterLeave&&a.afterLeave()};if(e.shapeFlag&1&&a&&!a.persisted){let{leave:t,delayLeave:r}=a,i=()=>t(n,o);r?r(e.el,o,i):i()}else o()},pe=(e,t)=>{let n;for(;e!==t;)n=f(e),i(e),e=n;i(t)},he=(e,t,n)=>{let{bum:r,scope:i,job:a,subTree:o,um:s,m:c,a:l,parent:u,slots:{__:d}}=e;li(c),li(l),r&&me(r),u&&C(d)&&d.forEach(e=>{u.renderCache[e]=void 0}),i.stop(),a&&(a.flags|=8,de(o,e,t,n)),s&&ei(s,t),ei(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,t.deps===0&&t.resolve())},ge=(e,t,n,r=!1,i=!1,a=0)=>{for(let o=a;o<e.length;o++)de(e[o],t,n,r,i)},_e=e=>{if(e.shapeFlag&6)return _e(e.component.subTree);if(e.shapeFlag&128)return e.suspense.next();let t=f(e.anchor||e.el),n=t&&t[Bn];return n?f(n):t},ye=!1,be=(e,t,n)=>{e==null?t._vnode&&de(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,n),t._vnode=e,ye||(ye=!0,An(),jn(),ye=!1)},xe={p:v,um:de,m:j,r:fe,mt:ie,mc:D,pc:ce,pbc:k,n:_e,o:e},Se,Ce;return t&&([Se,Ce]=t(xe)),{render:be,hydrate:Se,createApp:Nr(be,Se)}}function ri({type:e,props:t},n){return n===`svg`&&e===`foreignObject`||n===`mathml`&&e===`annotation-xml`&&t&&t.encoding&&t.encoding.includes(`html`)?void 0:n}function ii({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ai(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function oi(e,t,n=!1){let r=e.children,i=t.children;if(C(r)&&C(i))for(let e=0;e<r.length;e++){let t=r[e],a=i[e];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[e]=Yi(i[e]),a.el=t.el),!n&&a.patchFlag!==-2&&oi(t,a)),a.type===Oi&&(a.el=t.el),a.type===ki&&!a.el&&(a.el=t.el)}}function si(e){let t=e.slice(),n=[0],r,i,a,o,s,c=e.length;for(r=0;r<c;r++){let c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(a=0,o=n.length-1;a<o;)s=a+o>>1,e[n[s]]<c?a=s+1:o=s;c<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,o=n[a-1];a-- >0;)n[a]=o,o=t[o];return n}function ci(e){let t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ci(t)}function li(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ui=Symbol.for(`v-scx`),di=()=>{{let e=B(ui);return e}};function fi(e,t,n){return pi(e,t,n)}function pi(e,t,n=p){let{immediate:r,deep:i,flush:a,once:o}=n,s=y({},n),c=t&&r||!t&&a!==`post`,l;if(ca){if(a===`sync`){let e=di();l=e.__watcherHandles||=[]}else if(!c){let e=()=>{};return e.stop=h,e.resume=h,e.pause=h,e}}let u=K;s.call=(e,t,n)=>gn(e,u,t,n);let d=!1;a===`post`?s.scheduler=e=>{ei(e,u&&u.suspense)}:a!==`sync`&&(d=!0,s.scheduler=(e,t)=>{t?e():Dn(e)}),s.augmentJob=e=>{t&&(e.flags|=4),d&&(e.flags|=2,u&&(e.id=u.uid,e.i=u))};let f=pn(e,t,s);return ca&&(l?l.push(f):c&&f()),f}function mi(e,t,n){let r=this.proxy,i=D(e)?e.includes(`.`)?hi(r,e):()=>r[e]:e.bind(r,r),a;E(t)?a=t:(a=t.handler,n=t);let o=aa(this),s=pi(i,a.bind(r),n);return o(),s}function hi(e,t){let n=t.split(`.`);return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}const gi=(e,t)=>t===`modelValue`||t===`model-value`?e.modelModifiers:e[`${t}Modifiers`]||e[`${le(t)}Modifiers`]||e[`${j(t)}Modifiers`];function _i(e,t,...n){if(e.isUnmounted)return;let r=e.vnode.props||p,i=n,a=t.startsWith(`update:`),o=a&&gi(r,t.slice(7));o&&(o.trim&&(i=n.map(e=>D(e)?e.trim():e)),o.number&&(i=n.map(ge)));let s,c=r[s=fe(t)]||r[s=fe(le(t))];!c&&a&&(c=r[s=fe(j(t))]),c&&gn(c,e,6,i);let l=r[s+`Once`];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,gn(l,e,6,i)}}function vi(e,t,n=!1){let r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;let a=e.emits,o={},s=!1;if(!E(e)){let r=e=>{let n=vi(e,t,!0);n&&(s=!0,y(o,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return!a&&!s?(k(e)&&r.set(e,null),null):(C(a)?a.forEach(e=>o[e]=null):y(o,a),k(e)&&r.set(e,o),o)}function yi(e,t){return!e||!_(t)?!1:(t=t.slice(2).replace(/Once$/,``),S(e,t[0].toLowerCase()+t.slice(1))||S(e,j(t))||S(e,t))}function bi(e){let{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:c,render:l,renderCache:u,props:d,data:f,setupState:p,ctx:m,inheritAttrs:h}=e,g=In(e),_,y;try{if(n.shapeFlag&4){let e=i||r,t=e;_=Ji(l.call(t,e,u,d,p,f,m)),y=s}else{let e=t;_=Ji(e.length>1?e(d,{attrs:s,slots:o,emit:c}):e(d,null)),y=t.props?s:xi(s)}}catch(t){ji.length=0,_n(t,e,1),_=G(ki)}let b=_;if(y&&h!==!1){let e=Object.keys(y),{shapeFlag:t}=b;e.length&&t&7&&(a&&e.some(v)&&(y=Si(y,a)),b=Wi(b,y,!1,!0))}return n.dirs&&(b=Wi(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&Hn(b,n.transition),_=b,In(g),_}const xi=e=>{let t;for(let n in e)(n===`class`||n===`style`||_(n))&&((t||={})[n]=e[n]);return t},Si=(e,t)=>{let n={};for(let r in e)(!v(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Ci(e,t,n){let{props:r,children:i,component:a}=e,{props:o,children:s,patchFlag:c}=t,l=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?wi(r,o,l):!!o;if(c&8){let e=t.dynamicProps;for(let t=0;t<e.length;t++){let n=e[t];if(o[n]!==r[n]&&!yi(l,n))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?wi(r,o,l):!0:!!o;return!1}function wi(e,t,n){let r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){let a=r[i];if(t[a]!==e[a]&&!yi(n,a))return!0}return!1}function Ti({vnode:e,parent:t},n){for(;t;){let r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Ei=e=>e.__isSuspense;function Di(e,t){t&&t.pendingBranch?C(e)?t.effects.push(...e):t.effects.push(e):kn(e)}const V=Symbol.for(`v-fgt`),Oi=Symbol.for(`v-txt`),ki=Symbol.for(`v-cmt`),Ai=Symbol.for(`v-stc`),ji=[];let Mi=null;function H(e=!1){ji.push(Mi=e?null:[])}function Ni(){ji.pop(),Mi=ji[ji.length-1]||null}let Pi=1;function Fi(e,t=!1){Pi+=e,e<0&&Mi&&t&&(Mi.hasOnce=!0)}function Ii(e){return e.dynamicChildren=Pi>0?Mi||m:null,Ni(),Pi>0&&Mi&&Mi.push(e),e}function U(e,t,n,r,i,a){return Ii(W(e,t,n,r,i,a,!0))}function Li(e,t,n,r,i){return Ii(G(e,t,n,r,i,!0))}function Ri(e){return e?e.__v_isVNode===!0:!1}function zi(e,t){return e.type===t.type&&e.key===t.key}const Bi=({key:e})=>e??null,Vi=({ref:e,ref_key:t,ref_for:n})=>(typeof e==`number`&&(e=``+e),e==null?null:D(e)||I(e)||E(e)?{i:Pn,r:e,k:t,f:!!n}:e);function W(e,t=null,n=null,r=0,i=null,a=e===V?0:1,o=!1,s=!1){let c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Bi(t),ref:t&&Vi(t),scopeId:Fn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Pn};return s?(Xi(c,n),a&128&&e.normalize(c)):n&&(c.shapeFlag|=D(n)?8:16),Pi>0&&!o&&Mi&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&Mi.push(c),c}const G=Hi;function Hi(e,t=null,n=null,r=0,i=null,a=!1){if((!e||e===ur)&&(e=ki),Ri(e)){let r=Wi(e,t,!0);return n&&Xi(r,n),Pi>0&&!a&&Mi&&(r.shapeFlag&6?Mi[Mi.indexOf(e)]=r:Mi.push(r)),r.patchFlag=-2,r}if(va(e)&&(e=e.__vccOpts),t){t=Ui(t);let{class:e,style:n}=t;e&&!D(e)&&(t.class=we(e)),k(n)&&(Zt(n)&&!C(n)&&(n=y({},n)),t.style=ye(n))}let o=D(e)?1:Ei(e)?128:Vn(e)?64:k(e)?4:E(e)?2:0;return W(e,t,n,r,i,o,a,!0)}function Ui(e){return e?Zt(e)||Rr(e)?y({},e):e:null}function Wi(e,t,n=!1,r=!1){let{props:i,ref:a,patchFlag:o,children:s,transition:c}=e,l=t?Zi(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Bi(l),ref:t&&t.ref?n&&a?C(a)?a.concat(Vi(t)):[a,Vi(t)]:Vi(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==V?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Wi(e.ssContent),ssFallback:e.ssFallback&&Wi(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&Hn(u,c.clone(u)),u}function Gi(e=` `,t=0){return G(Oi,null,e,t)}function Ki(e,t){let n=G(Ai,null,e);return n.staticCount=t,n}function qi(e=``,t=!1){return t?(H(),Li(ki,null,e)):G(ki,null,e)}function Ji(e){return e==null||typeof e==`boolean`?G(ki):C(e)?G(V,null,e.slice()):Ri(e)?Yi(e):G(Oi,null,String(e))}function Yi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Wi(e)}function Xi(e,t){let n=0,{shapeFlag:r}=e;if(t==null)t=null;else if(C(t))n=16;else if(typeof t==`object`)if(r&65){let n=t.default;n&&(n._c&&(n._d=!1),Xi(e,n()),n._c&&(n._d=!0));return}else{n=32;let r=t._;!r&&!Rr(t)?t._ctx=Pn:r===3&&Pn&&(Pn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else E(t)?(t={default:t,_ctx:Pn},n=32):(t=String(t),r&64?(n=16,t=[Gi(t)]):n=8);e.children=t,e.shapeFlag|=n}function Zi(...e){let t={};for(let n=0;n<e.length;n++){let r=e[n];for(let e in r)if(e===`class`)t.class!==r.class&&(t.class=we([t.class,r.class]));else if(e===`style`)t.style=ye([t.style,r.style]);else if(_(e)){let n=t[e],i=r[e];i&&n!==i&&!(C(n)&&n.includes(i))&&(t[e]=n?[].concat(n,i):i)}else e!==``&&(t[e]=r[e])}return t}function Qi(e,t,n,r=null){gn(e,t,7,[n,r])}const $i=jr();let ea=0;function ta(e,t,n){let r=e.type,i=(t?t.appContext:e.appContext)||$i,a={uid:ea++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Fe(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:[``,0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wr(r,i),emitsOptions:vi(r,i),emit:null,emitted:null,propsDefaults:p,inheritAttrs:r.inheritAttrs,ctx:p,data:p,props:p,attrs:p,slots:p,refs:p,setupState:p,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=_i.bind(null,a),e.ce&&e.ce(a),a}let K=null;const na=()=>K||Pn;let ra,ia;{let e=ve(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach(t=>t(e)):r[0](e)}};ra=t(`__VUE_INSTANCE_SETTERS__`,e=>K=e),ia=t(`__VUE_SSR_SETTERS__`,e=>ca=e)}const aa=e=>{let t=K;return ra(e),e.scope.on(),()=>{e.scope.off(),ra(t)}},oa=()=>{K&&K.scope.off(),ra(null)};function sa(e){return e.vnode.shapeFlag&4}let ca=!1;function la(e,t=!1,n=!1){t&&ia(t);let{props:r,children:i}=e.vnode,a=sa(e);zr(e,r,a,t),Qr(e,i,n||t);let o=a?ua(e,t):void 0;return t&&ia(!1),o}function ua(e,t){let n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,hr);let{setup:r}=n;if(r){$e();let n=e.setupContext=r.length>1?ga(e):null,i=aa(e),a=hn(r,e,0,[e.props,n]),o=te(a);if(et(),i(),(o||e.sp)&&!Kn(e)&&Wn(e),o){if(a.then(oa,oa),t)return a.then(n=>{da(e,n,t)}).catch(t=>{_n(t,e,0)});e.asyncDep=a}else da(e,a,t)}else ma(e,t)}function da(e,t,n){E(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:k(t)&&(e.setupState=on(t)),ma(e,n)}let fa,pa;function ma(e,t,n){let r=e.type;if(!e.render){if(!t&&fa&&!r.render){let t=r.template||Sr(e).template;if(t){let{isCustomElement:n,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:o}=r,s=y(y({isCustomElement:n,delimiters:a},i),o);r.render=fa(t,s)}}e.render=r.render||h,pa&&pa(e)}{let t=aa(e);$e();try{vr(e)}finally{et(),t()}}}const ha={get(e,t){return N(e,`get`,``),e[t]}};function ga(e){let t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,ha),slots:e.slots,emit:e.emit,expose:t}}function _a(e){return e.exposed?e.exposeProxy||=new Proxy(on(Qt(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in pr)return pr[n](e)},has(e,t){return t in e||t in pr}}):e.proxy}function va(e){return E(e)&&`__vccOpts`in e}const ya=(e,t)=>{let n=cn(e,t,ca);return n};function ba(e,t,n){let r=arguments.length;return r===2?k(t)&&!C(t)?Ri(t)?G(e,null,[t]):G(e,t):G(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ri(n)&&(n=[n]),G(e,t,n))}const xa=`3.5.18`;let Sa;const Ca=typeof window<`u`&&window.trustedTypes;if(Ca)try{Sa=Ca.createPolicy(`vue`,{createHTML:e=>e})}catch{}const wa=Sa?e=>Sa.createHTML(e):e=>e,Ta=`http://www.w3.org/2000/svg`,Ea=`http://www.w3.org/1998/Math/MathML`,Da=typeof document<`u`?document:null,Oa=Da&&Da.createElement(`template`),ka={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{let t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{let i=t===`svg`?Da.createElementNS(Ta,e):t===`mathml`?Da.createElementNS(Ea,e):n?Da.createElement(e,{is:n}):Da.createElement(e);return e===`select`&&r&&r.multiple!=null&&i.setAttribute(`multiple`,r.multiple),i},createText:e=>Da.createTextNode(e),createComment:e=>Da.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Da.querySelector(e),setScopeId(e,t){e.setAttribute(t,``)},insertStaticContent(e,t,n,r,i,a){let o=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{Oa.innerHTML=wa(r===`svg`?`<svg>${e}</svg>`:r===`mathml`?`<math>${e}</math>`:e);let i=Oa.content;if(r===`svg`||r===`mathml`){let e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Aa=Symbol(`_vtc`);function ja(e,t,n){let r=e[Aa];r&&(t=(t?[t,...r]:[...r]).join(` `)),t==null?e.removeAttribute(`class`):n?e.setAttribute(`class`,t):e.className=t}const Ma=Symbol(`_vod`),Na=Symbol(`_vsh`),Pa=Symbol(``),Fa=/(^|;)\s*display\s*:/;function Ia(e,t,n){let r=e.style,i=D(n),a=!1;if(n&&!i){if(t)if(D(t))for(let e of t.split(`;`)){let t=e.slice(0,e.indexOf(`:`)).trim();n[t]??Ra(r,t,``)}else for(let e in t)n[e]??Ra(r,e,``);for(let e in n)e===`display`&&(a=!0),Ra(r,e,n[e])}else if(i){if(t!==n){let e=r[Pa];e&&(n+=`;`+e),r.cssText=n,a=Fa.test(n)}}else t&&e.removeAttribute(`style`);Ma in e&&(e[Ma]=a?r.display:``,e[Na]&&(r.display=`none`))}const La=/\s*!important$/;function Ra(e,t,n){if(C(n))n.forEach(n=>Ra(e,t,n));else if(n??=``,t.startsWith(`--`))e.setProperty(t,n);else{let r=Va(e,t);La.test(n)?e.setProperty(j(r),n.replace(La,``),`important`):e[r]=n}}const za=[`Webkit`,`Moz`,`ms`],Ba={};function Va(e,t){let n=Ba[t];if(n)return n;let r=le(t);if(r!==`filter`&&r in e)return Ba[t]=r;r=de(r);for(let n=0;n<za.length;n++){let i=za[n]+r;if(i in e)return Ba[t]=i}return t}const Ha=`http://www.w3.org/1999/xlink`;function Ua(e,t,n,r,i,a=Ee(t)){r&&t.startsWith(`xlink:`)?n==null?e.removeAttributeNS(Ha,t.slice(6,t.length)):e.setAttributeNS(Ha,t,n):n==null||a&&!De(n)?e.removeAttribute(t):e.setAttribute(t,a?``:O(n)?String(n):n)}function Wa(e,t,n,r,i){if(t===`innerHTML`||t===`textContent`){n!=null&&(e[t]=t===`innerHTML`?wa(n):n);return}let a=e.tagName;if(t===`value`&&a!==`PROGRESS`&&!a.includes(`-`)){let r=a===`OPTION`?e.getAttribute(`value`)||``:e.value,i=n==null?e.type===`checkbox`?`on`:``:String(n);(r!==i||!(`_value`in e))&&(e.value=i),n??e.removeAttribute(t),e._value=n;return}let o=!1;if(n===``||n==null){let r=typeof e[t];r===`boolean`?n=De(n):n==null&&r===`string`?(n=``,o=!0):r===`number`&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function Ga(e,t,n,r){e.addEventListener(t,n,r)}function Ka(e,t,n,r){e.removeEventListener(t,n,r)}const qa=Symbol(`_vei`);function Ja(e,t,n,r,i=null){let a=e[qa]||(e[qa]={}),o=a[t];if(r&&o)o.value=r;else{let[n,s]=Xa(t);if(r){let o=a[t]=eo(r,i);Ga(e,n,o,s)}else o&&(Ka(e,n,o,s),a[t]=void 0)}}const Ya=/(?:Once|Passive|Capture)$/;function Xa(e){let t;if(Ya.test(e)){t={};let n;for(;n=e.match(Ya);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}let n=e[2]===`:`?e.slice(3):j(e.slice(2));return[n,t]}let Za=0;const Qa=Promise.resolve(),$a=()=>Za||(Qa.then(()=>Za=0),Za=Date.now());function eo(e,t){let n=e=>{if(!e._vts)e._vts=Date.now();else if(e._vts<=n.attached)return;gn(to(e,n.value),t,5,[e])};return n.value=e,n.attached=$a(),n}function to(e,t){if(C(t)){let n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}else return t}const no=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ro=(e,t,n,r,i,a)=>{let o=i===`svg`;t===`class`?ja(e,r,o):t===`style`?Ia(e,n,r):_(t)?v(t)||Ja(e,t,n,r,a):(t[0]===`.`?(t=t.slice(1),!0):t[0]===`^`?(t=t.slice(1),!1):io(e,t,r,o))?(Wa(e,t,r),!e.tagName.includes(`-`)&&(t===`value`||t===`checked`||t===`selected`)&&Ua(e,t,r,o,a,t!==`value`)):e._isVueCE&&(/[A-Z]/.test(t)||!D(r))?Wa(e,le(t),r,a,t):(t===`true-value`?e._trueValue=r:t===`false-value`&&(e._falseValue=r),Ua(e,t,r,o))};function io(e,t,n,r){if(r)return!!(t===`innerHTML`||t===`textContent`||t in e&&no(t)&&E(n));if(t===`spellcheck`||t===`draggable`||t===`translate`||t===`autocorrect`||t===`form`||t===`list`&&e.tagName===`INPUT`||t===`type`&&e.tagName===`TEXTAREA`)return!1;if(t===`width`||t===`height`){let t=e.tagName;if(t===`IMG`||t===`VIDEO`||t===`CANVAS`||t===`SOURCE`)return!1}return no(t)&&D(n)?!1:t in e}Symbol(`_moveCb`),Symbol(`_enterCb`);const ao=e=>{let t=e.props[`onUpdate:modelValue`]||!1;return C(t)?e=>me(t,e):t};function oo(e){e.target.composing=!0}function so(e){let t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event(`input`)))}const co=Symbol(`_assign`),lo={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[co]=ao(i);let a=r||i.props&&i.props.type===`number`;Ga(e,t?`change`:`input`,t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),a&&(r=ge(r)),e[co](r)}),n&&Ga(e,`change`,()=>{e.value=e.value.trim()}),t||(Ga(e,`compositionstart`,oo),Ga(e,`compositionend`,so),Ga(e,`change`,so))},mounted(e,{value:t}){e.value=t??``},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:a}},o){if(e[co]=ao(o),e.composing)return;let s=(a||e.type===`number`)&&!/^0\d/.test(e.value)?ge(e.value):e.value,c=t??``;s!==c&&(document.activeElement===e&&e.type!==`range`&&(r&&t===n||i&&e.value.trim()===c)||(e.value=c))}},uo={created(e,{value:t},n){e.checked=ke(t,n.props.value),e[co]=ao(n),Ga(e,`change`,()=>{e[co](fo(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[co]=ao(r),t!==n&&(e.checked=ke(t,r.props.value))}};function fo(e){return`_value`in e?e._value:e.value}const po=y({patchProp:ro},ka);let mo;function ho(){return mo||=ti(po)}const go=(...e)=>{let t=ho().createApp(...e),{mount:n}=t;return t.mount=e=>{let r=vo(e);if(!r)return;let i=t._component;!E(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent=``);let a=n(r,!1,_o(r));return r instanceof Element&&(r.removeAttribute(`v-cloak`),r.setAttribute(`data-v-app`,``)),a},t};function _o(e){if(e instanceof SVGElement)return`svg`;if(typeof MathMLElement==`function`&&e instanceof MathMLElement)return`mathml`}function vo(e){if(D(e)){let t=document.querySelector(e);return t}return e}const yo=typeof document<`u`;function bo(e){return typeof e==`object`||`displayName`in e||`props`in e||`__vccOpts`in e}function xo(e){return e.__esModule||e[Symbol.toStringTag]===`Module`||e.default&&bo(e.default)}const q=Object.assign;function So(e,t){let n={};for(let r in t){let i=t[r];n[r]=wo(i)?i.map(e):e(i)}return n}const Co=()=>{},wo=Array.isArray,To=/#/g,Eo=/&/g,Do=/\//g,Oo=/=/g,ko=/\?/g,Ao=/\+/g,jo=/%5B/g,Mo=/%5D/g,No=/%5E/g,Po=/%60/g,Fo=/%7B/g,Io=/%7C/g,Lo=/%7D/g,Ro=/%20/g;function zo(e){return encodeURI(``+e).replace(Io,`|`).replace(jo,`[`).replace(Mo,`]`)}function Bo(e){return zo(e).replace(Fo,`{`).replace(Lo,`}`).replace(No,`^`)}function Vo(e){return zo(e).replace(Ao,`%2B`).replace(Ro,`+`).replace(To,`%23`).replace(Eo,`%26`).replace(Po,"`").replace(Fo,`{`).replace(Lo,`}`).replace(No,`^`)}function Ho(e){return Vo(e).replace(Oo,`%3D`)}function Uo(e){return zo(e).replace(To,`%23`).replace(ko,`%3F`)}function Wo(e){return e==null?``:Uo(e).replace(Do,`%2F`)}function Go(e){try{return decodeURIComponent(``+e)}catch{}return``+e}const Ko=/\/$/,qo=e=>e.replace(Ko,``);function Jo(e,t,n=`/`){let r,i={},a=``,o=``,s=t.indexOf(`#`),c=t.indexOf(`?`);return s<c&&s>=0&&(c=-1),c>-1&&(r=t.slice(0,c),a=t.slice(c+1,s>-1?s:t.length),i=e(a)),s>-1&&(r||=t.slice(0,s),o=t.slice(s,t.length)),r=ns(r??t,n),{fullPath:r+(a&&`?`)+a+o,path:r,query:i,hash:Go(o)}}function Yo(e,t){let n=t.query?e(t.query):``;return t.path+(n&&`?`)+n+(t.hash||``)}function Xo(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||`/`}function Zo(e,t,n){let r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Qo(t.matched[r],n.matched[i])&&$o(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Qo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function $o(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!es(e[n],t[n]))return!1;return!0}function es(e,t){return wo(e)?ts(e,t):wo(t)?ts(t,e):e===t}function ts(e,t){return wo(t)?e.length===t.length&&e.every((e,n)=>e===t[n]):e.length===1&&e[0]===t}function ns(e,t){if(e.startsWith(`/`))return e;if(!e)return t;let n=t.split(`/`),r=e.split(`/`),i=r[r.length-1];(i===`..`||i===`.`)&&r.push(``);let a=n.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==`.`)if(s===`..`)a>1&&a--;else break;return n.slice(0,a).join(`/`)+`/`+r.slice(o).join(`/`)}const rs={path:`/`,name:void 0,params:{},query:{},hash:``,fullPath:`/`,matched:[],meta:{},redirectedFrom:void 0};var os;(function(e){e.pop=`pop`,e.push=`push`})(os||={});var ss;(function(e){e.back=`back`,e.forward=`forward`,e.unknown=``})(ss||={});function cs(e){if(!e)if(yo){let t=document.querySelector(`base`);e=t&&t.getAttribute(`href`)||`/`,e=e.replace(/^\w+:\/\/[^\/]+/,``)}else e=`/`;return e[0]!==`/`&&e[0]!==`#`&&(e=`/`+e),qo(e)}const ls=/^[^#]+#/;function us(e,t){return e.replace(ls,`#`)+t}function ds(e,t){let n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const fs=()=>({left:window.scrollX,top:window.scrollY});function ps(e){let t;if(`el`in e){let n=e.el,r=typeof n==`string`&&n.startsWith(`#`),i=typeof n==`string`?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=ds(i,e)}else t=e;`scrollBehavior`in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left==null?window.scrollX:t.left,t.top==null?window.scrollY:t.top)}function ms(e,t){let n=history.state?history.state.position-t:-1;return n+e}const hs=new Map;function gs(e,t){hs.set(e,t)}function _s(e){let t=hs.get(e);return hs.delete(e),t}let vs=()=>location.protocol+`//`+location.host;function ys(e,t){let{pathname:n,search:r,hash:i}=t,a=e.indexOf(`#`);if(a>-1){let t=i.includes(e.slice(a))?e.slice(a).length:1,n=i.slice(t);return n[0]!==`/`&&(n=`/`+n),Xo(n,``)}let o=Xo(n,e);return o+r+i}function bs(e,t,n,r){let i=[],a=[],o=null,s=({state:a})=>{let s=ys(e,location),c=n.value,l=t.value,u=0;if(a){if(n.value=s,t.value=a,o&&o===c){o=null;return}u=l?a.position-l.position:0}else r(s);i.forEach(e=>{e(n.value,c,{delta:u,type:os.pop,direction:u?u>0?ss.forward:ss.back:ss.unknown})})};function c(){o=n.value}function l(e){i.push(e);let t=()=>{let t=i.indexOf(e);t>-1&&i.splice(t,1)};return a.push(t),t}function u(){let{history:e}=window;e.state&&e.replaceState(q({},e.state,{scroll:fs()}),``)}function d(){for(let e of a)e();a=[],window.removeEventListener(`popstate`,s),window.removeEventListener(`beforeunload`,u)}return window.addEventListener(`popstate`,s),window.addEventListener(`beforeunload`,u,{passive:!0}),{pauseListeners:c,listen:l,destroy:d}}function xs(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?fs():null}}function Ss(e){let{history:t,location:n}=window,r={value:ys(e,n)},i={value:t.state};i.value||a(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(r,a,o){let s=e.indexOf(`#`),c=s>-1?(n.host&&document.querySelector(`base`)?e:e.slice(s))+r:vs()+e+r;try{t[o?`replaceState`:`pushState`](a,``,c),i.value=a}catch(e){console.error(e),n[o?`replace`:`assign`](c)}}function o(e,n){let o=q({},t.state,xs(i.value.back,e,i.value.forward,!0),n,{position:i.value.position});a(e,o,!0),r.value=e}function s(e,n){let o=q({},i.value,t.state,{forward:e,scroll:fs()});a(o.current,o,!0);let s=q({},xs(r.value,e,null),{position:o.position+1},n);a(e,s,!1),r.value=e}return{location:r,state:i,push:s,replace:o}}function Cs(e){e=cs(e);let t=Ss(e),n=bs(e,t.state,t.location,t.replace);function r(e,t=!0){t||n.pauseListeners(),history.go(e)}let i=q({location:``,base:e,go:r,createHref:us.bind(null,e)},t,n);return Object.defineProperty(i,`location`,{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,`state`,{enumerable:!0,get:()=>t.state.value}),i}function ws(e){return typeof e==`string`||e&&typeof e==`object`}function Ts(e){return typeof e==`string`||typeof e==`symbol`}const Es=Symbol(``);var Ds;(function(e){e[e.aborted=4]=`aborted`,e[e.cancelled=8]=`cancelled`,e[e.duplicated=16]=`duplicated`})(Ds||={});function Os(e,t){return q(Error(),{type:e,[Es]:!0},t)}function ks(e,t){return e instanceof Error&&Es in e&&(t==null||!!(e.type&t))}const As=`[^/]+?`,js={sensitive:!1,strict:!1,start:!0,end:!0},Ms=/[.+*?^${}()[\]/\\]/g;function Ns(e,t){let n=q({},js,t),r=[],i=n.start?`^`:``,a=[];for(let t of e){let e=t.length?[]:[90];n.strict&&!t.length&&(i+=`/`);for(let r=0;r<t.length;r++){let o=t[r],s=40+(n.sensitive?.25:0);if(o.type===0)r||(i+=`/`),i+=o.value.replace(Ms,`\\$&`),s+=40;else if(o.type===1){let{value:e,repeatable:n,optional:c,regexp:l}=o;a.push({name:e,repeatable:n,optional:c});let u=l||As;if(u!==As){s+=10;try{`${u}`}catch(t){throw Error(`Invalid custom RegExp for param "${e}" (${u}): `+t.message)}}let d=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;r||(d=c&&t.length<2?`(?:/${d})`:`/`+d),c&&(d+=`?`),i+=d,s+=20,c&&(s+=-8),n&&(s+=-20),u===`.*`&&(s+=-50)}e.push(s)}r.push(e)}if(n.strict&&n.end){let e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(i+=`/?`),n.end?i+=`$`:n.strict&&!i.endsWith(`/`)&&(i+=`(?:/|$)`);let o=new RegExp(i,n.sensitive?``:`i`);function s(e){let t=e.match(o),n={};if(!t)return null;for(let e=1;e<t.length;e++){let r=t[e]||``,i=a[e-1];n[i.name]=r&&i.repeatable?r.split(`/`):r}return n}function c(t){let n=``,r=!1;for(let i of e){(!r||!n.endsWith(`/`))&&(n+=`/`),r=!1;for(let e of i)if(e.type===0)n+=e.value;else if(e.type===1){let{value:a,repeatable:o,optional:s}=e,c=a in t?t[a]:``;if(wo(c)&&!o)throw Error(`Provided param "${a}" is an array but it is not repeatable (* or + modifiers)`);let l=wo(c)?c.join(`/`):c;if(!l)if(s)i.length<2&&(n.endsWith(`/`)?n=n.slice(0,-1):r=!0);else throw Error(`Missing required param "${a}"`);n+=l}}return n||`/`}return{re:o,score:r,keys:a,parse:s,stringify:c}}function Ps(e,t){let n=0;for(;n<e.length&&n<t.length;){let r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Fs(e,t){let n=0,r=e.score,i=t.score;for(;n<r.length&&n<i.length;){let e=Ps(r[n],i[n]);if(e)return e;n++}if(Math.abs(i.length-r.length)===1){if(Is(r))return 1;if(Is(i))return-1}return i.length-r.length}function Is(e){let t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Ls={type:0,value:``},Rs=/[a-zA-Z0-9_]/;function zs(e){if(!e)return[[]];if(e===`/`)return[[Ls]];if(!e.startsWith(`/`))throw Error(`Invalid path "${e}"`);function t(e){throw Error(`ERR (${n})/"${l}": ${e}`)}let n=0,r=n,i=[],a;function o(){a&&i.push(a),a=[]}let s=0,c,l=``,u=``;function d(){l&&(n===0?a.push({type:0,value:l}):n===1||n===2||n===3?(a.length>1&&(c===`*`||c===`+`)&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:l,regexp:u,repeatable:c===`*`||c===`+`,optional:c===`*`||c===`?`})):t(`Invalid state to consume buffer`),l=``)}function f(){l+=c}for(;s<e.length;){if(c=e[s++],c===`\\`&&n!==2){r=n,n=4;continue}switch(n){case 0:c===`/`?(l&&d(),o()):c===`:`?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:c===`(`?n=2:Rs.test(c)?f():(d(),n=0,c!==`*`&&c!==`?`&&c!==`+`&&s--);break;case 2:c===`)`?u[u.length-1]==`\\`?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:d(),n=0,c!==`*`&&c!==`?`&&c!==`+`&&s--,u=``;break;default:t(`Unknown state`);break}}return n===2&&t(`Unfinished custom RegExp for param "${l}"`),d(),o(),i}function Bs(e,t,n){let r=Ns(zs(e.path),n),i=q(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Vs(e,t){let n=[],r=new Map;t=qs({strict:!1,end:!0,sensitive:!1},t);function i(e){return r.get(e)}function a(e,n,r){let i=!r,s=Us(e);s.aliasOf=r&&r.record;let l=qs(t,e),u=[s];if(`alias`in e){let t=typeof e.alias==`string`?[e.alias]:e.alias;for(let e of t)u.push(Us(q({},s,{components:r?r.record.components:s.components,path:e,aliasOf:r?r.record:s})))}let d,f;for(let t of u){let{path:u}=t;if(n&&u[0]!==`/`){let e=n.record.path,r=e[e.length-1]===`/`?``:`/`;t.path=n.record.path+(u&&r+u)}if(d=Bs(t,n,l),r?r.alias.push(d):(f||=d,f!==d&&f.alias.push(d),i&&e.name&&!Gs(d)&&o(e.name)),Xs(d)&&c(d),s.children){let e=s.children;for(let t=0;t<e.length;t++)a(e[t],d,r&&r.children[t])}r||=d}return f?()=>{o(f)}:Co}function o(e){if(Ts(e)){let t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{let t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function s(){return n}function c(e){let t=Js(e,n);n.splice(t,0,e),e.record.name&&!Gs(e)&&r.set(e.record.name,e)}function l(e,t){let i,a={},o,s;if(`name`in e&&e.name){if(i=r.get(e.name),!i)throw Os(1,{location:e});s=i.record.name,a=q(Hs(t.params,i.keys.filter(e=>!e.optional).concat(i.parent?i.parent.keys.filter(e=>e.optional):[]).map(e=>e.name)),e.params&&Hs(e.params,i.keys.map(e=>e.name))),o=i.stringify(a)}else if(e.path!=null)o=e.path,i=n.find(e=>e.re.test(o)),i&&(a=i.parse(o),s=i.record.name);else{if(i=t.name?r.get(t.name):n.find(e=>e.re.test(t.path)),!i)throw Os(1,{location:e,currentLocation:t});s=i.record.name,a=q({},t.params,e.params),o=i.stringify(a)}let c=[],l=i;for(;l;)c.unshift(l.record),l=l.parent;return{name:s,path:o,params:a,matched:c,meta:Ks(c)}}e.forEach(e=>a(e));function u(){n.length=0,r.clear()}return{addRoute:a,resolve:l,removeRoute:o,clearRoutes:u,getRoutes:s,getRecordMatcher:i}}function Hs(e,t){let n={};for(let r of t)r in e&&(n[r]=e[r]);return n}function Us(e){let t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Ws(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:`components`in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,`mods`,{value:{}}),t}function Ws(e){let t={},n=e.props||!1;if(`component`in e)t.default=n;else for(let r in e.components)t[r]=typeof n==`object`?n[r]:n;return t}function Gs(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ks(e){return e.reduce((e,t)=>q(e,t.meta),{})}function qs(e,t){let n={};for(let r in e)n[r]=r in t?t[r]:e[r];return n}function Js(e,t){let n=0,r=t.length;for(;n!==r;){let i=n+r>>1,a=Fs(e,t[i]);a<0?r=i:n=i+1}let i=Ys(e);return i&&(r=t.lastIndexOf(i,r-1)),r}function Ys(e){let t=e;for(;t=t.parent;)if(Xs(t)&&Fs(e,t)===0)return t}function Xs({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Zs(e){let t={};if(e===``||e===`?`)return t;let n=e[0]===`?`,r=(n?e.slice(1):e).split(`&`);for(let e=0;e<r.length;++e){let n=r[e].replace(Ao,` `),i=n.indexOf(`=`),a=Go(i<0?n:n.slice(0,i)),o=i<0?null:Go(n.slice(i+1));if(a in t){let e=t[a];wo(e)||(e=t[a]=[e]),e.push(o)}else t[a]=o}return t}function Qs(e){let t=``;for(let n in e){let r=e[n];if(n=Ho(n),r==null){r!==void 0&&(t+=(t.length?`&`:``)+n);continue}let i=wo(r)?r.map(e=>e&&Vo(e)):[r&&Vo(r)];i.forEach(e=>{e!==void 0&&(t+=(t.length?`&`:``)+n,e!=null&&(t+=`=`+e))})}return t}function $s(e){let t={};for(let n in e){let r=e[n];r!==void 0&&(t[n]=wo(r)?r.map(e=>e==null?null:``+e):r==null?r:``+r)}return t}const ec=Symbol(``),tc=Symbol(``),nc=Symbol(``),rc=Symbol(``),ic=Symbol(``);function ac(){let e=[];function t(t){return e.push(t),()=>{let n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function oc(e,t,n,r,i,a=e=>e()){let o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,c)=>{let l=e=>{e===!1?c(Os(4,{from:n,to:t})):e instanceof Error?c(e):ws(e)?c(Os(2,{from:t,to:e})):(o&&r.enterCallbacks[i]===o&&typeof e==`function`&&o.push(e),s())},u=a(()=>e.call(r&&r.instances[i],t,n,l)),d=Promise.resolve(u);e.length<3&&(d=d.then(l)),d.catch(e=>c(e))})}function sc(e,t,n,r,i=e=>e()){let a=[];for(let o of e)for(let e in o.components){let s=o.components[e];if(t!==`beforeRouteEnter`&&!o.instances[e])continue;if(bo(s)){let c=s.__vccOpts||s,l=c[t];l&&a.push(oc(l,n,r,o,e,i))}else{let c=s();a.push(()=>c.then(a=>{if(!a)throw Error(`Couldn't resolve component "${e}" at "${o.path}"`);let s=xo(a)?a.default:a;o.mods[e]=a,o.components[e]=s;let c=s.__vccOpts||s,l=c[t];return l&&oc(l,n,r,o,e,i)()}))}}return a}function cc(e){let t=B(nc),n=B(rc),r=ya(()=>{let n=rn(e.to);return t.resolve(n)}),i=ya(()=>{let{matched:e}=r.value,{length:t}=e,i=e[t-1],a=n.matched;if(!i||!a.length)return-1;let o=a.findIndex(Qo.bind(null,i));if(o>-1)return o;let s=mc(e[t-2]);return t>1&&mc(i)===s&&a[a.length-1].path!==s?a.findIndex(Qo.bind(null,e[t-2])):o}),a=ya(()=>i.value>-1&&pc(n.params,r.value.params)),o=ya(()=>i.value>-1&&i.value===n.matched.length-1&&$o(n.params,r.value.params));function s(n={}){if(fc(n)){let n=t[rn(e.replace)?`replace`:`push`](rn(e.to)).catch(Co);return e.viewTransition&&typeof document<`u`&&`startViewTransition`in document&&document.startViewTransition(()=>n),n}return Promise.resolve()}return{route:r,href:ya(()=>r.value.href),isActive:a,isExactActive:o,navigate:s}}function lc(e){return e.length===1?e[0]:e}const uc=Un({name:`RouterLink`,compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:`page`},viewTransition:Boolean},useLink:cc,setup(e,{slots:t}){let n=Wt(cc(e)),{options:r}=B(nc),i=ya(()=>({[hc(e.activeClass,r.linkActiveClass,`router-link-active`)]:n.isActive,[hc(e.exactActiveClass,r.linkExactActiveClass,`router-link-exact-active`)]:n.isExactActive}));return()=>{let r=t.default&&lc(t.default(n));return e.custom?r:ba(`a`,{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),dc=uc;function fc(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){let t=e.currentTarget.getAttribute(`target`);if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function pc(e,t){for(let n in t){let r=t[n],i=e[n];if(typeof r==`string`){if(r!==i)return!1}else if(!wo(i)||i.length!==r.length||r.some((e,t)=>e!==i[t]))return!1}return!0}function mc(e){return e?e.aliasOf?e.aliasOf.path:e.path:``}const hc=(e,t,n)=>e??t??n,gc=Un({name:`RouterView`,inheritAttrs:!1,props:{name:{type:String,default:`default`},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){let r=B(ic),i=ya(()=>e.route||r.value),a=B(tc,0),o=ya(()=>{let e=rn(a),{matched:t}=i.value,n;for(;(n=t[e])&&!n.components;)e++;return e}),s=ya(()=>i.value.matched[o.value]);Fr(tc,ya(()=>o.value+1)),Fr(ec,s),Fr(ic,i);let c=L();return fi(()=>[c.value,s.value,e.name],([e,t,n],[r,i,a])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),e&&t&&(!i||!Qo(t,i)||!r)&&(t.enterCallbacks[n]||[]).forEach(t=>t(e))},{flush:`post`}),()=>{let r=i.value,a=e.name,o=s.value,l=o&&o.components[a];if(!l)return _c(n.default,{Component:l,route:r});let u=o.props[a],d=u?u===!0?r.params:typeof u==`function`?u(r):u:null,f=e=>{e.component.isUnmounted&&(o.instances[a]=null)},p=ba(l,q({},d,t,{onVnodeUnmounted:f,ref:c}));return _c(n.default,{Component:p,route:r})||p}}});function _c(e,t){if(!e)return null;let n=e(t);return n.length===1?n[0]:n}const vc=gc;function yc(e){let t=Vs(e.routes,e),n=e.parseQuery||Zs,r=e.stringifyQuery||Qs,i=e.history,a=ac(),o=ac(),s=ac(),c=en(rs),l=rs;yo&&e.scrollBehavior&&`scrollRestoration`in history&&(history.scrollRestoration=`manual`);let u=So.bind(null,e=>``+e),d=So.bind(null,Wo),f=So.bind(null,Go);function p(e,n){let r,i;return Ts(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function m(e){let n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function h(){return t.getRoutes().map(e=>e.record)}function g(e){return!!t.getRecordMatcher(e)}function _(e,a){if(a=q({},a||c.value),typeof e==`string`){let r=Jo(n,e,a.path),o=t.resolve({path:r.path},a),s=i.createHref(r.fullPath);return q(r,o,{params:f(o.params),hash:Go(r.hash),redirectedFrom:void 0,href:s})}let o;if(e.path!=null)o=q({},e,{path:Jo(n,e.path,a.path).path});else{let t=q({},e.params);for(let e in t)t[e]??delete t[e];o=q({},e,{params:d(t)}),a.params=d(a.params)}let s=t.resolve(o,a),l=e.hash||``;s.params=u(f(s.params));let p=Yo(r,q({},e,{hash:Bo(l),path:s.path})),m=i.createHref(p);return q({fullPath:p,hash:l,query:r===Qs?$s(e.query):e.query||{}},s,{redirectedFrom:void 0,href:m})}function v(e){return typeof e==`string`?Jo(n,e,c.value.path):q({},e)}function y(e,t){if(l!==e)return Os(8,{from:t,to:e})}function b(e){return C(e)}function x(e){return b(q(v(e),{replace:!0}))}function S(e){let t=e.matched[e.matched.length-1];if(t&&t.redirect){let{redirect:n}=t,r=typeof n==`function`?n(e):n;return typeof r==`string`&&(r=r.includes(`?`)||r.includes(`#`)?r=v(r):{path:r},r.params={}),q({query:e.query,hash:e.hash,params:r.path==null?e.params:{}},r)}}function C(e,t){let n=l=_(e),i=c.value,a=e.state,o=e.force,s=e.replace===!0,u=S(n);if(u)return C(q(v(u),{state:typeof u==`object`?q({},a,u.state):a,force:o,replace:s}),t||n);let d=n;d.redirectedFrom=t;let f;return!o&&Zo(r,i,n)&&(f=Os(16,{to:d,from:i}),oe(i,i,!0,!1)),(f?Promise.resolve(f):ee(d,i)).catch(e=>ks(e)?ks(e,2)?e:A(e):ie(e,d,i)).then(e=>{if(e){if(ks(e,2))return C(q({replace:s},v(e.to),{state:typeof e.to==`object`?q({},a,e.to.state):a,force:o}),t||d)}else e=D(d,i,!0,s,a);return E(d,i,e),e})}function w(e,t){let n=y(e,t);return n?Promise.reject(n):Promise.resolve()}function T(e){let t=le.values().next().value;return t&&typeof t.runWithContext==`function`?t.runWithContext(e):e()}function ee(e,t){let n,[r,i,s]=bc(e,t);n=sc(r.reverse(),`beforeRouteLeave`,e,t);for(let i of r)i.leaveGuards.forEach(r=>{n.push(oc(r,e,t))});let c=w.bind(null,e,t);return n.push(c),j(n).then(()=>{n=[];for(let r of a.list())n.push(oc(r,e,t));return n.push(c),j(n)}).then(()=>{n=sc(i,`beforeRouteUpdate`,e,t);for(let r of i)r.updateGuards.forEach(r=>{n.push(oc(r,e,t))});return n.push(c),j(n)}).then(()=>{n=[];for(let r of s)if(r.beforeEnter)if(wo(r.beforeEnter))for(let i of r.beforeEnter)n.push(oc(i,e,t));else n.push(oc(r.beforeEnter,e,t));return n.push(c),j(n)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),n=sc(s,`beforeRouteEnter`,e,t,T),n.push(c),j(n))).then(()=>{n=[];for(let r of o.list())n.push(oc(r,e,t));return n.push(c),j(n)}).catch(e=>ks(e,8)?e:Promise.reject(e))}function E(e,t,n){s.list().forEach(r=>T(()=>r(e,t,n)))}function D(e,t,n,r,a){let o=y(e,t);if(o)return o;let s=t===rs,l=yo?history.state:{};n&&(r||s?i.replace(e.fullPath,q({scroll:s&&l&&l.scroll},a)):i.push(e.fullPath,a)),c.value=e,oe(e,t,n,s),A()}let O;function k(){O||=i.listen((e,t,n)=>{if(!ue.listening)return;let r=_(e),a=S(r);if(a){C(q(a,{replace:!0,force:!0}),r).catch(Co);return}l=r;let o=c.value;yo&&gs(ms(o.fullPath,n.delta),fs()),ee(r,o).catch(e=>ks(e,12)?e:ks(e,2)?(C(q(v(e.to),{force:!0}),r).then(e=>{ks(e,20)&&!n.delta&&n.type===os.pop&&i.go(-1,!1)}).catch(Co),Promise.reject()):(n.delta&&i.go(-n.delta,!1),ie(e,r,o))).then(e=>{e||=D(r,o,!1),e&&(n.delta&&!ks(e,8)?i.go(-n.delta,!1):n.type===os.pop&&ks(e,20)&&i.go(-1,!1)),E(r,o,e)}).catch(Co)})}let te=ac(),ne=ac(),re;function ie(e,t,n){A(e);let r=ne.list();return r.length?r.forEach(r=>r(e,t,n)):console.error(e),Promise.reject(e)}function ae(){return re&&c.value!==rs?Promise.resolve():new Promise((e,t)=>{te.add([e,t])})}function A(e){return re||(re=!e,k(),te.list().forEach(([t,n])=>e?n(e):t()),te.reset()),e}function oe(t,n,r,i){let{scrollBehavior:a}=e;if(!yo||!a)return Promise.resolve();let o=!r&&_s(ms(t.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return Tn().then(()=>a(t,n,o)).then(e=>e&&ps(e)).catch(e=>ie(e,t,n))}let se=e=>i.go(e),ce,le=new Set,ue={currentRoute:c,listening:!0,addRoute:p,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:g,getRoutes:h,resolve:_,options:e,push:b,replace:x,go:se,back:()=>se(-1),forward:()=>se(1),beforeEach:a.add,beforeResolve:o.add,afterEach:s.add,onError:ne.add,isReady:ae,install(e){let t=this;e.component(`RouterLink`,dc),e.component(`RouterView`,vc),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,`$route`,{enumerable:!0,get:()=>rn(c)}),yo&&!ce&&c.value===rs&&(ce=!0,b(i.location).catch(e=>{}));let n={};for(let e in rs)Object.defineProperty(n,e,{get:()=>c.value[e],enumerable:!0});e.provide(nc,t),e.provide(rc,Gt(n)),e.provide(ic,c);let r=e.unmount;le.add(e),e.unmount=function(){le.delete(e),le.size<1&&(l=rs,O&&O(),O=null,c.value=rs,ce=!1,re=!1),r()}}};function j(e){return e.reduce((e,t)=>e.then(()=>T(t)),Promise.resolve())}return ue}function bc(e,t){let n=[],r=[],i=[],a=Math.max(t.matched.length,e.matched.length);for(let o=0;o<a;o++){let a=t.matched[o];a&&(e.matched.find(e=>Qo(e,a))?r.push(a):n.push(a));let s=e.matched[o];s&&(t.matched.find(e=>Qo(e,s))||i.push(s))}return[n,r,i]}function xc(){return B(nc)}function Sc(e){return B(rc)}var Cc=(e,t)=>{let n=e.__vccOpts||e;for(let[e,r]of t)n[e]=r;return n};const wc={props:{modelValue:{type:String,default:`电影`}},data(){return{selectedOption:this.modelValue||`电影`,options:[`全部`,`电影`,`动漫`,`纪录片`,`剧集`],name:`radio`,routeToOption:{"/":`全部`,"/home":`全部`,"/movie":`电影`,"/anime":`动漫`,"/documentary":`纪录片`,"/series":`剧集`},iconMap:{首页:`<path d="M437.527273 297.890909c-20.945455-11.636364-48.872727-11.636364-69.818182 0-20.945455 11.636364-34.909091 34.909091-34.909091 60.509091v307.2c0 25.6 13.963636 48.872727 34.909091 60.509091 11.636364 6.981818 23.272727 9.309091 34.909091 9.309091s23.272727-2.327273 34.909091-9.309091l267.636363-153.6c20.945455-11.636364 34.909091-34.909091 34.909091-60.509091s-13.963636-48.872727-34.909091-60.509091l-267.636363-153.6z m242.036363 235.054546l-267.636363 153.6c-11.636364 6.981818-20.945455 2.327273-23.272728 0-4.654545-2.327273-11.636364-6.981818-11.636363-20.945455V358.4c0-11.636364 6.981818-18.618182 11.636363-20.945455 2.327273-2.327273 6.981818-2.327273 11.636364-2.327272 2.327273 0 6.981818 0 11.636364 2.327272l267.636363 153.6c11.636364 6.981818 11.636364 16.290909 11.636364 20.945455s0 13.963636-11.636364 20.945455z" fill="currentColor"></path><path d="M923.927273 209.454545c-6.981818-9.309091-23.272727-11.636364-32.581818-4.654545-9.309091 6.981818-11.636364 23.272727-4.654546 32.581818C947.2 316.509091 977.454545 411.927273 977.454545 512c0 256-209.454545 465.454545-465.454545 465.454545S46.545455 768 46.545455 512 256 46.545455 512 46.545455c100.072727 0 195.490909 30.254545 274.618182 90.763636 9.309091 6.981818 25.6 4.654545 32.581818-4.654546s4.654545-25.6-4.654545-32.581818C726.109091 34.909091 621.381818 0 512 0 230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512c0-109.381818-34.909091-214.109091-100.072727-302.545455z" fill="currentColor"></path>`,电影:`<path d="M844.832 885.344c-30.485333-20.714667-77.781333-18.965333-144.053333 9.386667A425.024 425.024 0 0 1 512 938.666667C276.362667 938.666667 85.333333 747.637333 85.333333 512S276.362667 85.333333 512 85.333333s426.666667 191.029333 426.666667 426.666667a425.013333 425.013333 0 0 1-44.405334 189.717333 32 32 0 0 1-57.301333-28.490666A361.013333 361.013333 0 0 0 874.666667 512c0-200.298667-162.368-362.666667-362.666667-362.666667S149.333333 311.701333 149.333333 512s162.368 362.666667 362.666667 362.666667c56.704 0 111.488-13.013333 161.12-37.653334l1.6-0.746666c84.746667-36.437333 154.176-39.125333 206.08-3.861334a32 32 0 1 1-35.968 52.938667zM512 416a64 64 0 1 1 0-128 64 64 0 0 1 0 128z m160 160a64 64 0 1 1 0-128 64 64 0 0 1 0 128zM512 736a64 64 0 1 1 0-128 64 64 0 0 1 0 128zM352 576a64 64 0 1 1 0-128 64 64 0 0 1 0 128z" fill="currentColor"></path>`,动漫:`<path d="M892 331.7L711 504.8c-6.1 5.9-6.3 15.6-0.4 21.7l175.3 179.7c26.8 27.4 39.6 62.7 36 99.1-3.4 34.5-22 66.6-51.3 88.3-23.3 20.5-131 106.4-302.3 106.4-279.2 0-506.4-218-506.4-486S289.1 28 568.3 28c185.7 0 291.6 93.6 315.1 116.9 28.1 22.4 45.5 54.6 47.9 88.7 2.5 36.6-11.4 71.4-39.3 98.1zM837.4 199l-2-1.5-1.8-1.8c-9.7-9.9-100-97.1-265.3-97.1-239.8 0-434.8 186.4-434.8 415.5s195.1 415.5 434.8 415.5c151.8 0 245.3-80.1 255.4-89.2l1.4-1.3 1.6-1.1c13.7-9.8 22.4-24.2 23.9-39.4 1.6-15.9-4.1-30.9-16.3-43.5L658.9 575.2C626 541.3 627 487 661.1 454.3l181.1-173.1c12.7-12.1 18.8-27 17.8-42.8-1.1-14.9-9.3-29.3-22.6-39.4zM600.5 325.7c-31.8 0-60.5-18.9-72.7-47.9-12.2-29-5.4-62.3 17.2-84.4 22.5-22.1 56.4-28.7 85.8-16.6 29.4 12 48.5 40.4 48.4 71.7 0 20.5-8.3 40.2-23.1 54.7-14.8 14.4-34.8 22.5-55.6 22.5z" fill="currentColor"></path>`,纪录片:`<path d="M890.24 381.866667c40.106667-104.106667 35.626667-187.733333-12.373333-234.666667s-135.893333-52.693333-243.84-9.173333a19.84 19.84 0 0 0-8.533334 7.04 385.066667 385.066667 0 0 0-482.133333 478.293333 23.253333 23.253333 0 0 0-5.12 7.466667c-44.8 109.44-42.666667 197.12 7.893333 247.04A147.84 147.84 0 0 0 254.506667 917.333333a360.96 360.96 0 0 0 128-27.093333c7.04-2.773333 14.08-5.973333 21.333333-8.96a384 384 0 0 0 477.44-478.293333c2.986667-7.04 6.186667-14.08 8.96-21.12z m-42.666667-205.653334c31.573333 31.786667 34.986667 92.373333 10.24 167.893334a386.346667 386.346667 0 0 0-178.346666-178.346667c75.946667-24.746667 136.32-21.333333 168.32 10.453333zM512 170.666667a342.613333 342.613333 0 0 1 323.626667 230.4 913.92 913.92 0 0 1-182.826667 251.733333 913.92 913.92 0 0 1-251.733333 182.826667A341.333333 341.333333 0 0 1 512 170.666667zM176.213333 847.786667c-32-32-35.413333-92.373333-10.453333-168.32a385.92 385.92 0 0 0 178.346667 178.56c-75.52 24.746667-136.106667 21.333333-167.893334-10.24zM854.4 512a340.053333 340.053333 0 0 1-389.546667 338.773333A1014.4 1014.4 0 0 0 682.666667 682.666667a1014.4 1014.4 0 0 0 167.68-218.24 342.826667 342.826667 0 0 1 4.053333 47.573333z" fill="currentColor"></path><path d="M498.986667 452.266667a86.613333 86.613333 0 1 0-86.613334-86.613334 86.613333 86.613333 0 0 0 86.613334 86.613334z m0-130.346667a43.946667 43.946667 0 1 1-43.946667 43.733333 43.733333 43.733333 0 0 1 43.946667-43.733333zM454.186667 702.72a68.266667 68.266667 0 1 0-68.053334-68.053333 68.266667 68.266667 0 0 0 68.053334 68.053333z m0-93.653333a25.6 25.6 0 1 1 0 50.986666 25.6 25.6 0 0 1 0-50.986666zM670.72 725.333333a32 32 0 1 0 32-31.786666 32 32 0 0 0-32 31.786666z m32-10.666666a10.666667 10.666667 0 0 1 10.666667 10.666666 10.88 10.88 0 1 1-21.333334 0 10.666667 10.666667 0 0 1 10.666667-11.093333z" fill="currentColor"></path>`,剧集:`<path d="M705.28 107.968a32 32 0 0 0-45.248-45.248L512 210.752 406.592 105.344a32 32 0 1 0-45.248 45.248L434.752 224h-10.496c-78.4 0-140.544 0-189.12 6.528-50.048 6.72-90.496 20.928-122.432 52.864-32 31.872-46.08 72.384-52.864 122.432C53.312 454.4 53.312 516.48 53.312 594.944v4.8c0 78.4 0 140.48 6.528 189.12 6.72 50.048 20.928 90.496 52.864 122.432 31.936 32 72.384 46.08 122.432 52.864 48.64 6.528 110.72 6.528 189.12 6.528H599.68c78.4 0 140.48 0 189.12-6.528 49.984-6.72 90.496-20.928 122.432-52.864 31.936-31.936 46.08-72.384 52.8-122.432 6.528-48.64 6.528-110.72 6.528-189.12v-4.8c0-78.4 0-140.544-6.528-189.12-6.72-50.048-20.864-90.56-52.8-122.432-31.936-32-72.448-46.08-122.432-52.864-48.64-6.528-110.72-6.528-189.12-6.528h-10.496l116.032-116.032zM157.952 328.64c18.048-18.112 42.752-28.928 85.76-34.688 43.776-5.888 101.568-5.952 182.912-5.952h170.688c81.344 0 139.2 0.064 183.04 5.952 42.88 5.76 67.648 16.64 85.696 34.688 18.048 18.048 28.864 42.752 34.624 85.696 5.888 43.84 5.952 101.632 5.952 183.04 0 81.28 0 139.136-5.952 182.976-5.76 42.88-16.576 67.648-34.624 85.76-18.048 17.984-42.816 28.8-85.76 34.56-43.776 5.952-101.632 6.016-182.976 6.016H426.624c-81.28 0-139.136-0.064-182.976-6.016-42.88-5.76-67.648-16.576-85.76-34.56-17.984-18.112-28.8-42.88-34.56-85.76-5.952-43.84-6.016-101.632-6.016-183.04 0-81.28 0.064-139.136 5.952-183.04 5.76-42.88 16.64-67.584 34.688-85.632z" fill="currentColor"></path>`}}},watch:{$route(e){let t=this.routeToOption[e.path];t&&t!==this.selectedOption&&(this.selectedOption=t)}},computed:{sliderPosition(){let e=this.options.indexOf(this.selectedOption),t=100/this.options.length;return`${e*t+.25}%`}},mounted(){this.setOptionFromRoute()},methods:{setOptionFromRoute(){let e=this.$route?.path||window.location.pathname,t=this.routeToOption[e];t&&(this.selectedOption=t)},updateValue(){this.$emit(`update:modelValue`,this.selectedOption)},getIcon(e){return this.iconMap[e]||``}}},Tc={class:`radio-inputs`},Ec=[`name`,`value`],Dc={class:`name`},Oc={class:`icon`,viewBox:`0 0 1024 1024`,xmlns:`http://www.w3.org/2000/svg`},kc=[`innerHTML`];function Ac(e,t,n,r,i,a){return H(),U(`div`,Tc,[W(`div`,{class:`slider`,style:ye({top:a.sliderPosition})},null,4),(H(!0),U(V,null,dr(i.options,(e,n)=>(H(),U(`label`,{class:`radio`,key:n},[Rn(W(`input`,{type:`radio`,name:i.name,value:e,"onUpdate:modelValue":t[0]||=e=>i.selectedOption=e,onChange:t[1]||=(...e)=>a.updateValue&&a.updateValue(...e)},null,40,Ec),[[uo,i.selectedOption]]),W(`span`,Dc,[(H(),U(`svg`,Oc,[W(`g`,{innerHTML:a.getIcon(e)},null,8,kc)])),Gi(` `+je(e),1)])]))),128))])}var jc=Cc(wc,[[`render`,Ac],[`__scopeId`,`data-v-efef9b38`]]);const Mc={props:{modelValue:{type:String,default:`豆瓣评分`}},data(){return{selectedOption:this.modelValue||`默认`,options:[`默认`,`豆瓣评分`,`上映时间`],name:`sort-radio`,iconMap:{默认:`<path d="M298.666667 213.333333h426.666666v85.333334H298.666667V213.333333z m0 256h426.666666v85.333334H298.666667V469.333333z m0 256h426.666666v85.333334H298.666667V725.333333z m-85.333334-512h85.333334v85.333334H213.333333V213.333333z m0 256h85.333334v85.333334H213.333333V469.333333z m0 256h85.333334v85.333334H213.333333V725.333333z" fill="currentColor"></path>`,豆瓣评分:`<path d="M512 85.333333c235.637333 0 426.666667 191.029333 426.666667 426.666667s-191.029333 426.666667-426.666667 426.666667S85.333333 747.637333 85.333333 512 276.362667 85.333333 512 85.333333z m0 64C311.701333 149.333333 149.333333 311.701333 149.333333 512s162.368 362.666667 362.666667 362.666667 362.666667-162.368 362.666667-362.666667S712.298667 149.333333 512 149.333333z m0 106.666667c141.385333 0 256 114.614667 256 256s-114.614667 256-256 256-256-114.614667-256-256 114.614667-256 256-256z m0 64c-106.039333 0-192 85.960667-192 192s85.960667 192 192 192 192-85.960667 192-192-85.960667-192-192-192z m0 85.333333c58.88 0 106.666667 47.786667 106.666667 106.666667s-47.786667 106.666667-106.666667 106.666667-106.666667-47.786667-106.666667-106.666667 47.786667-106.666667 106.666667-106.666667z" fill="currentColor"></path>`,上映时间:`<path d="M512 85.333333c235.637333 0 426.666667 191.029333 426.666667 426.666667s-191.029333 426.666667-426.666667 426.666667S85.333333 747.637333 85.333333 512 276.362667 85.333333 512 85.333333z m0 64C311.701333 149.333333 149.333333 311.701333 149.333333 512s162.368 362.666667 362.666667 362.666667 362.666667-162.368 362.666667-362.666667S712.298667 149.333333 512 149.333333z m32 106.666667v234.666667l170.666667 170.666666-45.254667 45.254667L512 618.666667V256h32z" fill="currentColor"></path>`}}},computed:{sliderPosition(){let e=this.options.indexOf(this.selectedOption),t=100/this.options.length;return`${e*t+.25}%`}},methods:{updateValue(){this.$emit(`update:modelValue`,this.selectedOption)},getIcon(e){return this.iconMap[e]||``}}},Nc={class:`radio-inputs`},Pc=[`name`,`value`],Fc={class:`name`},Ic={class:`icon`,viewBox:`0 0 1024 1024`,xmlns:`http://www.w3.org/2000/svg`},Lc=[`innerHTML`];function Rc(e,t,n,r,i,a){return H(),U(`div`,Nc,[W(`div`,{class:`slider`,style:ye({top:a.sliderPosition})},null,4),(H(!0),U(V,null,dr(i.options,(e,n)=>(H(),U(`label`,{class:`radio`,key:n},[Rn(W(`input`,{type:`radio`,name:i.name,value:e,"onUpdate:modelValue":t[0]||=e=>i.selectedOption=e,onChange:t[1]||=(...e)=>a.updateValue&&a.updateValue(...e)},null,40,Pc),[[uo,i.selectedOption]]),W(`span`,Fc,[(H(),U(`svg`,Ic,[W(`g`,{innerHTML:a.getIcon(e)},null,8,Lc)])),Gi(` `+je(e),1)])]))),128))])}var zc=Cc(Mc,[[`render`,Rc],[`__scopeId`,`data-v-ee33ebac`]]);const Bc={class:`sidebar-content`},Vc={class:`platform-switch-container`},Hc={class:`sort-switch-container`};var Uc=Un({__name:`Sidebar`,props:{isSidebarOpen:{type:Boolean}},emits:[`platformChanged`,`sortChanged`],setup(e,{emit:t}){let n=t,r=xc(),i=L(`电影`),a=L(`默认`),o={全部:`/`,电影:`/movie`,动漫:`/anime`,纪录片:`/documentary`,剧集:`/series`},s={全部:`全部`,电影:`电影`,动漫:`动漫`,纪录片:`纪录片`,剧集:`剧集`},c={默认:{sort_by:`movie_id`,sort_order:`desc`},豆瓣评分:{sort_by:`douban_rating`,sort_order:`desc`},上映时间:{sort_by:`release_date`,sort_order:`desc`}},l=e=>{let t=o[e];t&&r.push(t),n(`platformChanged`,s[e])},u=e=>{a.value=e;let t=c[e];n(`sortChanged`,{sortBy:t.sort_by,sortOrder:t.sort_order})};return(e,t)=>(H(),U(`aside`,{class:we([`sidebar`,{collapsed:!e.isSidebarOpen}])},[W(`div`,Bc,[W(`div`,Vc,[G(jc,{modelValue:i.value,"onUpdate:modelValue":[t[0]||=e=>i.value=e,l]},null,8,[`modelValue`])]),W(`div`,Hc,[t[2]||=W(`h3`,{class:`section-title`},`排序方式`,-1),G(zc,{modelValue:a.value,"onUpdate:modelValue":[t[1]||=e=>a.value=e,u]},null,8,[`modelValue`])])])],2))}}),Wc=Cc(Uc,[[`__scopeId`,`data-v-3800ad70`]]);const Gc={class:`top-navbar`},Kc={class:`navbar-left`},qc=[`aria-expanded`],Jc={class:`navbar-center`},Yc={class:`search-container`};var Xc=Un({__name:`TopNavbar`,emits:[`toggleSidebar`,`search`],setup(e,{emit:t}){let n=L(``),r=L(!0),i=B(`requestId`),a=B(`fetchMovies`),o=B(`selectedTagIds`),s=t,c=()=>{r.value=!r.value,s(`toggleSidebar`)},l=()=>{n.value.trim()&&(o&&o.value.length>0&&(o.value=[]),s(`search`,n.value.trim()),i&&i.value++,a&&a())},u=()=>{n.value=``,a&&s(`search`,``)},d=e=>{e.key===`Enter`&&(n.value.trim()?l():u())};return(e,t)=>(H(),U(`header`,Gc,[W(`div`,Kc,[W(`button`,{type:`button`,class:we([`VPNavBarHamburger`,{active:r.value}]),"aria-label":`mobile navigation`,"aria-expanded":r.value,"aria-controls":`VPNavScreen`,onClick:c},t[1]||=[W(`span`,{class:`container`},[W(`span`,{class:`top`}),W(`span`,{class:`middle`}),W(`span`,{class:`bottom`})],-1)],10,qc),t[2]||=W(`h1`,{class:`app-title`},`BiliPictures`,-1)]),W(`div`,Jc,[W(`div`,Yc,[Rn(W(`input`,{"onUpdate:modelValue":t[0]||=e=>n.value=e,type:`text`,placeholder:`电影，动漫，纪录片...`,class:`search-input`,onKeydown:d},null,544),[[lo,n.value]]),n.value?(H(),U(`button`,{key:0,onClick:u,class:`clear-button`},`×`)):qi(``,!0),W(`span`,{class:`search-text`,onClick:l},`搜索`)])])]))}}),Zc=Cc(Xc,[[`__scopeId`,`data-v-e92fda57`]]);const Qc=`modulepreload`,$c=function(e){return`/`+e},el={},tl=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=$c(t,n),t in el)return;el[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``,o=!!n;if(o)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let s=document.createElement(`link`);if(s.rel=r?`stylesheet`:Qc,r||(s.as=`script`),s.crossOrigin=``,s.href=t,a&&s.setAttribute(`nonce`,a),document.head.appendChild(s),r)return new Promise((e,n)=>{s.addEventListener(`load`,e),s.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[]){if(e.status!==`rejected`)continue;i(e.reason)}return e().catch(i)})},nl=e=>{let t;return t=e||(typeof fetch>`u`?(...e)=>tl(async()=>{let{default:e}=await import(`./browser-CSlRt5WX.js`);return{default:e}},[]).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)};var rl=class extends Error{constructor(e,t=`FunctionsError`,n){super(e),this.name=t,this.context=n}},il=class extends rl{constructor(e){super(`Failed to send a request to the Edge Function`,`FunctionsFetchError`,e)}},al=class extends rl{constructor(e){super(`Relay Error invoking the Edge Function`,`FunctionsRelayError`,e)}},ol=class extends rl{constructor(e){super(`Edge Function returned a non-2xx status code`,`FunctionsHttpError`,e)}},sl;(function(e){e.Any=`any`,e.ApNortheast1=`ap-northeast-1`,e.ApNortheast2=`ap-northeast-2`,e.ApSouth1=`ap-south-1`,e.ApSoutheast1=`ap-southeast-1`,e.ApSoutheast2=`ap-southeast-2`,e.CaCentral1=`ca-central-1`,e.EuCentral1=`eu-central-1`,e.EuWest1=`eu-west-1`,e.EuWest2=`eu-west-2`,e.EuWest3=`eu-west-3`,e.SaEast1=`sa-east-1`,e.UsEast1=`us-east-1`,e.UsWest1=`us-west-1`,e.UsWest2=`us-west-2`})(sl||={});var cl=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})},ll=class{constructor(e,{headers:t={},customFetch:n,region:r=sl.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=nl(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return cl(this,void 0,void 0,function*(){try{let{headers:r,method:i,body:a}=t,o={},{region:s}=t;s||=this.region;let c=new URL(`${this.url}/${e}`);s&&s!==`any`&&(o[`x-region`]=s,c.searchParams.set(`forceFunctionRegion`,s));let l;a&&(r&&!Object.prototype.hasOwnProperty.call(r,`Content-Type`)||!r)&&(typeof Blob<`u`&&a instanceof Blob||a instanceof ArrayBuffer?(o[`Content-Type`]=`application/octet-stream`,l=a):typeof a==`string`?(o[`Content-Type`]=`text/plain`,l=a):typeof FormData<`u`&&a instanceof FormData?l=a:(o[`Content-Type`]=`application/json`,l=JSON.stringify(a)));let u=yield this.fetch(c.toString(),{method:i||`POST`,headers:Object.assign(Object.assign(Object.assign({},o),this.headers),r),body:l}).catch(e=>{throw new il(e)}),d=u.headers.get(`x-relay-error`);if(d&&d===`true`)throw new al(u);if(!u.ok)throw new ol(u);let f=((n=u.headers.get(`Content-Type`))??`text/plain`).split(`;`)[0].trim(),p;return p=f===`application/json`?yield u.json():f===`application/octet-stream`?yield u.blob():f===`text/event-stream`?u:f===`multipart/form-data`?yield u.formData():yield u.text(),{data:p,error:null,response:u}}catch(e){return{data:null,error:e,response:e instanceof ol||e instanceof al?e.context:void 0}}})}},ul={};c(ul,{Headers:()=>hl,Request:()=>gl,Response:()=>_l,default:()=>ml,fetch:()=>pl});var dl,fl,pl,ml,hl,gl,_l,vl=o(()=>{dl=function(){if(typeof self<`u`)return self;if(typeof window<`u`)return window;if(typeof global<`u`)return global;throw Error(`unable to locate global object`)},fl=dl(),pl=fl.fetch,ml=fl.fetch.bind(fl),hl=fl.Headers,gl=fl.Request,_l=fl.Response}),yl=s(exports=>{Object.defineProperty(exports,`__esModule`,{value:!0});var t=class extends Error{constructor(e){super(e.message),this.name=`PostgrestError`,this.details=e.details,this.hint=e.hint,this.code=e.code}};exports.default=t}),bl=s(exports=>{var t=exports&&exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,`__esModule`,{value:!0});let n=t((vl(),d(ul))),r=t(yl());var i=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>`u`?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||([`GET`,`HEAD`].includes(this.method)?this.headers[`Accept-Profile`]=this.schema:this.headers[`Content-Profile`]=this.schema),this.method!==`GET`&&this.method!==`HEAD`&&(this.headers[`Content-Type`]=`application/json`);let n=this.fetch,i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,i;let a=null,o=null,s=null,c=e.status,l=e.statusText;if(e.ok){if(this.method!==`HEAD`){let t=await e.text();t===``||(o=this.headers.Accept===`text/csv`||this.headers.Accept&&this.headers.Accept.includes(`application/vnd.pgrst.plan+text`)?t:JSON.parse(t))}let r=(t=this.headers.Prefer)?.match(/count=(exact|planned|estimated)/),i=(n=e.headers.get(`content-range`))?.split(`/`);r&&i&&i.length>1&&(s=parseInt(i[1])),this.isMaybeSingle&&this.method===`GET`&&Array.isArray(o)&&(o.length>1?(a={code:`PGRST116`,details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:`JSON object requested, multiple (or no) rows returned`},o=null,s=null,c=406,l=`Not Acceptable`):o=o.length===1?o[0]:null)}else{let t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&e.status===404&&(o=[],a=null,c=200,l=`OK`)}catch{e.status===404&&t===``?(c=204,l=`No Content`):a={message:t}}if(a&&this.isMaybeSingle&&(i=a?.details)?.includes(`0 rows`)&&(a=null,c=200,l=`OK`),a&&this.shouldThrowOnError)throw new r.default(a)}let u={error:a,data:o,count:s,status:c,statusText:l};return u});return this.shouldThrowOnError||(i=i.catch(e=>{var t,n,r;return{error:{message:`${(t=e?.name)??`FetchError`}: ${e?.message}`,details:`${(n=e?.stack)??``}`,hint:``,code:`${(r=e?.code)??``}`},data:null,count:null,status:0,statusText:``}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}};exports.default=i}),xl=s(exports=>{var t=exports&&exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,`__esModule`,{value:!0});let n=t(bl());var r=class extends n.default{select(e){let t=!1,n=(e??`*`).split(``).map(e=>/\s/.test(e)&&!t?``:(e===`"`&&(t=!t),e)).join(``);return this.url.searchParams.set(`select`,n),this.headers.Prefer&&(this.headers.Prefer+=`,`),this.headers.Prefer+=`return=representation`,this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){let a=i?`${i}.order`:`order`,o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:``}${e}.${t?`asc`:`desc`}${n===void 0?``:n?`.nullsfirst`:`.nullslast`}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=n===void 0?`limit`:`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let i=r===void 0?`offset`:`${r}.offset`,a=r===void 0?`limit`:`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept=`application/vnd.pgrst.object+json`,this}maybeSingle(){return this.method===`GET`?this.headers.Accept=`application/json`:this.headers.Accept=`application/vnd.pgrst.object+json`,this.isMaybeSingle=!0,this}csv(){return this.headers.Accept=`text/csv`,this}geojson(){return this.headers.Accept=`application/geo+json`,this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a=`text`}={}){var o;let s=[e?`analyze`:null,t?`verbose`:null,n?`settings`:null,r?`buffers`:null,i?`wal`:null].filter(Boolean).join(`|`),c=(o=this.headers.Accept)??`application/json`;return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${s};`,this}rollback(){var e;return((e=this.headers.Prefer)??``).trim().length>0?this.headers.Prefer+=`,tx=rollback`:this.headers.Prefer=`tx=rollback`,this}returns(){return this}};exports.default=r}),Sl=s(exports=>{var t=exports&&exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,`__esModule`,{value:!0});let n=t(xl());var r=class extends n.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(`,`)}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(`,`)}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(`,`)}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(`,`)}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let n=Array.from(new Set(t)).map(e=>typeof e==`string`&&RegExp(`[,()]`).test(e)?`"${e}"`:`${e}`).join(`,`);return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return typeof t==`string`?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(`,`)}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t==`string`?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(`,`)}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t==`string`?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(`,`)}}`),this}textSearch(e,t,{config:n,type:r}={}){let i=``;r===`plain`?i=`pl`:r===`phrase`?i=`ph`:r===`websearch`&&(i=`w`);let a=n===void 0?``:`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:`or`;return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};exports.default=r}),Cl=s(exports=>{var t=exports&&exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,`__esModule`,{value:!0});let n=t(Sl());var r=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=t,this.schema=n,this.fetch=r}select(e,{head:t=!1,count:r}={}){let i=t?`HEAD`:`GET`,a=!1,o=(e??`*`).split(``).map(e=>/\s/.test(e)&&!a?``:(e===`"`&&(a=!a),e)).join(``);return this.url.searchParams.set(`select`,o),r&&(this.headers.Prefer=`count=${r}`),new n.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){let i=`POST`,a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),t&&a.push(`count=${t}`),r||a.push(`missing=default`),this.headers.Prefer=a.join(`,`),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set(`columns`,e.join(`,`))}}return new n.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){let o=`POST`,s=[`resolution=${r?`ignore`:`merge`}-duplicates`];if(t!==void 0&&this.url.searchParams.set(`on_conflict`,t),this.headers.Prefer&&s.push(this.headers.Prefer),i&&s.push(`count=${i}`),a||s.push(`missing=default`),this.headers.Prefer=s.join(`,`),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set(`columns`,e.join(`,`))}}return new n.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){let r=`PATCH`,i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(`,`),new n.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let t=`DELETE`,r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(`,`),new n.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};exports.default=r}),wl=s(exports=>{Object.defineProperty(exports,`__esModule`,{value:!0}),exports.version=`0.0.0-automated`}),Tl=s(exports=>{Object.defineProperty(exports,`__esModule`,{value:!0});let t=wl();exports.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`}}),El=s(exports=>{var t=exports&&exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,`__esModule`,{value:!0});let n=t(Cl()),r=t(Sl()),i=Tl();var a=class e{constructor(e,{headers:t={},schema:n,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){let t=new URL(`${this.url}/${e}`);return new n.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:i=!1,count:a}={}){let o,s=new URL(`${this.url}/rpc/${e}`),c;n||i?(o=n?`HEAD`:`GET`,Object.entries(t).filter(([e,t])=>t!==void 0).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(`,`)}}`:`${t}`]).forEach(([e,t])=>{s.searchParams.append(e,t)})):(o=`POST`,c=t);let l=Object.assign({},this.headers);return a&&(l.Prefer=`count=${a}`),new r.default({method:o,url:s,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};exports.default=a}),Dl=s(exports=>{var t=exports&&exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,`__esModule`,{value:!0}),exports.PostgrestError=exports.PostgrestBuilder=exports.PostgrestTransformBuilder=exports.PostgrestFilterBuilder=exports.PostgrestQueryBuilder=exports.PostgrestClient=void 0;let n=t(El());exports.PostgrestClient=n.default;let r=t(Cl());exports.PostgrestQueryBuilder=r.default;let i=t(Sl());exports.PostgrestFilterBuilder=i.default;let a=t(xl());exports.PostgrestTransformBuilder=a.default;let o=t(bl());exports.PostgrestBuilder=o.default;let s=t(yl());exports.PostgrestError=s.default,exports.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:s.default}}),Ol=u(Dl(),1);const{PostgrestClient:kl,PostgrestQueryBuilder:Al,PostgrestFilterBuilder:jl,PostgrestTransformBuilder:Ml,PostgrestBuilder:Nl,PostgrestError:Pl}=Ol.default;function Fl(){if(typeof WebSocket<`u`)return WebSocket;if(global.WebSocket!==void 0)return global.WebSocket;if(window.WebSocket!==void 0)return window.WebSocket;if(self.WebSocket!==void 0)return self.WebSocket;throw Error("`WebSocket` is not supported in this environment")}const Il=Fl(),Ll=`2.11.15`,Rl=`realtime-js/${Ll}`,zl=`1.0.0`,Bl=1e4,Vl=1e3;var Hl;(function(e){e[e.connecting=0]=`connecting`,e[e.open=1]=`open`,e[e.closing=2]=`closing`,e[e.closed=3]=`closed`})(Hl||={});var J;(function(e){e.closed=`closed`,e.errored=`errored`,e.joined=`joined`,e.joining=`joining`,e.leaving=`leaving`})(J||={});var Ul;(function(e){e.close=`phx_close`,e.error=`phx_error`,e.join=`phx_join`,e.reply=`phx_reply`,e.leave=`phx_leave`,e.access_token=`access_token`})(Ul||={});var Wl;(function(e){e.websocket=`websocket`})(Wl||={});var Gl;(function(e){e.Connecting=`connecting`,e.Open=`open`,e.Closing=`closing`,e.Closed=`closed`})(Gl||={});var Kl=class{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e==`string`?JSON.parse(e):{})}_binaryDecode(e){let t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),a=this.HEADER_LENGTH+2,o=n.decode(e.slice(a,a+r));a+=r;let s=n.decode(e.slice(a,a+i));a+=i;let c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:s,payload:c}}},ql=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries+=1,this.callback()},this.timerCalc(this.tries+1))}},Y;(function(e){e.abstime=`abstime`,e.bool=`bool`,e.date=`date`,e.daterange=`daterange`,e.float4=`float4`,e.float8=`float8`,e.int2=`int2`,e.int4=`int4`,e.int4range=`int4range`,e.int8=`int8`,e.int8range=`int8range`,e.json=`json`,e.jsonb=`jsonb`,e.money=`money`,e.numeric=`numeric`,e.oid=`oid`,e.reltime=`reltime`,e.text=`text`,e.time=`time`,e.timestamp=`timestamp`,e.timestamptz=`timestamptz`,e.timetz=`timetz`,e.tsrange=`tsrange`,e.tstzrange=`tstzrange`})(Y||={});const Jl=(e,t,n={})=>{var r;let i=(r=n.skipTypes)??[];return Object.keys(t).reduce((n,r)=>(n[r]=Yl(r,e,t,i),n),{})},Yl=(e,t,n,r)=>{let i=t.find(t=>t.name===e),a=i?.type,o=n[e];return a&&!r.includes(a)?Xl(a,o):Zl(o)},Xl=(e,t)=>{if(e.charAt(0)===`_`){let n=e.slice(1,e.length);return tu(t,n)}switch(e){case Y.bool:return Ql(t);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return $l(t);case Y.json:case Y.jsonb:return eu(t);case Y.timestamp:return nu(t);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return Zl(t);default:return Zl(t)}},Zl=e=>e,Ql=e=>{switch(e){case`t`:return!0;case`f`:return!1;default:return e}},$l=e=>{if(typeof e==`string`){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},eu=e=>{if(typeof e==`string`)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},tu=(e,t)=>{if(typeof e!=`string`)return e;let n=e.length-1,r=e[n],i=e[0];if(i===`{`&&r===`}`){let r,i=e.slice(1,n);try{r=JSON.parse(`[`+i+`]`)}catch{r=i?i.split(`,`):[]}return r.map(e=>Xl(t,e))}return e},nu=e=>typeof e==`string`?e.replace(` `,`T`):e,ru=e=>{let t=e;return t=t.replace(/^ws/i,`http`),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,``),t.replace(/\/+$/,``)};var iu=class{constructor(e,t,n={},r=Bl){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref=``,this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref=``,this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived(`timeout`)||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)?.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger(`timeout`,{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}},au;(function(e){e.SYNC=`sync`,e.JOIN=`join`,e.LEAVE=`leave`})(au||={});var ou=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:`presence_state`,diff:`presence_diff`};this.channel._on(r.state,{},t=>{let{onJoin:n,onLeave:r,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,t,n,r),this.pendingDiffs.forEach(t=>{this.state=e.syncDiff(this.state,t,n,r)}),this.pendingDiffs=[],i()}),this.channel._on(r.diff,{},t=>{let{onJoin:n,onLeave:r,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(t):(this.state=e.syncDiff(this.state,t,n,r),i())}),this.onJoin((e,t,n)=>{this.channel._trigger(`presence`,{event:`join`,key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger(`presence`,{event:`leave`,key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger(`presence`,{event:`sync`})})}static syncState(e,t,n,r){let i=this.cloneDeep(e),a=this.transformState(t),o={},s={};return this.map(i,(e,t)=>{a[e]||(s[e]=t)}),this.map(a,(e,t)=>{let n=i[e];if(n){let r=t.map(e=>e.presence_ref),i=n.map(e=>e.presence_ref),a=t.filter(e=>i.indexOf(e.presence_ref)<0),c=n.filter(e=>r.indexOf(e.presence_ref)<0);a.length>0&&(o[e]=a),c.length>0&&(s[e]=c)}else o[e]=t}),this.syncDiff(i,{joins:o,leaves:s},n,r)}static syncDiff(e,t,n,r){let{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||=()=>{},r||=()=>{},this.map(i,(t,r)=>{var i;let a=(i=e[t])??[];if(e[t]=this.cloneDeep(r),a.length>0){let n=e[t].map(e=>e.presence_ref),r=a.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,a,r)}),this.map(a,(t,n)=>{let i=e[t];if(!i)return;let a=n.map(e=>e.presence_ref);i=i.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=i,r(t,i,n),i.length===0&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{let r=e[n];return`metas`in r?t[n]=r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[n]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}},su;(function(e){e.ALL=`*`,e.INSERT=`INSERT`,e.UPDATE=`UPDATE`,e.DELETE=`DELETE`})(su||={});var cu;(function(e){e.BROADCAST=`broadcast`,e.PRESENCE=`presence`,e.POSTGRES_CHANGES=`postgres_changes`,e.SYSTEM=`system`})(cu||={});var lu;(function(e){e.SUBSCRIBED=`SUBSCRIBED`,e.TIMED_OUT=`TIMED_OUT`,e.CLOSED=`CLOSED`,e.CHANNEL_ERROR=`CHANNEL_ERROR`})(lu||={});var uu=class e{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=J.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,``),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:``},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new iu(this,Ul.join,this.params,this.timeout),this.rejoinTimer=new ql(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive(`ok`,()=>{this.state=J.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log(`channel`,`close ${this.topic} ${this._joinRef()}`),this.state=J.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log(`channel`,`error ${this.topic}`,e),this.state=J.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive(`timeout`,()=>{this._isJoining()&&(this.socket.log(`channel`,`timeout ${this.topic}`,this.joinPush.timeout),this.state=J.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ul.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new ou(this),this.broadcastEndpointURL=ru(this.socket.endPoint)+`/api/broadcast`,this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==J.closed){let{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(t=>e?.(lu.CHANNEL_ERROR,t)),this._onClose(()=>e?.(lu.CLOSED));let s={},c={broadcast:i,presence:a,postgres_changes:(r=(n=this.bindings.postgres_changes)?.map(e=>e.filter))??[],private:o};this.socket.accessTokenValue&&(s.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},s)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive(`ok`,async({postgres_changes:t})=>{var n;if(this.socket.setAuth(),t===void 0){e?.(lu.SUBSCRIBED);return}else{let r=this.bindings.postgres_changes,i=(n=r?.length)??0,a=[];for(let n=0;n<i;n++){let i=r[n],{filter:{event:o,schema:s,table:c,filter:l}}=i,u=t&&t[n];if(u&&u.event===o&&u.schema===s&&u.table===c&&u.filter===l)a.push(Object.assign(Object.assign({},i),{id:u.id}));else{this.unsubscribe(),this.state=J.errored,e?.(lu.CHANNEL_ERROR,Error(`mismatch between server and client bindings for postgres changes`));return}}this.bindings.postgres_changes=a,e&&e(lu.SUBSCRIBED);return}}).receive(`error`,t=>{this.state=J.errored,e?.(lu.CHANNEL_ERROR,Error(JSON.stringify(Object.values(t).join(`, `)||`error`)))}).receive(`timeout`,()=>{e?.(lu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:`presence`,event:`track`,payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:`presence`,event:`untrack`},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,r;if(!this._canPush()&&e.type===`broadcast`){let{event:i,payload:a}=e,o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:``,s={method:`POST`,headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:``,"Content-Type":`application/json`},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{let e=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(n=t.timeout)??this.timeout);return await(r=e.body)?.cancel(),e.ok?`ok`:`error`}catch(e){return e.name===`AbortError`?`timed out`:`error`}}else return new Promise(n=>{var r,i,a;let o=this._push(e.type,e,t.timeout||this.timeout);e.type===`broadcast`&&!(a=(i=(r=this.params)?.config)?.broadcast)?.ack&&n(`ok`),o.receive(`ok`,()=>n(`ok`)),o.receive(`error`,()=>n(`error`)),o.receive(`timeout`,()=>n(`timed out`))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=J.leaving;let t=()=>{this.socket.log(`channel`,`leave ${this.topic}`),this._trigger(Ul.close,`leave`,this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new iu(this,Ul.leave,{},e),n.receive(`ok`,()=>{t(),r(`ok`)}).receive(`timeout`,()=>{t(),r(`timed out`)}).receive(`error`,()=>{r(`error`)}),n.send(),this._canPush()||n.trigger(`ok`,{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,n){let r=new AbortController,i=setTimeout(()=>r.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new iu(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;let a=e.toLocaleLowerCase(),{close:o,error:s,leave:c,join:l}=Ul,u=[o,s,c,l];if(n&&u.indexOf(a)>=0&&n!==this._joinRef())return;let d=this._onMessage(a,t,n);if(t&&!d)throw`channel onMessage callbacks must return the payload, modified or unmodified`;[`insert`,`update`,`delete`].includes(a)?(r=this.bindings.postgres_changes)==null||r.filter(e=>{var t,n,r;return(t=e.filter)?.event===`*`||(r=(n=e.filter)?.event)?.toLocaleLowerCase()===a}).map(e=>e.callback(d,n)):(i=this.bindings[a])==null||i.filter(e=>{var n,r,i,o,s,c;if([`broadcast`,`presence`,`postgres_changes`].includes(a))if(`id`in e){let a=e.id,o=(n=e.filter)?.event;return a&&(r=t.ids)?.includes(a)&&(o===`*`||o?.toLocaleLowerCase()===(i=t.data)?.type.toLocaleLowerCase())}else{let n=(s=(o=e?.filter)?.event)?.toLocaleLowerCase();return n===`*`||n===(c=t?.event)?.toLocaleLowerCase()}else return e.type.toLocaleLowerCase()===a}).map(e=>{if(typeof d==`object`&&`ids`in d){let e=d.data,{schema:t,table:n,commit_timestamp:r,type:i,errors:a}=e,o={schema:t,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:a};d=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(d,n)})}_isClosed(){return this.state===J.closed}_isJoined(){return this.state===J.joined}_isJoining(){return this.state===J.joining}_isLeaving(){return this.state===J.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){let r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(t=>{var i;return!((i=t.type)?.toLocaleLowerCase()===r&&e.isEqual(t.filter,n))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ul.close,{},e)}_onError(e){this._on(Ul.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=J.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type===`INSERT`||e.type===`UPDATE`)&&(t.new=Jl(e.columns,e.record)),(e.type===`UPDATE`||e.type===`DELETE`)&&(t.old=Jl(e.columns,e.old_record)),t}};const du=()=>{},fu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;var pu=class{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint=``,this.httpEndpoint=``,this.headers={},this.params={},this.timeout=Bl,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=du,this.ref=0,this.logger=du,this.conn=null,this.sendBuffer=[],this.serializer=new Kl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||(typeof fetch>`u`?(...e)=>tl(async()=>{let{default:e}=await import(`./browser-CSlRt5WX.js`);return{default:e}},[]).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},this.endPoint=`${e}/${Wl.websocket}`,this.httpEndpoint=ru(e),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let r=(n=t?.params)?.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=t?.encode?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ql(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<`u`&&!window.Worker)throw Error(`Web Worker is not supported`);this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport||=Il,!this.transport)throw Error(`No transport provided`);this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zl}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??``):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(e=>e.teardown()))}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Hl.connecting:return Gl.Connecting;case Hl.open:return Gl.Open;case Hl.closing:return Gl.Closing;default:return Gl.Closed}}isConnected(){return this.connectionState()===Gl.Open}channel(e,t={config:{}}){let n=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===n);if(r)return r;{let n=new uu(`realtime:${e}`,t,this);return this.channels.push(n),n}}push(e){let{topic:t,event:n,payload:r,ref:i}=e,a=()=>{this.encode(e,e=>{var t;(t=this.conn)==null||t.send(e)})};this.log(`push`,`${t} ${n} (${i})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{let n={access_token:t,version:Rl};t&&e.updateJoinPayload(n),e.joinedOnce&&e._isJoined()&&e._push(Ul.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback(`disconnected`);return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log(`transport`,`heartbeat timeout. Attempting to re-establish connection`),this.heartbeatCallback(`timeout`),(e=this.conn)==null||e.close(Vl,`hearbeat timeout`);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:`phoenix`,event:`heartbeat`,payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback(`sent`),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log(`transport`,`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType=`arraybuffer`,this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:n,payload:r,ref:i}=e;t===`phoenix`&&n===`phx_reply`&&this.heartbeatCallback(e.payload.status==`ok`?`ok`:`error`),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log(`receive`,`${r.status||``} ${t} ${n} ${i&&`(`+i+`)`||``}`,r),Array.from(this.channels).filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,i)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log(`transport`,`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log(`worker`,`starting worker for from ${this.workerUrl}`):this.log(`worker`,`starting default worker`);let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log(`worker`,`worker error`,e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event===`keepAlive`&&this.sendHeartbeat()},this.workerRef.postMessage({event:`start`,interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log(`transport`,`close`,e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log(`transport`,`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ul.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;let n=e.match(/\?/)?`&`:`?`,r=new URLSearchParams(t);return`${e}${n}${r}`}_workerObjectUrl(e){let t;if(e)t=e;else{let e=new Blob([fu],{type:`application/javascript`});t=URL.createObjectURL(e)}return t}},mu=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name=`StorageError`}};function X(e){return typeof e==`object`&&!!e&&`__isStorageError`in e}var hu=class extends mu{constructor(e,t){super(e),this.name=`StorageApiError`,this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},gu=class extends mu{constructor(e,t){super(e),this.name=`StorageUnknownError`,this.originalError=t}},_u=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})};const vu=e=>{let t;return t=e||(typeof fetch>`u`?(...e)=>tl(async()=>{let{default:e}=await import(`./browser-CSlRt5WX.js`);return{default:e}},[]).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},yu=()=>_u(void 0,void 0,void 0,function*(){return typeof Response>`u`?(yield tl(()=>import(`./browser-CSlRt5WX.js`),[])).Response:Response}),bu=e=>{if(Array.isArray(e))return e.map(e=>bu(e));if(typeof e==`function`||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([e,n])=>{let r=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,``));t[r]=bu(n)}),t};var xu=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})};const Su=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Cu=(e,t,n)=>xu(void 0,void 0,void 0,function*(){let r=yield yu();e instanceof r&&!n?.noResolveJson?e.json().then(n=>{t(new hu(Su(n),e.status||500))}).catch(e=>{t(new gu(Su(e),e))}):t(new gu(Su(e),e))}),wu=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e===`GET`?i:(i.headers=Object.assign({"Content-Type":`application/json`},t?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Tu(e,t,n,r,i,a){return xu(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(n,wu(t,r,i,a)).then(e=>{if(!e.ok)throw e;return r?.noResolveJson?e:e.json()}).then(e=>o(e)).catch(e=>Cu(e,s,r))})})}function Eu(e,t,n,r){return xu(this,void 0,void 0,function*(){return Tu(e,`GET`,t,n,r)})}function Du(e,t,n,r,i){return xu(this,void 0,void 0,function*(){return Tu(e,`POST`,t,r,i,n)})}function Ou(e,t,n,r,i){return xu(this,void 0,void 0,function*(){return Tu(e,`PUT`,t,r,i,n)})}function ku(e,t,n,r){return xu(this,void 0,void 0,function*(){return Tu(e,`HEAD`,t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Au(e,t,n,r,i){return xu(this,void 0,void 0,function*(){return Tu(e,`DELETE`,t,r,i,n)})}var ju=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})};const Mu={limit:100,offset:0,sortBy:{column:`name`,order:`asc`}},Nu={cacheControl:`3600`,contentType:`text/plain;charset=UTF-8`,upsert:!1};var Pu=class{constructor(e,t={},n,r){this.url=e,this.headers=t,this.bucketId=n,this.fetch=vu(r)}uploadOrUpdate(e,t,n,r){return ju(this,void 0,void 0,function*(){try{let i,a=Object.assign(Object.assign({},Nu),r),o=Object.assign(Object.assign({},this.headers),e===`POST`&&{"x-upsert":String(a.upsert)}),s=a.metadata;typeof Blob<`u`&&n instanceof Blob?(i=new FormData,i.append(`cacheControl`,a.cacheControl),s&&i.append(`metadata`,this.encodeMetadata(s)),i.append(``,n)):typeof FormData<`u`&&n instanceof FormData?(i=n,i.append(`cacheControl`,a.cacheControl),s&&i.append(`metadata`,this.encodeMetadata(s))):(i=n,o[`cache-control`]=`max-age=${a.cacheControl}`,o[`content-type`]=a.contentType,s&&(o[`x-metadata`]=this.toBase64(this.encodeMetadata(s)))),r?.headers&&(o=Object.assign(Object.assign({},o),r.headers));let c=this._removeEmptyFolders(t),l=this._getFinalPath(c),u=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:i,headers:o},a?.duplex?{duplex:a.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:c,id:d.Id,fullPath:d.Key},error:null};{let e=d;return{data:null,error:e}}}catch(e){if(X(e))return{data:null,error:e};throw e}})}upload(e,t,n){return ju(this,void 0,void 0,function*(){return this.uploadOrUpdate(`POST`,e,t,n)})}uploadToSignedUrl(e,t,n,r){return ju(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set(`token`,t);try{let e,t=Object.assign({upsert:Nu.upsert},r),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});typeof Blob<`u`&&n instanceof Blob?(e=new FormData,e.append(`cacheControl`,t.cacheControl),e.append(``,n)):typeof FormData<`u`&&n instanceof FormData?(e=n,e.append(`cacheControl`,t.cacheControl)):(e=n,a[`cache-control`]=`max-age=${t.cacheControl}`,a[`content-type`]=t.contentType);let s=yield this.fetch(o.toString(),{method:`PUT`,body:e,headers:a}),c=yield s.json();if(s.ok)return{data:{path:i,fullPath:c.Key},error:null};{let e=c;return{data:null,error:e}}}catch(e){if(X(e))return{data:null,error:e};throw e}})}createSignedUploadUrl(e,t){return ju(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),r=Object.assign({},this.headers);t?.upsert&&(r[`x-upsert`]=`true`);let i=yield Du(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),a=new URL(this.url+i.url),o=a.searchParams.get(`token`);if(!o)throw new mu(`No token returned by API`);return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}update(e,t,n){return ju(this,void 0,void 0,function*(){return this.uploadOrUpdate(`PUT`,e,t,n)})}move(e,t,n){return ju(this,void 0,void 0,function*(){try{let r=yield Du(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers});return{data:r,error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}copy(e,t,n){return ju(this,void 0,void 0,function*(){try{let r=yield Du(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:this.headers});return{data:{path:r.Key},error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}createSignedUrl(e,t,n){return ju(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield Du(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:this.headers}),a=n?.download?`&download=${n.download===!0?``:n.download}`:``,o=encodeURI(`${this.url}${i.signedURL}${a}`);return i={signedUrl:o},{data:i,error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}createSignedUrls(e,t,n){return ju(this,void 0,void 0,function*(){try{let r=yield Du(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?``:n.download}`:``;return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${i}`):null})),error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}download(e,t){return ju(this,void 0,void 0,function*(){let n=t?.transform!==void 0,r=n?`render/image/authenticated`:`object`,i=this.transformOptsToQueryString(t?.transform||{}),a=i?`?${i}`:``;try{let t=this._getFinalPath(e),n=yield Eu(this.fetch,`${this.url}/${r}/${t}${a}`,{headers:this.headers,noResolveJson:!0}),i=yield n.blob();return{data:i,error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}info(e){return ju(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let e=yield Eu(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:bu(e),error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}exists(e){return ju(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield ku(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(e){if(X(e)&&e instanceof gu){let t=e.originalError;if([400,404].includes(t?.status))return{data:!1,error:e}}throw e}})}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?``:t.download}`:``;i!==``&&r.push(i);let a=t?.transform!==void 0,o=a?`render/image`:`object`,s=this.transformOptsToQueryString(t?.transform||{});s!==``&&r.push(s);let c=r.join(`&`);return c!==``&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return ju(this,void 0,void 0,function*(){try{let t=yield Au(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers});return{data:t,error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}list(e,t,n){return ju(this,void 0,void 0,function*(){try{let r=Object.assign(Object.assign(Object.assign({},Mu),t),{prefix:e||``}),i=yield Du(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n);return{data:i,error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<`u`?Buffer.from(e).toString(`base64`):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,``).replace(/\/+/g,`/`)}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join(`&`)}};const Fu=`2.7.1`,Iu={"X-Client-Info":`storage-js/${Fu}`};var Lu=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})},Ru=class{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},Iu),t),this.fetch=vu(n)}listBuckets(){return Lu(this,void 0,void 0,function*(){try{let e=yield Eu(this.fetch,`${this.url}/bucket`,{headers:this.headers});return{data:e,error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}getBucket(e){return Lu(this,void 0,void 0,function*(){try{let t=yield Eu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers});return{data:t,error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}createBucket(e,t={public:!1}){return Lu(this,void 0,void 0,function*(){try{let n=yield Du(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}updateBucket(e,t){return Lu(this,void 0,void 0,function*(){try{let n=yield Ou(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}emptyBucket(e){return Lu(this,void 0,void 0,function*(){try{let t=yield Du(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers});return{data:t,error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}deleteBucket(e){return Lu(this,void 0,void 0,function*(){try{let t=yield Au(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers});return{data:t,error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}},zu=class extends Ru{constructor(e,t={},n){super(e,t,n)}from(e){return new Pu(this.url,this.headers,e,this.fetch)}};const Bu=`2.52.0`;let Vu=``;Vu=typeof Deno<`u`?`deno`:typeof document<`u`?`web`:typeof navigator<`u`&&navigator.product===`ReactNative`?`react-native`:`node`;const Hu={"X-Client-Info":`supabase-js-${Vu}/${Bu}`},Uu={headers:Hu},Wu={schema:`public`},Gu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:`implicit`},Ku={};vl();var qu=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})};const Ju=e=>{let t;return t=e||(typeof fetch>`u`?ml:fetch),(...e)=>t(...e)},Yu=()=>typeof Headers>`u`?hl:Headers,Xu=(e,t,n)=>{let r=Ju(n),i=Yu();return(n,a)=>qu(void 0,void 0,void 0,function*(){var o;let s=(o=yield t())??e,c=new i(a?.headers);return c.has(`apikey`)||c.set(`apikey`,e),c.has(`Authorization`)||c.set(`Authorization`,`Bearer ${s}`),r(n,Object.assign(Object.assign({},a),{headers:c}))})};var Zu=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})};function Qu(e){return e.endsWith(`/`)?e:e+`/`}function $u(e,t){var n,r;let{db:i,auth:a,realtime:o,global:s}=e,{db:c,auth:l,realtime:u,global:d}=t,f={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},l),a),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(n=d?.headers)??{}),(r=s?.headers)??{})}),accessToken:()=>Zu(this,void 0,void 0,function*(){return``})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const ed=`2.71.1`,td=30*1e3,nd=3,rd=nd*td,id=`http://localhost:9999`,ad=`supabase.auth.token`,od={"X-Client-Info":`gotrue-js/${ed}`},sd=`X-Supabase-Api-Version`,cd={"2024-01-01":{timestamp:Date.parse(`2024-01-01T00:00:00.0Z`),name:`2024-01-01`}},ld=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ud=600*1e3;var dd=class extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name=`AuthError`,this.status=t,this.code=n}};function Z(e){return typeof e==`object`&&!!e&&`__isAuthError`in e}var fd=class extends dd{constructor(e,t,n){super(e,t,n),this.name=`AuthApiError`,this.status=t,this.code=n}};function pd(e){return Z(e)&&e.name===`AuthApiError`}var md=class extends dd{constructor(e,t){super(e),this.name=`AuthUnknownError`,this.originalError=t}},hd=class extends dd{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}},gd=class extends hd{constructor(){super(`Auth session missing!`,`AuthSessionMissingError`,400,void 0)}};function _d(e){return Z(e)&&e.name===`AuthSessionMissingError`}var vd=class extends hd{constructor(){super(`Auth session or user missing`,`AuthInvalidTokenResponseError`,500,void 0)}},yd=class extends hd{constructor(e){super(e,`AuthInvalidCredentialsError`,400,void 0)}},bd=class extends hd{constructor(e,t=null){super(e,`AuthImplicitGrantRedirectError`,500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function xd(e){return Z(e)&&e.name===`AuthImplicitGrantRedirectError`}var Sd=class extends hd{constructor(e,t=null){super(e,`AuthPKCEGrantCodeExchangeError`,500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Cd=class extends hd{constructor(e,t){super(e,`AuthRetryableFetchError`,t,void 0)}};function wd(e){return Z(e)&&e.name===`AuthRetryableFetchError`}var Td=class extends hd{constructor(e,t,n){super(e,`AuthWeakPasswordError`,t,`weak_password`),this.reasons=n}},Ed=class extends hd{constructor(e){super(e,`AuthInvalidJwtError`,400,`invalid_jwt`)}};const Dd=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_`.split(``),Od=` 	
\r=`.split(``),kd=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Od.length;t+=1)e[Od[t].charCodeAt(0)]=-2;for(let t=0;t<Dd.length;t+=1)e[Dd[t].charCodeAt(0)]=t;return e})();function Ad(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let e=t.queue>>t.queuedBits-6&63;n(Dd[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue<<=6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let e=t.queue>>t.queuedBits-6&63;n(Dd[e]),t.queuedBits-=6}}function jd(e,t,n){let r=kd[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else if(r===-2)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}function Md(e){let t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=e=>{Fd(e,r,n)};for(let t=0;t<e.length;t+=1)jd(e.charCodeAt(t),i,a);return t.join(``)}function Nd(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Pd(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let t=(r-55296)*1024&65535,i=e.charCodeAt(n+1)-56320&65535;r=(i|t)+65536,n+=1}Nd(r,t)}}function Fd(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw Error(`Invalid UTF-8 sequence`);--t.utf8seq}else if(t.utf8seq>0){if(e<=127)throw Error(`Invalid UTF-8 sequence`);t.codepoint=t.codepoint<<6|e&63,--t.utf8seq,t.utf8seq===0&&n(t.codepoint)}}function Id(e){let t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)jd(e.charCodeAt(t),n,r);return new Uint8Array(t)}function Ld(e){let t=[];return Pd(e,e=>t.push(e)),new Uint8Array(t)}function Rd(e){let t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>Ad(e,n,r)),Ad(null,n,r),t.join(``)}function zd(e){let t=Math.round(Date.now()/1e3);return t+e}function Bd(){return`xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx`.replace(/[xy]/g,function(e){let t=Math.random()*16|0,n=e==`x`?t:t&3|8;return n.toString(16)})}const Vd=()=>typeof window<`u`&&typeof document<`u`,Hd={tested:!1,writable:!1},Ud=()=>{if(!Vd())return!1;try{if(typeof globalThis.localStorage!=`object`)return!1}catch{return!1}if(Hd.tested)return Hd.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Hd.tested=!0,Hd.writable=!0}catch{Hd.tested=!0,Hd.writable=!1}return Hd.writable};function Wd(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]===`#`)try{let e=new URLSearchParams(n.hash.substring(1));e.forEach((e,n)=>{t[n]=e})}catch{}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}const Gd=e=>{let t;return t=e||(typeof fetch>`u`?(...e)=>tl(async()=>{let{default:e}=await import(`./browser-CSlRt5WX.js`);return{default:e}},[]).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},Kd=e=>typeof e==`object`&&!!e&&`status`in e&&`ok`in e&&`json`in e&&typeof e.json==`function`,qd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Jd=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yd=async(e,t)=>{await e.removeItem(t)};var Xd=class e{constructor(){this.promise=new e.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};Xd.promiseConstructor=Promise;function Zd(e){let t=e.split(`.`);if(t.length!==3)throw new Ed(`Invalid JWT structure`);for(let e=0;e<t.length;e++)if(!ld.test(t[e]))throw new Ed(`JWT not in base64url format`);let n={header:JSON.parse(Md(t[0])),payload:JSON.parse(Md(t[1])),signature:Id(t[2]),raw:{header:t[0],payload:t[1]}};return n}async function Qd(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $d(e,t){let n=new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{let r=await e(i);if(!t(i,null,r)){n(r);return}}catch(e){if(!t(i,e)){r(e);return}}})()});return n}function ef(e){return(`0`+e.toString(16)).substr(-2)}function tf(){let e=56,t=new Uint32Array(e);if(typeof crypto>`u`){let t=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~`,n=66,r=``;for(let i=0;i<e;i++)r+=t.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(t),Array.from(t,ef).join(``)}async function nf(e){let t=new TextEncoder,n=t.encode(e),r=await crypto.subtle.digest(`SHA-256`,n),i=new Uint8Array(r);return Array.from(i).map(e=>String.fromCharCode(e)).join(``)}async function rf(e){let t=typeof crypto<`u`&&crypto.subtle!==void 0&&typeof TextEncoder<`u`;if(!t)return console.warn(`WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256.`),e;let n=await nf(e);return btoa(n).replace(/\+/g,`-`).replace(/\//g,`_`).replace(/=+$/,``)}async function af(e,t,n=!1){let r=tf(),i=r;n&&(i+=`/PASSWORD_RECOVERY`),await qd(e,`${t}-code-verifier`,i);let a=await rf(r),o=r===a?`plain`:`s256`;return[a,o]}const sf=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cf(e){let t=e.headers.get(sd);if(!t||!t.match(sf))return null;try{let e=new Date(`${t}T00:00:00.0Z`);return e}catch{return null}}function lf(e){if(!e)throw Error(`Missing exp claim`);let t=Math.floor(Date.now()/1e3);if(e<=t)throw Error(`JWT has expired`)}function uf(e){switch(e){case`RS256`:return{name:`RSASSA-PKCS1-v1_5`,hash:{name:`SHA-256`}};case`ES256`:return{name:`ECDSA`,namedCurve:`P-256`,hash:{name:`SHA-256`}};default:throw Error(`Invalid alg claim`)}}const df=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ff(e){if(!df.test(e))throw Error(`@supabase/auth-js: Expected parameter to be UUID but is not`)}function pf(){let e={};return new Proxy(e,{get:(e,t)=>{if(t===`__isUserNotAvailableProxy`)return!0;if(typeof t==`symbol`){let e=t.toString();if(e===`Symbol(Symbol.toPrimitive)`||e===`Symbol(Symbol.toStringTag)`||e===`Symbol(util.inspect.custom)`)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mf(e){return JSON.parse(JSON.stringify(e))}var hf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==`function`)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const gf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_f=[502,503,504];async function vf(e){var t;if(!Kd(e))throw new Cd(gf(e),0);if(_f.includes(e.status))throw new Cd(gf(e),e.status);let n;try{n=await e.json()}catch(e){throw new md(gf(e),e)}let r,i=cf(e);if(i&&i.getTime()>=cd[`2024-01-01`].timestamp&&typeof n==`object`&&n&&typeof n.code==`string`?r=n.code:typeof n==`object`&&n&&typeof n.error_code==`string`&&(r=n.error_code),r){if(r===`weak_password`)throw new Td(gf(n),e.status,(t=n.weak_password)?.reasons||[]);if(r===`session_not_found`)throw new gd}else if(typeof n==`object`&&n&&typeof n.weak_password==`object`&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((e,t)=>e&&typeof t==`string`,!0))throw new Td(gf(n),e.status,n.weak_password.reasons);throw new fd(gf(n),e.status||500,r)}const yf=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e===`GET`?i:(i.headers=Object.assign({"Content-Type":`application/json;charset=UTF-8`},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Q(e,t,n,r){var i;let a=Object.assign({},r?.headers);a[sd]||(a[sd]=cd[`2024-01-01`].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);let o=(i=r?.query)??{};r?.redirectTo&&(o.redirect_to=r.redirectTo);let s=Object.keys(o).length?`?`+new URLSearchParams(o).toString():``,c=await bf(e,t,n+s,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function bf(e,t,n,r,i,a){let o=yf(t,r,i,a),s;try{s=await e(n,Object.assign({},o))}catch(e){throw console.error(e),new Cd(gf(e),0)}if(s.ok||await vf(s),r?.noResolveJson)return s;try{return await s.json()}catch(e){await vf(e)}}function xf(e){var t;let n=null;Df(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=zd(e.expires_in)));let r=(t=e.user)??e;return{data:{session:n,user:r},error:null}}function Sf(e){let t=xf(e);return!t.error&&e.weak_password&&typeof e.weak_password==`object`&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message==`string`&&e.weak_password.reasons.reduce((e,t)=>e&&typeof t==`string`,!0)&&(t.data.weak_password=e.weak_password),t}function Cf(e){var t;let n=(t=e.user)??e;return{data:{user:n},error:null}}function wf(e){return{data:e,error:null}}function Tf(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=hf(e,[`action_link`,`email_otp`,`hashed_token`,`redirect_to`,`verification_type`]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function Ef(e){return e}function Df(e){return e.access_token&&e.refresh_token&&e.expires_in}const Of=[`global`,`local`,`others`];var kf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==`function`)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Af=class{constructor({url:e=``,headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Gd(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Of[0]){if(Of.indexOf(t)<0)throw Error(`@supabase/auth-js: Parameter scope must be one of ${Of.join(`, `)}`);try{return await Q(this.fetch,`POST`,`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(Z(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await Q(this.fetch,`POST`,`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Cf})}catch(e){if(Z(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,n=kf(e,[`options`]),r=Object.assign(Object.assign({},n),t);return`newEmail`in n&&(r.new_email=n?.newEmail,delete r.newEmail),await Q(this.fetch,`POST`,`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Tf,redirectTo:t?.redirectTo})}catch(e){if(Z(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await Q(this.fetch,`POST`,`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Cf})}catch(e){if(Z(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,n,r,i,a,o,s;try{let c={nextPage:null,lastPage:0,total:0},l=await Q(this.fetch,`GET`,`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e?.page)?.toString())??``,per_page:(i=(r=e?.perPage)?.toString())??``},xform:Ef});if(l.error)throw l.error;let u=await l.json(),d=(a=l.headers.get(`x-total-count`))??0,f=(s=(o=l.headers.get(`link`))?.split(`,`))??[];return f.length>0&&(f.forEach(e=>{let t=parseInt(e.split(`;`)[0].split(`=`)[1].substring(0,1)),n=JSON.parse(e.split(`;`)[1].split(`=`)[1]);c[`${n}Page`]=t}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},u),c),error:null}}catch(e){if(Z(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){ff(e);try{return await Q(this.fetch,`GET`,`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Cf})}catch(e){if(Z(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){ff(e);try{return await Q(this.fetch,`PUT`,`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Cf})}catch(e){if(Z(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){ff(e);try{return await Q(this.fetch,`DELETE`,`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Cf})}catch(e){if(Z(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){ff(e.userId);try{let{data:t,error:n}=await Q(this.fetch,`GET`,`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(e){if(Z(e))return{data:null,error:e};throw e}}async _deleteFactor(e){ff(e.userId),ff(e.id);try{let t=await Q(this.fetch,`DELETE`,`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers});return{data:t,error:null}}catch(e){if(Z(e))return{data:null,error:e};throw e}}};function jf(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Mf(){if(typeof globalThis!=`object`)try{Object.defineProperty(Object.prototype,`__magic__`,{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<`u`&&(self.globalThis=self)}}const Nf={debug:!!(globalThis&&Ud()&&globalThis.localStorage&&globalThis.localStorage.getItem(`supabase.gotrue-js.locks.debug`)===`true`)};var Pf=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Ff=class extends Pf{};async function If(e,t,n){Nf.debug&&console.log(`@supabase/gotrue-js: navigatorLock: acquire lock`,e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Nf.debug&&console.log(`@supabase/gotrue-js: navigatorLock acquire timed out`,e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:`exclusive`,ifAvailable:!0}:{mode:`exclusive`,signal:r.signal},async r=>{if(r){Nf.debug&&console.log(`@supabase/gotrue-js: navigatorLock: acquired`,e,r.name);try{return await n()}finally{Nf.debug&&console.log(`@supabase/gotrue-js: navigatorLock: released`,e,r.name)}}else if(t===0)throw Nf.debug&&console.log(`@supabase/gotrue-js: navigatorLock: not immediately available`,e),new Ff(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);else{if(Nf.debug)try{let e=await globalThis.navigator.locks.query();console.log(`@supabase/gotrue-js: Navigator LockManager state`,JSON.stringify(e,null,`  `))}catch(e){console.warn(`@supabase/gotrue-js: Error when querying Navigator LockManager state`,e)}return console.warn(`@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request`),await n()}}))}Mf();const Lf={url:id,storageKey:ad,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:od,flowType:`implicit`,debug:!1,hasCustomAuthorizationHeader:!1};async function Rf(e,t,n){return await n()}const zf={};var Bf=class e{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&Vd()&&console.warn(`Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`);let i=Object.assign(Object.assign({},Lf),t);if(this.logDebugMessages=!!i.debug,typeof i.debug==`function`&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Af({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Gd(i.fetch),this.lock=i.lock||Rf,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Vd()&&(n=globalThis==null?void 0:globalThis.navigator)?.locks?this.lock=If:this.lock=Rf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=-(2**53-1)),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Ud()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jf(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=jf(this.memoryStorage)),Vd()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error(`Failed to create a new BroadcastChannel, multi-tab state changes will not be available`,e)}(r=this.broadcastChannel)==null||r.addEventListener(`message`,async e=>{this._debug(`received broadcast notification from other tab or client`,e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=zf[this.storageKey])?.jwks)??{keys:[]}}set jwks(e){zf[this.storageKey]=Object.assign(Object.assign({},zf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=zf[this.storageKey])?.cachedAt)??-(2**53-1)}set jwks_cached_at(e){zf[this.storageKey]=Object.assign(Object.assign({},zf[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ed}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise||=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise}async _initialize(){var e;try{let t=Wd(window.location.href),n=`none`;if(this._isImplicitGrantCallback(t)?n=`implicit`:await this._isPKCECallback(t)&&(n=`pkce`),Vd()&&this.detectSessionInUrl&&n!==`none`){let{data:r,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug(`#_initialize()`,`error detecting session from URL`,i),xd(i)){let t=(e=i.details)?.code;if(t===`identity_already_exists`||t===`identity_not_found`||t===`single_identity_not_deletable`)return{error:i}}return await this._removeSession(),{error:i}}let{session:a,redirectType:o}=r;return this._debug(`#_initialize()`,`detected session in URL`,a,`redirect type`,o),await this._saveSession(a),setTimeout(async()=>{o===`recovery`?await this._notifyAllSubscribers(`PASSWORD_RECOVERY`,a):await this._notifyAllSubscribers(`SIGNED_IN`,a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Z(e)?{error:e}:{error:new md(`Unexpected error during initialization`,e)}}finally{await this._handleVisibilityChange(),this._debug(`#_initialize()`,`end`)}}async signInAnonymously(e){var t,n,r;try{let i=await Q(this.fetch,`POST`,`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e?.options)?.data)??{},gotrue_meta_security:{captcha_token:(r=e?.options)?.captchaToken}},xform:xf}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};let s=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers(`SIGNED_IN`,s)),{data:{user:c,session:s},error:null}}catch(e){if(Z(e))return{data:{user:null,session:null},error:e};throw e}}async signUp(e){var t,n,r;try{let i;if(`email`in e){let{email:n,password:r,options:a}=e,o=null,s=null;this.flowType===`pkce`&&([o,s]=await af(this.storage,this.storageKey)),i=await Q(this.fetch,`POST`,`${this.url}/signup`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:{email:n,password:r,data:(t=a?.data)??{},gotrue_meta_security:{captcha_token:a?.captchaToken},code_challenge:o,code_challenge_method:s},xform:xf})}else if(`phone`in e){let{phone:t,password:a,options:o}=e;i=await Q(this.fetch,`POST`,`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:a,data:(n=o?.data)??{},channel:(r=o?.channel)??`sms`,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:xf})}else throw new yd(`You must provide either an email or phone number and a password`);let{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};let s=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers(`SIGNED_IN`,s)),{data:{user:c,session:s},error:null}}catch(e){if(Z(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithPassword(e){try{let t;if(`email`in e){let{email:n,password:r,options:i}=e;t=await Q(this.fetch,`POST`,`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Sf})}else if(`phone`in e){let{phone:n,password:r,options:i}=e;t=await Q(this.fetch,`POST`,`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Sf})}else throw new yd(`You must provide either an email or phone number and a password`);let{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new vd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers(`SIGNED_IN`,n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(e){if(Z(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(e){var t,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)?.redirectTo,scopes:(n=e.options)?.scopes,queryParams:(r=e.options)?.queryParams,skipBrowserRedirect:(i=e.options)?.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){let{chain:t}=e;if(t===`solana`)return await this.signInWithSolana(e);throw Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,r,i,a,o,s,c,l,u,d,f;let p,m;if(`message`in e)p=e.message,m=e.signature;else{let{chain:d,wallet:f,statement:h,options:g}=e,_;if(Vd())if(typeof f==`object`)_=f;else{let e=window;if(`solana`in e&&typeof e.solana==`object`&&(`signIn`in e.solana&&typeof e.solana.signIn==`function`||`signMessage`in e.solana&&typeof e.solana.signMessage==`function`))_=e.solana;else throw Error(`@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.`)}else{if(typeof f!=`object`||!g?.url)throw Error(`@supabase/auth-js: Both wallet and url must be specified in non-browser environments.`);_=f}let v=new URL((t=g?.url)??window.location.href);if(`signIn`in _&&_.signIn){let e=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g?.signInWithSolana),{version:`1`,domain:v.host,uri:v.href}),h?{statement:h}:null)),t;if(Array.isArray(e)&&e[0]&&typeof e[0]==`object`)t=e[0];else if(e&&typeof e==`object`&&`signedMessage`in e&&`signature`in e)t=e;else throw Error(`@supabase/auth-js: Wallet method signIn() returned unrecognized value`);if(`signedMessage`in t&&`signature`in t&&(typeof t.signedMessage==`string`||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array)p=typeof t.signedMessage==`string`?t.signedMessage:new TextDecoder().decode(t.signedMessage),m=t.signature;else throw Error(`@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields`)}else{if(!(`signMessage`in _)||typeof _.signMessage!=`function`||!(`publicKey`in _)||typeof _!=`object`||!_.publicKey||!(`toBase58`in _.publicKey)||typeof _.publicKey.toBase58!=`function`)throw Error(`@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API`);p=[`${v.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...h?[``,h,``]:[``],`Version: 1`,`URI: ${v.href}`,`Issued At: ${(r=(n=g?.signInWithSolana)?.issuedAt)??new Date().toISOString()}`,...(i=g?.signInWithSolana)?.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(a=g?.signInWithSolana)?.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(o=g?.signInWithSolana)?.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(s=g?.signInWithSolana)?.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(c=g?.signInWithSolana)?.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(u=(l=g?.signInWithSolana)?.resources)?.length?[`Resources`,...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join(`
`);let e=await _.signMessage(new TextEncoder().encode(p),`utf8`);if(!e||!(e instanceof Uint8Array))throw Error(`@supabase/auth-js: Wallet signMessage() API returned an recognized value`);m=e}}try{let{data:t,error:n}=await Q(this.fetch,`POST`,`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:`solana`,message:p,signature:Rd(m)},(d=e.options)?.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)?.captchaToken}}:null),xform:xf});if(n)throw n;return!t||!t.session||!t.user?{data:{user:null,session:null},error:new vd}:(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers(`SIGNED_IN`,t.session)),{data:Object.assign({},t),error:n})}catch(e){if(Z(e))return{data:{user:null,session:null},error:e};throw e}}async _exchangeCodeForSession(e){let t=await Jd(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(t??``).split(`/`);try{let{data:t,error:i}=await Q(this.fetch,`POST`,`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:xf});if(await Yd(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!t||!t.session||!t.user?{data:{user:null,session:null,redirectType:null},error:new vd}:(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers(`SIGNED_IN`,t.session)),{data:Object.assign(Object.assign({},t),{redirectType:r??null}),error:i})}catch(e){if(Z(e))return{data:{user:null,session:null,redirectType:null},error:e};throw e}}async signInWithIdToken(e){try{let{options:t,provider:n,token:r,access_token:i,nonce:a}=e,o=await Q(this.fetch,`POST`,`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:xf}),{data:s,error:c}=o;return c?{data:{user:null,session:null},error:c}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new vd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers(`SIGNED_IN`,s.session)),{data:s,error:c})}catch(e){if(Z(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(e){var t,n,r,i,a;try{if(`email`in e){let{email:r,options:i}=e,a=null,o=null;this.flowType===`pkce`&&([a,o]=await af(this.storage,this.storageKey));let{error:s}=await Q(this.fetch,`POST`,`${this.url}/otp`,{headers:this.headers,body:{email:r,data:(t=i?.data)??{},create_user:(n=i?.shouldCreateUser)??!0,gotrue_meta_security:{captcha_token:i?.captchaToken},code_challenge:a,code_challenge_method:o},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:s}}if(`phone`in e){let{phone:t,options:n}=e,{data:o,error:s}=await Q(this.fetch,`POST`,`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:(r=n?.data)??{},create_user:(i=n?.shouldCreateUser)??!0,gotrue_meta_security:{captcha_token:n?.captchaToken},channel:(a=n?.channel)??`sms`}});return{data:{user:null,session:null,messageId:o?.message_id},error:s}}throw new yd(`You must provide either an email or phone number.`)}catch(e){if(Z(e))return{data:{user:null,session:null},error:e};throw e}}async verifyOtp(e){var t,n;try{let r,i;`options`in e&&(r=(t=e.options)?.redirectTo,i=(n=e.options)?.captchaToken);let{data:a,error:o}=await Q(this.fetch,`POST`,`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:xf});if(o)throw o;if(!a)throw Error(`An error occurred on token verification.`);let s=a.session,c=a.user;return s?.access_token&&(await this._saveSession(s),await this._notifyAllSubscribers(e.type==`recovery`?`PASSWORD_RECOVERY`:`SIGNED_IN`,s)),{data:{user:c,session:s},error:null}}catch(e){if(Z(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSSO(e){var t,n,r;try{let i=null,a=null;return this.flowType===`pkce`&&([i,a]=await af(this.storage,this.storageKey)),await Q(this.fetch,`POST`,`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},`providerId`in e?{provider_id:e.providerId}:null),`domain`in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)?.redirectTo)??void 0}),(r=e?.options)?.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:wf})}catch(e){if(Z(e))return{data:null,error:e};throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new gd;let{error:r}=await Q(this.fetch,`GET`,`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(Z(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{let t=`${this.url}/resend`;if(`email`in e){let{email:n,type:r,options:i}=e,{error:a}=await Q(this.fetch,`POST`,t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if(`phone`in e){let{phone:n,type:r,options:i}=e,{data:a,error:o}=await Q(this.fetch,`POST`,t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:o}}throw new yd(`You must provide either an email or phone number and a type`)}catch(e){if(Z(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){await this.initializePromise;let e=await this._acquireLock(-1,async()=>this._useSession(async e=>e));return e}async _acquireLock(e,t){this._debug(`#_acquireLock`,`begin`,e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug(`#_acquireLock`,`lock acquired for storage key`,this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch{}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug(`#_acquireLock`,`lock released for storage key`,this.storageKey),this.lockAcquired=!1}})}finally{this._debug(`#_acquireLock`,`end`)}}async _useSession(e){this._debug(`#_useSession`,`begin`);try{let t=await this.__loadSession();return await e(t)}finally{this._debug(`#_useSession`,`end`)}}async __loadSession(){this._debug(`#__loadSession()`,`begin`),this.lockAcquired||this._debug(`#__loadSession()`,`used outside of an acquired lock!`,Error().stack);try{let e=null,t=await Jd(this.storage,this.storageKey);if(this._debug(`#getSession()`,`session from storage`,t),t!==null&&(this._isValidSession(t)?e=t:(this._debug(`#getSession()`,`session from storage is not valid`),await this._removeSession())),!e)return{data:{session:null},error:null};let n=e.expires_at?e.expires_at*1e3-Date.now()<rd:!1;if(this._debug(`#__loadSession()`,`session has${n?``:` not`} expired`,`expires_at`,e.expires_at),!n){if(this.userStorage){let t=await Jd(this.userStorage,this.storageKey+`-user`);t?.user?e.user=t.user:e.user=pf()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning,n=new Proxy(e,{get:(e,n,r)=>(!t&&n===`user`&&(console.warn(`Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server.`),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))});e=n}return{data:{session:e},error:null}}let{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug(`#__loadSession()`,`end`)}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;let t=await this._acquireLock(-1,async()=>await this._getUser());return t}async _getUser(e){try{return e?await Q(this.fetch,`GET`,`${this.url}/user`,{headers:this.headers,jwt:e,xform:Cf}):await this._useSession(async e=>{var t,n,r;let{data:i,error:a}=e;if(a)throw a;return!(t=i.session)?.access_token&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gd}:await Q(this.fetch,`GET`,`${this.url}/user`,{headers:this.headers,jwt:(r=(n=i.session)?.access_token)??void 0,xform:Cf})})}catch(e){if(Z(e))return _d(e)&&(await this._removeSession(),await Yd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{let{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new gd;let a=r.session,o=null,s=null;this.flowType===`pkce`&&e.email!=null&&([o,s]=await af(this.storage,this.storageKey));let{data:c,error:l}=await Q(this.fetch,`PUT`,`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:s}),jwt:a.access_token,xform:Cf});if(l)throw l;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers(`USER_UPDATED`,a),{data:{user:a.user},error:null}})}catch(e){if(Z(e))return{data:{user:null},error:e};throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gd;let t=Date.now()/1e3,n=t,r=!0,i=null,{payload:a}=Zd(e.access_token);if(a.exp&&(n=a.exp,r=n<=t),r){let{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};i=t}else{let{data:r,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:`bearer`,expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers(`SIGNED_IN`,i)}return{data:{user:i.user,session:i},error:null}}catch(e){if(Z(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){let{data:r,error:i}=t;if(i)throw i;e=(n=r.session)??void 0}if(!e?.refresh_token)throw new gd;let{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(Z(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(e,t){try{if(!Vd())throw new bd(`No browser detected.`);if(e.error||e.error_description||e.error_code)throw new bd(e.error_description||`Error in URL with unspecified error_description`,{error:e.error||`unspecified_error`,code:e.error_code||`unspecified_code`});switch(t){case`implicit`:if(this.flowType===`pkce`)throw new Sd(`Not a valid PKCE flow url.`);break;case`pkce`:if(this.flowType===`implicit`)throw new bd(`Not a valid implicit grant flow url.`);break;default:}if(t===`pkce`){if(this._debug(`#_initialize()`,`begin`,`is PKCE flow`,!0),!e.code)throw new Sd(`No code detected.`);let{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;let r=new URL(window.location.href);return r.searchParams.delete(`code`),window.history.replaceState(window.history.state,``,r.toString()),{data:{session:t.session,redirectType:null},error:null}}let{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:a,expires_in:o,expires_at:s,token_type:c}=e;if(!i||!o||!a||!c)throw new bd(`No session defined in URL`);let l=Math.round(Date.now()/1e3),u=parseInt(o),d=l+u;s&&(d=parseInt(s));let f=d-l;f*1e3<=td&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${u}s`);let p=d-u;l-p>=120?console.warn(`@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale`,p,d,l):l-p<0&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew`,p,d,l);let{data:m,error:h}=await this._getUser(i);if(h)throw h;let g={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:u,expires_at:d,refresh_token:a,token_type:c,user:m.user};return window.location.hash=``,this._debug(`#_getSessionFromURL()`,`clearing window.location.hash`),{data:{session:g,redirectType:e.type},error:null}}catch(e){if(Z(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){let t=await Jd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:`global`}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:`global`}){return await this._useSession(async t=>{var n;let{data:r,error:i}=t;if(i)return{error:i};let a=(n=r.session)?.access_token;if(a){let{error:t}=await this.admin.signOut(a,e);if(t&&!(pd(t)&&(t.status===404||t.status===401||t.status===403)))return{error:t}}return e!==`others`&&(await this._removeSession(),await Yd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){let t=Bd(),n={id:t,callback:e,unsubscribe:()=>{this._debug(`#unsubscribe()`,`state change callback with id removed`,t),this.stateChangeEmitters.delete(t)}};return this._debug(`#onAuthStateChange()`,`registered callback with id`,t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{let{data:{session:r},error:i}=t;if(i)throw i;await(n=this.stateChangeEmitters.get(e))?.callback(`INITIAL_SESSION`,r),this._debug(`INITIAL_SESSION`,`callback id`,e,`session`,r)}catch(t){await(r=this.stateChangeEmitters.get(e))?.callback(`INITIAL_SESSION`,null),this._debug(`INITIAL_SESSION`,`callback id`,e,`error`,t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let n=null,r=null;this.flowType===`pkce`&&([n,r]=await af(this.storage,this.storageKey,!0));try{return await Q(this.fetch,`POST`,`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(Z(e))return{data:null,error:e};throw e}}async getUserIdentities(){var e;try{let{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)??[]},error:null}}catch(e){if(Z(e))return{data:null,error:e};throw e}}async linkIdentity(e){var t;try{let{data:n,error:r}=await this._useSession(async t=>{var n,r,i,a,o;let{data:s,error:c}=t;if(c)throw c;let l=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(n=e.options)?.redirectTo,scopes:(r=e.options)?.scopes,queryParams:(i=e.options)?.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,`GET`,l,{headers:this.headers,jwt:(o=(a=s.session)?.access_token)??void 0})});if(r)throw r;return Vd()&&!(t=e.options)?.skipBrowserRedirect&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(t){if(Z(t))return{data:{provider:e.provider,url:null},error:t};throw t}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;let{data:i,error:a}=t;if(a)throw a;return await Q(this.fetch,`DELETE`,`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)?.access_token)??void 0})})}catch(e){if(Z(e))return{data:null,error:e};throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,`begin`);try{let n=Date.now();return await $d(async n=>(n>0&&await Qd(200*2**(n-1)),this._debug(t,`refreshing attempt`,n),await Q(this.fetch,`POST`,`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xf})),(e,t)=>{let r=200*2**e;return t&&wd(t)&&Date.now()+r-n<td})}catch(e){if(this._debug(t,`error`,e),Z(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(t,`end`)}}_isValidSession(e){let t=typeof e==`object`&&!!e&&`access_token`in e&&`refresh_token`in e&&`expires_at`in e;return t}async _handleProviderSignIn(e,t){let n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug(`#_handleProviderSignIn()`,`provider`,e,`options`,t,`url`,n),Vd()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;let n=`#_recoverAndRefresh()`;this._debug(n,`begin`);try{let r=await Jd(this.storage,this.storageKey);if(r&&this.userStorage){let t=await Jd(this.userStorage,this.storageKey+`-user`);!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!t&&(t={user:r.user},await qd(this.userStorage,this.storageKey+`-user`,t)),r.user=(e=t?.user)??pf()}else if(r&&!r.user&&!r.user){let e=await Jd(this.storage,this.storageKey+`-user`);e&&e?.user?(r.user=e.user,await Yd(this.storage,this.storageKey+`-user`),await qd(this.storage,this.storageKey,r)):r.user=pf()}if(this._debug(n,`session from storage`,r),!this._isValidSession(r)){this._debug(n,`session is not valid`),r!==null&&await this._removeSession();return}let i=((t=r.expires_at)??1/0)*1e3-Date.now()<rd;if(this._debug(n,`session has${i?``:` not`} expired with margin of ${rd}s`),i){if(this.autoRefreshToken&&r.refresh_token){let{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),wd(e)||(this._debug(n,`refresh failed with a non-retryable error, removing the session`,e),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{let{data:e,error:t}=await this._getUser(r.access_token);!t&&e?.user?(r.user=e.user,await this._saveSession(r),await this._notifyAllSubscribers(`SIGNED_IN`,r)):this._debug(n,`could not get user data, skipping SIGNED_IN notification`)}catch(e){console.error(`Error getting user data:`,e),this._debug(n,`error getting user data, skipping SIGNED_IN notification`,e)}else await this._notifyAllSubscribers(`SIGNED_IN`,r)}catch(e){this._debug(n,`error`,e),console.error(e);return}finally{this._debug(n,`end`)}}async _callRefreshToken(e){var t,n;if(!e)throw new gd;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,`begin`);try{this.refreshingDeferred=new Xd;let{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new gd;await this._saveSession(t.session),await this._notifyAllSubscribers(`TOKEN_REFRESHED`,t.session);let r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(e){if(this._debug(r,`error`,e),Z(e)){let n={session:null,error:e};return wd(e)||await this._removeSession(),(t=this.refreshingDeferred)==null||t.resolve(n),n}throw(n=this.refreshingDeferred)==null||n.reject(e),e}finally{this.refreshingDeferred=null,this._debug(r,`end`)}}async _notifyAllSubscribers(e,t,n=!0){let r=`#_notifyAllSubscribers(${e})`;this._debug(r,`begin`,t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});let r=[],i=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(e){r.push(e)}});if(await Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,`end`)}}async _saveSession(e){this._debug(`#_saveSession()`,e),this.suppressGetSessionWarning=!0;let t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await qd(this.userStorage,this.storageKey+`-user`,{user:t.user});let e=Object.assign({},t);delete e.user;let r=mf(e);await qd(this.storage,this.storageKey,r)}else{let e=mf(t);await qd(this.storage,this.storageKey,e)}}async _removeSession(){this._debug(`#_removeSession()`),await Yd(this.storage,this.storageKey),await Yd(this.storage,this.storageKey+`-code-verifier`),await Yd(this.storage,this.storageKey+`-user`),this.userStorage&&await Yd(this.userStorage,this.storageKey+`-user`),await this._notifyAllSubscribers(`SIGNED_OUT`,null)}_removeVisibilityChangedCallback(){this._debug(`#_removeVisibilityChangedCallback()`);let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Vd()&&window!=null&&window.removeEventListener&&window.removeEventListener(`visibilitychange`,e)}catch(e){console.error(`removing visibilitychange callback failed`,e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug(`#_startAutoRefresh()`);let e=setInterval(()=>this._autoRefreshTokenTick(),td);this.autoRefreshTicker=e,e&&typeof e==`object`&&typeof e.unref==`function`?e.unref():typeof Deno<`u`&&typeof Deno.unrefTimer==`function`&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug(`#_stopAutoRefresh()`);let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug(`#_autoRefreshTokenTick()`,`begin`);try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug(`#_autoRefreshTokenTick()`,`no session`);return}let r=Math.floor((n.expires_at*1e3-e)/td);this._debug(`#_autoRefreshTokenTick()`,`access token expires in ${r} ticks, a tick lasts ${td}ms, refresh threshold is ${nd} ticks`),r<=nd&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error(`Auto refresh tick failed with error. This is likely a transient error.`,e)}}finally{this._debug(`#_autoRefreshTokenTick()`,`end`)}})}catch(e){if(e.isAcquireTimeout||e instanceof Pf)this._debug(`auto refresh token tick lock not available`);else throw e}}async _handleVisibilityChange(){if(this._debug(`#_handleVisibilityChange()`),!Vd()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener(`visibilitychange`,this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error(`_handleVisibilityChange`,e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,`visibilityState`,document.visibilityState),document.visibilityState===`visible`?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!==`visible`){this._debug(t,`acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting`);return}await this._recoverAndRefresh()}))):document.visibilityState===`hidden`&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){let r=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType===`pkce`){let[e,t]=await af(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(n?.queryParams){let e=new URLSearchParams(n.queryParams);r.push(e.toString())}return n?.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join(`&`)}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;let{data:r,error:i}=t;return i?{data:null,error:i}:await Q(this.fetch,`DELETE`,`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r?.session)?.access_token})})}catch(e){if(Z(e))return{data:null,error:e};throw e}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;let{data:i,error:a}=t;if(a)return{data:null,error:a};let o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType===`phone`?{phone:e.phone}:{issuer:e.issuer}),{data:s,error:c}=await Q(this.fetch,`POST`,`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i?.session)?.access_token});return c?{data:null,error:c}:(e.factorType===`totp`&&(r=s?.totp)?.qr_code&&(s.totp.qr_code=`data:image/svg+xml;utf-8,${s.totp.qr_code}`),{data:s,error:null})})}catch(e){if(Z(e))return{data:null,error:e};throw e}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;let{data:r,error:i}=t;if(i)return{data:null,error:i};let{data:a,error:o}=await Q(this.fetch,`POST`,`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=r?.session)?.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers(`MFA_CHALLENGE_VERIFIED`,a),{data:a,error:o})})}catch(e){if(Z(e))return{data:null,error:e};throw e}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;let{data:r,error:i}=t;return i?{data:null,error:i}:await Q(this.fetch,`POST`,`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=r?.session)?.access_token})})}catch(e){if(Z(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(e){let{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){let{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};let n=e?.factors||[],r=n.filter(e=>e.factor_type===`totp`&&e.status===`verified`),i=n.filter(e=>e.factor_type===`phone`&&e.status===`verified`);return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;let{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Zd(r.access_token),o=null;a.aal&&(o=a.aal);let s=o,c=(n=(t=r.user.factors)?.filter(e=>e.status===`verified`))??[];c.length>0&&(s=`aal2`);let l=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:l},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(t=>t.kid===e);if(n)return n;let r=Date.now();if(n=this.jwks.keys.find(t=>t.kid===e),n&&this.jwks_cached_at+ud>r)return n;let{data:i,error:a}=await Q(this.fetch,`GET`,`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,n=i.keys.find(t=>t.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){let{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}let{header:r,payload:i,signature:a,raw:{header:o,payload:s}}=Zd(n);t?.allowExpired||lf(i.exp);let c=!r.alg||r.alg.startsWith(`HS`)||!r.kid||!(`crypto`in globalThis&&`subtle`in globalThis.crypto)?null:await this.fetchJwk(r.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!c){let{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:i,header:r,signature:a},error:null}}let l=uf(r.alg),u=await crypto.subtle.importKey(`jwk`,c,l,!0,[`verify`]),d=await crypto.subtle.verify(l,u,a,Ld(`${o}.${s}`));if(!d)throw new Ed(`Invalid JWT signature`);return{data:{claims:i,header:r,signature:a},error:null}}catch(e){if(Z(e))return{data:null,error:e};throw e}}};Bf.nextInstanceID=0;const Vf=Bf;var Hf=Vf,Uf=class extends Hf{constructor(e){super(e)}},Wf=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})},Gf=class{constructor(e,t,n){var r,i,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw Error(`supabaseUrl is required.`);if(!t)throw Error(`supabaseKey is required.`);let o=Qu(e),s=new URL(o);this.realtimeUrl=new URL(`realtime/v1`,s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace(`http`,`ws`),this.authUrl=new URL(`auth/v1`,s),this.storageUrl=new URL(`storage/v1`,s),this.functionsUrl=new URL(`functions/v1`,s);let c=`sb-${s.hostname.split(`.`)[0]}-auth-token`,l={db:Wu,realtime:Ku,auth:Object.assign(Object.assign({},Gu),{storageKey:c}),global:Uu},u=$u(n??{},l);this.storageKey=(r=u.auth.storageKey)??``,this.headers=(i=u.global.headers)??{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)??{},this.headers,u.global.fetch),this.fetch=Xu(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new kl(new URL(`rest/v1`,s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new ll(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new zu(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Wf(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:n}=yield this.auth.getSession();return(t=(e=n.session)?.access_token)??null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,storageKey:i,flowType:a,lock:o,debug:s},c,l){let u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Uf({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,flowType:a,lock:o,debug:s,fetch:l,hasCustomAuthorizationHeader:`Authorization`in this.headers})}_initRealtimeClient(e){return new pu(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){let e=this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,`CLIENT`,t?.access_token)});return e}_handleTokenChanged(e,t,n){(e===`TOKEN_REFRESHED`||e===`SIGNED_IN`)&&this.changedAccessToken!==n?this.changedAccessToken=n:e===`SIGNED_OUT`&&(this.realtime.setAuth(),t==`STORAGE`&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Kf=(e,t,n)=>new Gf(e,t,n),qf=`https://mjfhhjwydxblhreatmeo.supabase.co`,Jf=`eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1qZmhoand5ZHhibGhyZWF0bWVvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIxODgzODIsImV4cCI6MjA2Nzc2NDM4Mn0.vdpICawfu-dUMsM1B7oArCuS-WCrLutsUS0et1e4yNg`,Yf=Kf(qf,Jf);var $=class{static async getMovies(e={}){let t=Yf.from(`movies`).select(`
        *,
        movie_bilibili_urls ( id, bilibili_url, suspicious )
      `).not(`movie_bilibili_urls`,`is`,null);if(e.type&&(t=t.eq(`type`,e.type)),e.region&&(t=t.ilike(`region`,`%${e.region}%`)),e.min_rating!==void 0&&(t=t.gte(`douban_rating`,e.min_rating)),e.max_rating!==void 0&&(t=t.lte(`douban_rating`,e.max_rating)),e.release_year&&(t=t.eq(`release_year`,e.release_year)),e.search&&(t=t.or(`movie_title.ilike.%${e.search}%,original_title.ilike.%${e.search}%,description.ilike.%${e.search}%`)),e.sort_by){let n=e.sort_order===`asc`;t=t.order(e.sort_by,{ascending:n})}else t=t.order(`movie_id`,{ascending:!0});e.limit&&(t=t.limit(e.limit)),e.offset&&(t=t.range(e.offset,e.offset+(e.limit||10)-1));let{data:n,error:r}=await t;if(r)throw console.error(`获取电影列表失败:`,r),Error(`获取电影列表失败: ${r.message}`);return n||[]}static async getMoviesByTags(e,t={}){let{data:n,error:r}=await Yf.from(`movie_tags`).select(`movie_id`).in(`tag_id`,e);if(r)throw console.error(`获取电影标签失败:`,r),Error(`获取电影标签失败: ${r.message}`);if(!n||n.length===0)return[];let i=n.map(e=>e.movie_id),a=Yf.from(`movies`).select(`
        *,
        movie_bilibili_urls ( id, bilibili_url, suspicious )
      `).in(`movie_id`,i).not(`movie_bilibili_urls`,`is`,null);if(t.type&&(a=a.eq(`type`,t.type)),t.region&&(a=a.ilike(`region`,`%${t.region}%`)),t.min_rating!==void 0&&(a=a.gte(`douban_rating`,t.min_rating)),t.max_rating!==void 0&&(a=a.lte(`douban_rating`,t.max_rating)),t.release_year&&(a=a.eq(`release_year`,t.release_year)),t.search&&(a=a.or(`movie_title.ilike.%${t.search}%,original_title.ilike.%${t.search}%,description.ilike.%${t.search}%`)),t.sort_by){let e=t.sort_order===`asc`;a=a.order(t.sort_by,{ascending:e})}else a=a.order(`movie_id`,{ascending:!0});t.limit&&(a=a.limit(t.limit)),t.offset&&(a=a.range(t.offset,t.offset+(t.limit||10)-1));let{data:o,error:s}=await a;if(s)throw console.error(`根据标签获取电影失败:`,s),Error(`根据标签获取电影失败: ${s.message}`);return o||[]}static async getMovieById(e){let{data:t,error:n}=await Yf.from(`movies`).select(`*`).eq(`movie_id`,e).single();if(n){if(n.code===`PGRST116`)return null;throw console.error(`获取电影详情失败:`,n),Error(`获取电影详情失败: ${n.message}`)}return t}static async getMovieTags(e){let{data:t,error:n}=await Yf.from(`movie_tags`).select(`
        tags (
          tag_id,
          tag_name
        )
      `).eq(`movie_id`,e);if(n)throw console.error(`获取电影标签失败:`,n),Error(`获取电影标签失败: ${n.message}`);return t?.map(e=>e.tags).filter(Boolean)||[]}static async getAllTags(){let{data:e,error:t}=await Yf.from(`tags`).select(`*`).order(`tag_name`,{ascending:!0});if(t)throw console.error(`获取标签列表失败:`,t),Error(`获取标签列表失败: ${t.message}`);return e||[]}static async searchTags(e){let{data:t,error:n}=await Yf.from(`tags`).select(`*`).ilike(`tag_name`,`%${e}%`).order(`tag_name`,{ascending:!0});if(n)throw console.error(`搜索标签失败:`,n),Error(`搜索标签失败: ${n.message}`);return t||[]}static async getMovieStats(){let{count:e,error:t}=await Yf.from(`movies`).select(`*`,{count:`exact`,head:!0});if(t)throw console.error(`获取电影总数失败:`,t),Error(`获取电影总数失败: ${t.message}`);let{data:n,error:r}=await Yf.from(`movies`).select(`type`);if(r)throw console.error(`获取电影类型统计失败:`,r),Error(`获取电影类型统计失败: ${r.message}`);let i={};return n?.forEach(e=>{i[e.type]=(i[e.type]||0)+1}),{total:e||0,by_type:i}}};$.getMovies.bind($),$.getMoviesByTags.bind($),$.getMovieById.bind($),$.getMovieTags.bind($),$.getAllTags.bind($),$.searchTags.bind($),$.getMovieStats.bind($);const Xf={class:`tag-filter`},Zf={class:`tags-container`},Qf={key:0,class:`selected-tag-list`},$f={class:`tag-name`},ep=[`onClick`],tp={class:`add-tag-section`},np=[`disabled`],rp={key:0,class:`plus-icon`,viewBox:`0 0 1024 1024`},ip={key:1,class:`loading-spinner`},ap={key:0,class:`tag-dropdown`},op=[`onClick`],sp={class:`tag-name`},cp={key:0,class:`check-icon`,viewBox:`0 0 1024 1024`};var lp=Un({__name:`TagFilter`,props:{selectedTagIds:{}},emits:[`tagChange`],setup(e,{emit:t}){let n=e,r=t,i=L([]),a=L(!0),o=async()=>{try{a.value=!0;let e=await $.getAllTags();i.value=e.map(e=>({id:e.tag_id,name:e.tag_name}))}catch(e){console.error(`加载标签失败:`,e),i.value=[{id:1,name:`剧情`},{id:2,name:`冒险动作`},{id:3,name:`动画`},{id:4,name:`中国台湾`},{id:5,name:`中国香港`}]}finally{a.value=!1}};tr(()=>{o()});let s=L(!1),c=ya(()=>i.value.filter(e=>n.selectedTagIds.includes(e.id))),l=()=>{s.value=!s.value},u=e=>n.selectedTagIds.includes(e),d=e=>{if(!u(e.id)){let t=[...n.selectedTagIds,e.id];r(`tagChange`,t)}s.value=!1},f=e=>{let t=n.selectedTagIds.filter(t=>t!==e);r(`tagChange`,t)},p=e=>{let t=e.target;t.closest(`.add-tag-section`)||(s.value=!1)};return document.addEventListener(`click`,p),(e,t)=>(H(),U(`div`,Xf,[W(`div`,Zf,[c.value.length>0?(H(),U(`div`,Qf,[(H(!0),U(V,null,dr(c.value,e=>(H(),U(`div`,{key:e.id,class:`selected-tag`},[W(`span`,$f,je(e.name),1),(H(),U(`svg`,{class:`remove-icon`,viewBox:`0 0 1024 1024`,onClick:t=>f(e.id)},t[0]||=[W(`path`,{d:`M563.8 512l262.5-312.9c4.4-5.2 0.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3.1-3.6-7.6-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3.1 3.6 7.6 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z`,fill:`currentColor`},null,-1)],8,ep))]))),128))])):qi(``,!0),W(`div`,tp,[W(`button`,{class:we([`add-tag-btn`,{active:s.value}]),onClick:l,disabled:a.value},[a.value?(H(),U(`div`,ip)):(H(),U(`svg`,rp,t[1]||=[W(`path`,{d:`M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m192 472c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z`,fill:`currentColor`},null,-1)])),Gi(` `+je(a.value?`加载中...`:`添加标签`),1)],10,np),s.value?(H(),U(`div`,ap,[(H(!0),U(V,null,dr(i.value,e=>(H(),U(`div`,{key:e.id,class:we([`dropdown-tag-item`,{disabled:u(e.id)}]),onClick:t=>d(e)},[W(`span`,sp,je(e.name),1),u(e.id)?(H(),U(`svg`,cp,t[2]||=[W(`path`,{d:`M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 0 0-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1 0.4-12.8-6.3-12.8z`,fill:`currentColor`},null,-1)])):qi(``,!0)],10,op))),128))])):qi(``,!0)])])]))}}),up=Cc(lp,[[`__scopeId`,`data-v-5114c9b5`]]);const dp={},fp={class:`loading-spinner-overlay`};function pp(e,t){return H(),U(`div`,fp,t[0]||=[W(`div`,{class:`loading-spinner`},null,-1)])}var mp=Cc(dp,[[`render`,pp],[`__scopeId`,`data-v-0a61d940`]]);const hp={class:`app-layout`};var gp=Un({__name:`App`,setup(e){let t=L(!0),n=L([]),r=L(!1),i=L(!1),a=L([]),o=L(0),s=L(``),c=L(`电影`),l=()=>{t.value=!t.value},u=L({sortBy:`movie_id`,sortOrder:`desc`}),d=e=>{c.value=e,localStorage.setItem(`currentPlatform`,e),o.value++,_()},f=e=>{u.value=e,o.value++,_()},p=e=>{a.value=e,e.length>0&&(s.value=``),o.value++,_()},m=e=>{s.value=e,a.value=[],o.value++,_()},h=L(1),g=L(!0),_=async(e=!1)=>{s.value&&(a.value=[]);let t=o.value;if(e){if(r.value||i.value||!g.value)return;i.value=!0}else r.value=!0,v.value&&(v.value.scrollTop=0),h.value=1,n.value=[],g.value=!0;try{let r={sort_by:u.value.sortBy,sort_order:u.value.sortOrder,limit:20,offset:(h.value-1)*20};c.value!==`全部`&&(r.type=c.value);let i=[];if(a.value.length>0?i=await $.getMoviesByTags(a.value,r):(s.value&&(r.search=s.value),i=await $.getMovies(r)),t!==o.value)return;i.length<20&&(g.value=!1),n.value=e?[...n.value,...i]:i,h.value++}catch(e){console.error(`获取电影数据失败:`,e)}finally{t===o.value&&(e?i.value=!1:r.value=!1)}};Fr(`currentMovies`,n),Fr(`currentLoadingState`,r),Fr(`requestId`,o),Fr(`fetchMovies`,_),Fr(`selectedTagIds`,a);let v=L(null),y=()=>{v.value&&v.value.scrollTop+v.value.clientHeight>=v.value.scrollHeight-5&&_(!0)},b={"/":`全部`,"/home":`全部`,"/movie":`电影`,"/anime":`动漫`,"/documentary":`纪录片`,"/series":`剧集`},x=e=>{b[e]&&(c.value=b[e],localStorage.setItem(`currentPlatform`,c.value),_())},S=Sc();return fi(()=>S.path,e=>{x(e)}),tr(()=>{let e=window.location.pathname;if(b[e])c.value=b[e],localStorage.setItem(`currentPlatform`,c.value);else{let e=localStorage.getItem(`currentPlatform`);e&&[`全部`,`电影`,`剧集`,`纪录片`,`动漫`].includes(e)&&(c.value=e)}_(),v.value?.addEventListener(`scroll`,y)}),ar(()=>{v.value?.removeEventListener(`scroll`,y)}),(e,n)=>(H(),U(`div`,hp,[G(Zc,{onToggleSidebar:l,onSearch:m}),G(Wc,{"is-sidebar-open":t.value,onPlatformChanged:d,onSortChanged:f},null,8,[`is-sidebar-open`]),W(`main`,{class:we([`main-content`,{expanded:!t.value}]),ref_key:`mainContentRef`,ref:v},[G(up,{selectedTagIds:a.value,onTagChange:p},null,8,[`selectedTagIds`]),G(rn(vc)),i.value?(H(),Li(mp,{key:0})):qi(``,!0)],2)]))}}),_p=Cc(gp,[[`__scopeId`,`data-v-8aaff62c`]]);const vp={class:`movie-showcase`},yp={key:0,class:`movie-grid`},bp={key:1,class:`no-data-message`},xp={key:2,class:`movie-grid`},Sp=[`onClick`],Cp={class:`movie-poster`},wp=[`src`,`alt`],Tp={class:`movie-overlay`},Ep={class:`movie-rating`},Dp={class:`movie-info`},Op={class:`movie-title`},kp={class:`movie-year`};var Ap=Un({__name:`MovieShowcase`,props:{dbMovies:{},isLoading:{type:Boolean}},setup(e){let t=e,n=L(null),r=L(null),i=L([]),a=L(!0);fi(()=>t.dbMovies,e=>{console.log(`Received new movies in Showcase:`,JSON.stringify(e,null,2)),e&&e.length>0?(i.value=e.map(e=>({id:e.movie_id,title:e.movie_title,year:e.release_year?.toString()||`未知`,rating:e.douban_rating||0,poster:e.cover_url||`/src/爱在落日黄昏时.webp`,description:e.description||`暂无描述`,biliLinks:e.movie_bilibili_urls&&e.movie_bilibili_urls.length>0?e.movie_bilibili_urls.map(e=>({url:e.bilibili_url,suspicious:e.suspicious||!1,id:e.id})):[]})),a.value=!1):e&&!t.isLoading&&(i.value=[],a.value=!1)},{immediate:!0}),fi(()=>t.isLoading,e=>{e!==void 0&&(a.value=e)},{immediate:!0});let o=async(e,t)=>{console.log(`点击了电影:`,e.title);let i=t.currentTarget.querySelector(`.poster-image`);if(!i)return;let a=i.getBoundingClientRect();window.pageXOffset||document.documentElement.scrollLeft,window.pageYOffset||document.documentElement.scrollTop,n.value={left:Math.round(a.left),top:Math.round(a.top),width:Math.round(a.width),height:Math.round(a.height)},r.value=i;let o=document.createElement(`div`);o.className=`blur-background`,o.style.position=`fixed`,o.style.top=`0`,o.style.left=`0`,o.style.width=`100%`,o.style.height=`100%`,o.style.background=`rgba(0, 0, 0, 0.5)`,o.style.backdropFilter=`blur(10px)`,o.style.zIndex=`9998`,o.style.opacity=`0`,o.style.transition=`opacity 0.4s ease`,o.style.cursor=`pointer`,o.addEventListener(`click`,s),document.body.appendChild(o);let c=document.createElement(`div`);c.className=`animated-poster-container`,c.style.position=`fixed`,c.style.left=`${Math.round(a.left)}px`,c.style.top=`${Math.round(a.top)}px`,c.style.width=`${Math.round(a.width)}px`,c.style.height=`${Math.round(a.height)}px`,c.style.zIndex=`9999`,c.style.transition=`all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)`,c.style.display=`flex`,c.style.alignItems=`flex-start`,c.style.gap=`0`;let l=i.cloneNode(!0);l.className=`animated-poster`,l.style.width=`100%`,l.style.height=`100%`,l.style.borderRadius=`8px 0 0 8px`,l.style.objectFit=`cover`,l.style.boxShadow=`0 20px 60px rgba(0, 0, 0, 0.3)`,l.style.flexShrink=`0`;let u=document.createElement(`div`);u.className=`animated-text-info`,u.style.background=`rgba(255, 255, 255, 0.95)`,u.style.backdropFilter=`blur(10px)`,u.style.padding=`1rem`,u.style.borderRadius=`0 8px 8px 0`,u.style.minWidth=`300px`,u.style.maxWidth=`350px`,u.style.height=`100%`,u.style.display=`flex`,u.style.flexDirection=`column`,u.style.justifyContent=`center`,u.style.opacity=`0`,u.style.width=`0`,u.style.overflow=`hidden`,u.style.transition=`all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)`;let d=document.createElement(`h3`);d.textContent=e.title,d.style.cssText=`margin: 0 0 0.5rem 0; font-size: 1.2rem; color: #333; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; opacity: 0; transform: translateY(20px); transition: all 0.6s ease;`,u.appendChild(d);let f=document.createElement(`p`);f.textContent=e.year,f.style.cssText=`margin: 0 0 0.5rem 0; color: #666; font-size: 0.9rem; opacity: 0; transform: translateY(20px); transition: all 0.6s ease;`,u.appendChild(f);let p=document.createElement(`div`);p.style.cssText=`display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem; opacity: 0; transform: translateY(20px); transition: all 0.6s ease;`;let m=document.createElement(`span`);m.textContent=`★`,m.style.cssText=`color: #ffd700; font-size: 1rem;`;let h=document.createElement(`span`);h.textContent=e.rating,h.style.cssText=`color: #333; font-weight: 600;`,p.appendChild(m),p.appendChild(h),u.appendChild(p);let g=document.createElement(`p`);g.textContent=e.description.substring(0,60)+`...`,g.style.cssText=`margin: 0 0 1rem 0; color: #555; font-size: 0.85rem; line-height: 1.4; opacity: 0; transform: translateY(20px); transition: all 0.6s ease;`,u.appendChild(g);let _=document.createElement(`div`);_.style.cssText=`margin-bottom: 0.5rem; opacity: 0; transform: translateY(20px); transition: all 0.6s ease;`;let v=document.createElement(`p`);v.textContent=`B站观看链接:`,v.style.cssText=`margin: 0 0 0.3rem 0; color: #333; font-size: 0.8rem; font-weight: 600;`;let y=document.createElement(`div`);e.biliLinks&&e.biliLinks.length>0?e.biliLinks.forEach(e=>{let t=document.createElement(`div`);t.style.cssText=`display: flex; flex-direction: column; margin-bottom: 10px; background: #f5f5f5; border-radius: 4px;`;let n=document.createElement(`div`);n.style.cssText=`display: flex; align-items: center; margin-bottom: 8px;`;let r=document.createElement(`a`);if(r.href=e.url,r.textContent=e.url,r.target=`_blank`,r.style.cssText=`word-break: break-all; color: #00a1d6; text-decoration: none; transition: all 0.3s ease; flex-grow: 1;`,r.addEventListener(`mouseenter`,()=>{r.style.color=`#ff6699`,r.style.textDecoration=`underline`}),r.addEventListener(`mouseleave`,()=>{r.style.color=`#00a1d6`,r.style.textDecoration=`none`}),n.appendChild(r),e.suspicious){let e=document.createElement(`span`);e.textContent=`可能失效`,e.style.cssText=`background-color: #FCE4EC; color: #E91E63; padding: 2px 6px; border-radius: 4px; font-size: 0.7rem; margin-left: 8px; white-space: nowrap;`,n.appendChild(e)}t.appendChild(n);let i=document.createElement(`div`);i.style.cssText=`display: flex; gap: 0.5rem;`;let a=document.createElement(`button`);a.className=`bili-copy-btn copy-btn`,a.style.cssText=`padding: 0.4rem 0.8rem; background: #fce4ec; color: #e91e63; border: none; border-radius: 4px; font-size: 0.75rem; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; white-space: nowrap;`;let o=document.createElement(`span`);o.className=`button-text`,o.textContent=`复制`,o.style.cssText=`margin-left: 6px; opacity: 0; width: 0; transition: all 0.3s ease; overflow: hidden;`;let s=document.createElement(`span`);s.className=`btn-icon`,s.style.marginLeft=`5px`,s.innerHTML=`<svg t="1749530288180" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7853" width="16" height="16" style="fill: currentColor;"><path d="M96 224l160-160h351.872C643.296 64 672 92.48 672 128.128V192h-64V159.968A31.776 31.776 0 0 0 576.032 128H352v160H160v448.032c0 17.92 14.304 31.968 31.968 31.968H256v64H160.128A63.968 63.968 0 0 1 96 767.872V224z m192-96L192 224h96V128z m64 288l160-160h352.16C899.424 256 928 284.512 928 319.712V896.32A63.744 63.744 0 0 1 864.16 960h-448.32A63.776 63.776 0 0 1 352 896.288V416z m192-96l-128 128h128v-128z m64 192h-192v352.224a32 32 0 0 0 32.224 31.776h383.552A32 32 0 0 0 864 864.224V351.776A32 32 0 0 0 831.776 320H608v192z" p-id="7854"></path></svg>`;let c=document.createElement(`span`);c.className=`btn-icon`,c.style.display=`none`,c.style.marginLeft=`5px`,c.innerHTML=`<svg t="1749531073420" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15547" width="16" height="16" style="fill: currentColor;"><path d="M335.872 734.208 108.544 506.88c-24.576-24.576-65.536-24.576-90.112 0-24.576 24.576-24.576 65.536 0 90.112l271.36 271.36c20.48 20.48 52.224 24.576 75.776 10.24 6.144-3.072 11.264-7.168 16.384-11.264l622.592-622.592c24.576-24.576 24.576-65.536 0-90.112-24.576-24.576-65.536-24.576-90.112 0L335.872 734.208z" p-id="15548"></path></svg>`,a.appendChild(s),a.appendChild(c),a.appendChild(o);let l=document.createElement(`button`);l.className=`bili-mark-btn mark-btn`;let u=e.suspicious===!0;l.style.cssText=`padding: 0.4rem 0.8rem; background: #fce4ec; color: #e91e63; border: none; border-radius: 4px; font-size: 0.75rem; cursor: ${u?`not-allowed`:`pointer`}; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; white-space: nowrap; opacity: 1;`,u&&(l.disabled=!0);let d=document.createElement(`span`);d.className=`mark-button-text`,d.textContent=`失效了`,d.style.cssText=`margin-left: 6px; opacity: 0; width: 0; transition: all 0.3s ease; overflow: hidden;`;let f=document.createElement(`span`);f.className=`mark-icon`,f.style.marginLeft=`5px`,f.innerHTML=`<svg t="1753159792531" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8435" width="16" height="16" style="fill: #e91e63;"><path d="M415.402667 550.528l-95.445334 95.232a43.776 43.776 0 0 0 0 63.488 44.032 44.032 0 0 0 63.616 0l95.445334-95.232 31.829333 31.744c36.394667 36.266667 36.394667 92.970667 0 129.28l-129.536 129.194667c-36.352 36.266667-93.184 36.266667-129.536 0l-129.578667-129.237334a90.197333 90.197333 0 0 1 0-129.237333l129.578667-129.237333a90.709333 90.709333 0 0 1 129.536 0l34.090667 34.005333z" fill="#e91e63" p-id="8436"></path><path d="M606.293333 487.04l95.488-95.189333a43.776 43.776 0 0 0 0-63.488 44.032 44.032 0 0 0-63.658666 0L542.72 423.594667l-31.829333-31.744a90.197333 90.197333 0 0 1 0-129.28l129.536-129.194667a90.709333 90.709333 0 0 1 129.578666 0l129.536 129.237333c36.352 36.266667 36.352 92.928 0 129.237334l-129.536 129.237333c-36.352 36.266667-93.184 36.266667-129.578666 0l-34.090667-34.005333z" fill="#e91e63" p-id="8437"></path><path d="M156.288 167.381333a44.032 44.032 0 0 1 63.658667 0L283.562667 230.826667a43.776 43.776 0 0 1 0 63.488 44.032 44.032 0 0 1-63.616 0L156.288 230.826667c-15.872-18.133333-15.872-47.616 0-63.488zM390.4 42.666667c25.002667 0 45.482667 20.394667 45.482667 45.354666v90.666667c0 24.96-20.48 45.354667-45.482667 45.354667a45.525333 45.525333 0 0 1-45.44-45.354667V88.021333C344.96 63.061333 365.44 42.666667 390.4 42.666667zM42.666667 391.850667c0-24.96 20.48-45.354667 45.44-45.354667h90.922666c25.002667 0 45.482667 20.394667 45.482667 45.354667 0 24.917333-20.48 45.312-45.482667 45.312h-90.88A45.525333 45.525333 0 0 1 42.666667 391.850667zM858.581333 865.706667a43.776 43.776 0 0 0 0-63.488l-63.616-63.488a44.032 44.032 0 0 0-63.658666 0 43.776 43.776 0 0 0 0 63.488l63.658666 63.488a44.032 44.032 0 0 0 63.616 0zM981.333333 634.453333c0-24.96-20.48-45.354667-45.44-45.354666h-90.922666c-25.002667 0-45.482667 20.394667-45.482667 45.354666 0 24.917333 20.48 45.312 45.482667 45.312h90.88c25.045333 0 45.482667-20.394667 45.482666-45.312zM633.6 981.333333c25.002667 0 45.44-20.394667 45.44-45.354666v-90.666667c0-24.96-20.48-45.354667-45.44-45.354667-25.002667 0-45.482667 20.394667-45.482667 45.354667v90.666667c0 24.96 20.48 45.354667 45.482667 45.354666z" fill="#e91e63" p-id="8438"></path></svg>`,l.appendChild(f),l.appendChild(d),i.appendChild(a),i.appendChild(l),t.appendChild(i),y.appendChild(t),a.addEventListener(`click`,t=>{t.stopPropagation(),navigator.clipboard.writeText(e.url).then(()=>{s.style.display=`none`,c.style.display=`inline-block`,a.classList.add(`success`),setTimeout(()=>{s.style.display=`inline-block`,c.style.display=`none`,a.classList.remove(`success`)},3e3)})}),a.addEventListener(`mouseenter`,()=>{a.style.background=`#f8bbd9`,o.style.opacity=`1`,o.style.width=`36px`}),a.addEventListener(`mouseleave`,()=>{a.style.background=`#fce4ec`,o.style.opacity=`0`,o.style.width=`0`}),l.addEventListener(`click`,async t=>{t.stopPropagation(),console.log(`标记按钮被点击，链接：`,e.url);try{if(e.suspicious){console.log(`此链接已被标记为可能失效，按钮应该被禁用`);return}if(!e.id){console.error(`链接缺少ID，无法更新数据库`),alert(`无法标记此链接，缺少必要的ID`);return}let t=confirm(`其他用户也会看到这个失效标记，是否确认标记？`);if(!t)return;let r=f.innerHTML;f.innerHTML=`<svg class="loading-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" style="fill: #e91e63; animation: spin 1s linear infinite;"><path d="M512 64c247.2 0 448 200.8 448 448S759.2 960 512 960 64 759.2 64 512h64c0 212 172 384 384 384s384-172 384-384-172-384-384-384V64z"></path></svg>`;let i=document.createElement(`style`);i.textContent=`
                  @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                  }
                `,document.head.appendChild(i),l.disabled=!0,l.style.opacity=`0.7`,l.style.cursor=`not-allowed`;let{error:a}=await Yf.from(`movie_bilibili_urls`).update({suspicious:!0}).eq(`id`,e.id);if(a){console.error(`更新链接状态失败:`,a),alert(`标记失效链接失败，请稍后再试`),f.innerHTML=r,l.disabled=!1,l.style.opacity=`1`,l.style.cursor=`pointer`;return}let o=document.createElement(`span`);o.textContent=`可能失效`,o.style.cssText=`background-color: #FCE4EC; color: #E91E63; padding: 2px 6px; border-radius: 4px; font-size: 0.7rem; margin-left: 8px; white-space: nowrap;`,n.appendChild(o),e.suspicious=!0,l.disabled=!0,l.style.cursor=`not-allowed`,f.innerHTML=r}catch(e){console.error(`标记链接失败:`,e),alert(`操作失败，请稍后再试`),f.innerHTML=originalIconHTML,l.disabled=!1,l.style.opacity=`1`,l.style.cursor=`pointer`}}),l.addEventListener(`mouseenter`,()=>{l.style.background=`#f8bbd9`,d.style.opacity=`1`,d.style.width=`36px`}),l.addEventListener(`mouseleave`,()=>{l.style.background=`#fce4ec`,d.style.opacity=`0`,d.style.width=`0`})}):y.textContent=`暂无播放链接`,y.style.cssText=`background: #f5f5f5; padding: 0.3rem; border-radius: 4px; font-size: 0.75rem; color: #666; word-break: break-all; margin-bottom: 0.5rem;`,_.appendChild(v),_.appendChild(y),u.appendChild(_);let b=document.createElement(`div`);b.style.cssText=`display: flex; gap: 0.5rem; opacity: 0; transform: translateY(20px); transition: all 0.6s ease;`;let x=document.createElement(`button`);x.className=`bili-copy-btn copy-btn`,x.style.cssText=`padding: 0.4rem 0.8rem; background: #fce4ec; color: #e91e63; border: none; border-radius: 4px; font-size: 0.75rem; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; white-space: nowrap;`;let S=document.createElement(`span`);S.className=`button-text`,S.textContent=`复制`,S.style.cssText=`margin-left: 6px; opacity: 0; width: 0; transition: all 0.3s ease; overflow: hidden;`;let C=document.createElement(`span`);C.className=`btn-icon`,C.style.marginLeft=`5px`,C.innerHTML=`<svg t="1749530288180" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7853" width="16" height="16" style="fill: currentColor;"><path d="M96 224l160-160h351.872C643.296 64 672 92.48 672 128.128V192h-64V159.968A31.776 31.776 0 0 0 576.032 128H352v160H160v448.032c0 17.92 14.304 31.968 31.968 31.968H256v64H160.128A63.968 63.968 0 0 1 96 767.872V224z m192-96L192 224h96V128z m64 288l160-160h352.16C899.424 256 928 284.512 928 319.712V896.32A63.744 63.744 0 0 1 864.16 960h-448.32A63.776 63.776 0 0 1 352 896.288V416z m192-96l-128 128h128v-128z m64 192h-192v352.224a32 32 0 0 0 32.224 31.776h383.552A32 32 0 0 0 864 864.224V351.776A32 32 0 0 0 831.776 320H608v192z" p-id="7854"></path></svg>`;let w=document.createElement(`span`);w.className=`btn-icon`,w.style.display=`none`,w.style.marginLeft=`5px`,w.innerHTML=`<svg t="1749531073420" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15547" width="16" height="16" style="fill: currentColor;"><path d="M335.872 734.208 108.544 506.88c-24.576-24.576-65.536-24.576-90.112 0-24.576 24.576-24.576 65.536 0 90.112l271.36 271.36c20.48 20.48 52.224 24.576 75.776 10.24 6.144-3.072 11.264-7.168 16.384-11.264l622.592-622.592c24.576-24.576 24.576-65.536 0-90.112-24.576-24.576-65.536-24.576-90.112 0L335.872 734.208z" p-id="15548"></path></svg>`,x.appendChild(C),x.appendChild(w),x.appendChild(S);let T=document.createElement(`button`);T.className=`bili-mark-btn mark-btn`,T.style.cssText=`padding: 0.4rem 0.8rem; background: #fce4ec; color: #e91e63; border: none; border-radius: 4px; font-size: 0.75rem; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; white-space: nowrap;`;let ee=document.createElement(`span`);ee.className=`mark-button-text`,ee.textContent=`失效了`,ee.style.cssText=`margin-left: 6px; opacity: 0; width: 0; transition: all 0.3s ease; overflow: hidden;`;let E=document.createElement(`span`);E.className=`mark-icon`,E.style.marginLeft=`5px`,E.innerHTML=`<svg t="1753159792531" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8435" width="16" height="16" style="fill: #e91e63;"><path d="M415.402667 550.528l-95.445334 95.232a43.776 43.776 0 0 0 0 63.488 44.032 44.032 0 0 0 63.616 0l95.445334-95.232 31.829333 31.744c36.394667 36.266667 36.394667 92.970667 0 129.28l-129.536 129.194667c-36.352 36.266667-93.184 36.266667-129.536 0l-129.578667-129.237334a90.197333 90.197333 0 0 1 0-129.237333l129.578667-129.237333a90.709333 90.709333 0 0 1 129.536 0l34.090667 34.005333z" fill="#e91e63" p-id="8436"></path><path d="M606.293333 487.04l95.488-95.189333a43.776 43.776 0 0 0 0-63.488 44.032 44.032 0 0 0-63.658666 0L542.72 423.594667l-31.829333-31.744a90.197333 90.197333 0 0 1 0-129.28l129.536-129.194667a90.709333 90.709333 0 0 1 129.578666 0l129.536 129.237333c36.352 36.266667 36.352 92.928 0 129.237334l-129.536 129.237333c-36.352 36.266667-93.184 36.266667-129.578666 0l-34.090667-34.005333z" fill="#e91e63" p-id="8437"></path><path d="M156.288 167.381333a44.032 44.032 0 0 1 63.658667 0L283.562667 230.826667a43.776 43.776 0 0 1 0 63.488 44.032 44.032 0 0 1-63.616 0L156.288 230.826667c-15.872-18.133333-15.872-47.616 0-63.488zM390.4 42.666667c25.002667 0 45.482667 20.394667 45.482667 45.354666v90.666667c0 24.96-20.48 45.354667-45.482667 45.354667a45.525333 45.525333 0 0 1-45.44-45.354667V88.021333C344.96 63.061333 365.44 42.666667 390.4 42.666667zM42.666667 391.850667c0-24.96 20.48-45.354667 45.44-45.354667h90.922666c25.002667 0 45.482667 20.394667 45.482667 45.354667 0 24.917333-20.48 45.312-45.482667 45.312h-90.88A45.525333 45.525333 0 0 1 42.666667 391.850667zM858.581333 865.706667a43.776 43.776 0 0 0 0-63.488l-63.616-63.488a44.032 44.032 0 0 0-63.658666 0 43.776 43.776 0 0 0 0 63.488l63.658666 63.488a44.032 44.032 0 0 0 63.616 0zM981.333333 634.453333c0-24.96-20.48-45.354667-45.44-45.354666h-90.922666c-25.002667 0-45.482667 20.394667-45.482667 45.354666 0 24.917333 20.48 45.312 45.482667 45.312h90.88c25.045333 0 45.482667-20.394667 45.482666-45.312zM633.6 981.333333c25.002667 0 45.44-20.394667 45.44-45.354666v-90.666667c0-24.96-20.48-45.354667-45.44-45.354667-25.002667 0-45.482667 20.394667-45.482667 45.354667v90.666667c0 24.96 20.48 45.354667 45.482667 45.354666z" fill="#e91e63" p-id="8438"></path></svg>`,T.appendChild(E),T.appendChild(ee),T.addEventListener(`click`,()=>{console.log(`标记按钮被点击`)}),T.addEventListener(`mouseenter`,()=>{T.style.background=`#f8bbd9`,ee.style.opacity=`1`,ee.style.width=`36px`}),T.addEventListener(`mouseleave`,()=>{T.style.background=`#fce4ec`,ee.style.opacity=`0`,ee.style.width=`0`});let D=[d,f,p,g,_];c.appendChild(l),c.appendChild(u),i.style.opacity=`0`,document.body.appendChild(c);let O=document.createElement(`button`);O.className=`return-button`,O.innerHTML=`×`,O.style.position=`absolute`,O.style.top=`10px`,O.style.right=`10px`,O.style.width=`40px`,O.style.height=`40px`,O.style.borderRadius=`50%`,O.style.border=`none`,O.style.background=`rgba(0, 0, 0, 0.7)`,O.style.color=`white`,O.style.fontSize=`24px`,O.style.cursor=`pointer`,O.style.display=`flex`,O.style.alignItems=`center`,O.style.justifyContent=`center`,O.style.zIndex=`100000`,O.style.opacity=`0`,O.style.transition=`all 0.3s ease`,O.style.transform=`scale(0.8)`,O.addEventListener(`click`,s),c.appendChild(O),requestAnimationFrame(()=>{o.style.opacity=`1`;let e=Math.min(window.innerWidth*.8,600),t=window.innerHeight*.8,n=a.width/a.height,r,i;e/n<=t?(r=Math.round(e),i=Math.round(e/n)):(i=Math.round(t),r=Math.round(t*n));let s=350,l=Math.round((window.innerWidth-r)/2-s/4),d=Math.round((window.innerHeight-i)/2);c.style.left=`${l}px`,c.style.top=`${d}px`,c.style.width=`${r}px`,c.style.height=`${i}px`,c.style.transform=`scale(1)`,c.style.zIndex=`99999`,u.style.opacity=`1`,u.style.width=u.style.maxWidth,D.forEach((e,t)=>{setTimeout(()=>{e.style.opacity=`1`,e.style.transform=`translateY(0)`},0+t*100)}),setTimeout(()=>{O.style.opacity=`1`,O.style.transform=`scale(1)`},400)})},s=()=>{let e=document.querySelector(`.animated-poster-container`),t=e?.querySelector(`.animated-text-info`),i=document.querySelector(`.blur-background`),a=document.querySelector(`.return-button`);e&&e.parentNode&&n.value&&r.value?(i&&(i.style.opacity=`0`),t&&(t.style.opacity=`0`,t.style.width=`0`),a&&(a.style.opacity=`0`,a.style.transform=`scale(0.8)`),e.style.left=`${Math.round(n.value.left)}px`,e.style.top=`${Math.round(n.value.top)}px`,e.style.width=`${Math.round(n.value.width)}px`,e.style.height=`${Math.round(n.value.height)}px`,e.style.transform=`scale(1)`,e.style.zIndex=`9999`,setTimeout(()=>{e.parentNode&&document.body.removeChild(e),i&&i.parentNode&&document.body.removeChild(i),r.value&&(r.value.style.transition=`none`,r.value.style.opacity=`1`,requestAnimationFrame(()=>{r.value&&(r.value.style.transition=`opacity 0.3s ease`)})),n.value=null,r.value=null},400)):e&&e.parentNode&&document.body.removeChild(e)};return tr(()=>{console.log(`电影展示组件已加载`),console.log(`电影数据:`,i.value)}),(e,t)=>(H(),U(`div`,vp,[a.value?(H(),U(`div`,yp,[(H(),U(V,null,dr(8,e=>W(`div`,{key:`skeleton-${e}`,class:`movie-card skeleton-card`},t[0]||=[Ki(`<div class="movie-poster skeleton-poster" data-v-e9f35ab0><div class="skeleton-image" data-v-e9f35ab0></div><div class="skeleton-overlay" data-v-e9f35ab0><div class="skeleton-rating" data-v-e9f35ab0></div></div></div><div class="movie-info" data-v-e9f35ab0><div class="skeleton-title" data-v-e9f35ab0></div><div class="skeleton-year" data-v-e9f35ab0></div></div>`,2)])),64))])):i.value.length?(H(),U(`div`,xp,[(H(!0),U(V,null,dr(i.value,e=>(H(),U(`div`,{key:e.id,class:`movie-card`,onClick:t=>o(e,t)},[W(`div`,Cp,[W(`img`,{src:e.poster,alt:e.title,class:`poster-image`,loading:`lazy`},null,8,wp),W(`div`,Tp,[W(`div`,Ep,[t[2]||=W(`span`,{class:`rating-star`},`★`,-1),Gi(` `+je(e.rating),1)])])]),W(`div`,Dp,[W(`h3`,Op,je(e.title),1),W(`p`,kp,je(e.year),1)])],8,Sp))),128))])):(H(),U(`div`,bp,t[1]||=[W(`p`,null,`暂时没有数据`,-1)]))]))}}),jp=Cc(Ap,[[`__scopeId`,`data-v-e9f35ab0`]]);const Mp={class:`home-container`},Np={class:`featured-section`};var Pp=Un({__name:`HomeView`,setup(e){let t=B(`currentMovies`),n=B(`currentLoadingState`);return(e,r)=>(H(),U(`div`,Mp,[W(`div`,Np,[G(jp,{"db-movies":rn(t),"is-loading":rn(n)},null,8,[`db-movies`,`is-loading`])])]))}}),Fp=Cc(Pp,[[`__scopeId`,`data-v-be6b6d16`]]);const Ip=yc({history:Cs(`/`),routes:[{path:`/`,name:`home`,component:Fp},{path:`/movie`,name:`movie`,component:Fp},{path:`/anime`,name:`anime`,component:Fp},{path:`/documentary`,name:`documentary`,component:Fp},{path:`/series`,name:`series`,component:Fp},{path:`/about`,name:`about`,component:()=>tl(()=>import(`./AboutView-Bh5KwpMd.js`),__vite__mapDeps([0,1]))}]});var Lp=Ip;const Rp=go(_p);Rp.use(Lp),Rp.mount(`#app`);export{hl as b,gl as c,_l as d,ml as e,pl as f,vl as g,Cc as h,W as i,U as j,Un as k,H as l};